/*!
 * jQuery JavaScript Library v1.9.0
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2012 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-1-14
 */
function callback(e,t){alert(t.error)}(function(e,t){"use strict";function _(e){var t=e.length,n=y.type(e);return y.isWindow(e)?!1:e.nodeType===1&&t?!0:n==="array"||n!=="function"&&(t===0||typeof t=="number"&&t>0&&t-1 in e)}function P(e){var t=D[e]={};return y.each(e.match(w)||[],function(e,n){t[n]=!0}),t}function j(e,n,r,i){if(!y.acceptData(e))return;var s,o,u=y.expando,a=typeof n=="string",l=e.nodeType,c=l?y.cache:e,h=l?e[u]:e[u]&&u;if((!h||!c[h]||!i&&!c[h].data)&&a&&r===t)return;h||(l?e[u]=h=f.pop()||y.guid++:h=u),c[h]||(c[h]={},l||(c[h].toJSON=y.noop));if(typeof n=="object"||typeof n=="function")i?c[h]=y.extend(c[h],n):c[h].data=y.extend(c[h].data,n);return s=c[h],i||(s.data||(s.data={}),s=s.data),r!==t&&(s[y.camelCase(n)]=r),a?(o=s[n],o==null&&(o=s[y.camelCase(n)])):o=s,o}function F(e,t,n){if(!y.acceptData(e))return;var r,i,s,o=e.nodeType,u=o?y.cache:e,a=o?e[y.expando]:y.expando;if(!u[a])return;if(t){r=n?u[a]:u[a].data;if(r){y.isArray(t)?t=t.concat(y.map(t,y.camelCase)):t in r?t=[t]:(t=y.camelCase(t),t in r?t=[t]:t=t.split(" "));for(i=0,s=t.length;i<s;i++)delete r[t[i]];if(!(n?q:y.isEmptyObject)(r))return}}if(!n){delete u[a].data;if(!q(u[a]))return}o?y.cleanData([e],!0):y.support.deleteExpando||u!=u.window?delete u[a]:u[a]=null}function I(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(B,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:H.test(r)?y.parseJSON(r):r}catch(s){}y.data(e,n,r)}else r=t}return r}function q(e){var t;for(t in e){if(t==="data"&&y.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function nt(){return!0}function rt(){return!1}function ft(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}function lt(e,t,n){t=t||0;if(y.isFunction(t))return y.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return y.grep(e,function(e){return e===t===n});if(typeof t=="string"){var r=y.grep(e,function(e){return e.nodeType===1});if(ot.test(t))return y.filter(t,r,!n);t=y.filter(t,r)}return y.grep(e,function(e){return y.inArray(e,t)>=0===n})}function ct(e){var t=ht.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function At(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function Ot(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function Mt(e){var t=Tt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function _t(e,t){var n,r=0;for(;(n=e[r])!=null;r++)y._data(n,"globalEval",!t||y._data(t[r],"globalEval"))}function Dt(e,t){if(t.nodeType!==1||!y.hasData(e))return;var n,r,i,s=y._data(e),o=y._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;r<i;r++)y.event.add(t,n,u[n][r])}o.data&&(o.data=y.extend({},o.data))}function Pt(e,t){var n,r,i;if(t.nodeType!==1)return;n=t.nodeName.toLowerCase();if(!y.support.noCloneEvent&&t[y.expando]){r=y._data(t);for(i in r.events)y.removeEvent(t,i,r.handle);t.removeAttribute(y.expando)}if(n==="script"&&t.text!==e.text)Ot(t).text=e.text,Mt(t);else if(n==="object")t.parentNode&&(t.outerHTML=e.outerHTML),y.support.html5Clone&&e.innerHTML&&!y.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML);else if(n==="input"&&Et.test(e.type))t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value);else if(n==="option")t.defaultSelected=t.selected=e.defaultSelected;else if(n==="input"||n==="textarea")t.defaultValue=e.defaultValue}function Ht(e,n){var r,i,s=0,o=typeof e.getElementsByTagName!="undefined"?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!="undefined"?e.querySelectorAll(n||"*"):t;if(!o)for(o=[],r=e.childNodes||e;(i=r[s])!=null;s++)!n||y.nodeName(i,n)?o.push(i):y.merge(o,Ht(i,n));return n===t||n&&y.nodeName(e,n)?y.merge([e],o):o}function Bt(e){Et.test(e.type)&&(e.defaultChecked=e.checked)}function Zt(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Yt.length;while(i--){t=Yt[i]+n;if(t in e)return t}return r}function en(e,t){return e=t||e,y.css(e,"display")==="none"||!y.contains(e.ownerDocument,e)}function tn(e,t){var n,r=[],i=0,s=e.length;for(;i<s;i++){n=e[i];if(!n.style)continue;r[i]=y._data(n,"olddisplay"),t?(!r[i]&&n.style.display==="none"&&(n.style.display=""),n.style.display===""&&en(n)&&(r[i]=y._data(n,"olddisplay",on(n.nodeName)))):!r[i]&&!en(n)&&y._data(n,"olddisplay",y.css(n,"display"))}for(i=0;i<s;i++){n=e[i];if(!n.style)continue;if(!t||n.style.display==="none"||n.style.display==="")n.style.display=t?r[i]||"":"none"}return e}function nn(e,t,n){var r=Xt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function rn(e,t,n,r,i){var s=n===(r?"border":"content")?4:t==="width"?1:0,o=0;for(;s<4;s+=2)n==="margin"&&(o+=y.css(e,n+Gt[s],!0,i)),r?(n==="content"&&(o-=y.css(e,"padding"+Gt[s],!0,i)),n!=="margin"&&(o-=y.css(e,"border"+Gt[s]+"Width",!0,i))):(o+=y.css(e,"padding"+Gt[s],!0,i),n!=="padding"&&(o+=y.css(e,"border"+Gt[s]+"Width",!0,i)));return o}function sn(e,t,n){var r=!0,i=t==="width"?e.offsetWidth:e.offsetHeight,s=Ft(e),o=y.support.boxSizing&&y.css(e,"boxSizing",!1,s)==="border-box";if(i<=0||i==null){i=jt(e,t,s);if(i<0||i==null)i=e.style[t];if(Vt.test(i))return i;r=o&&(y.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+rn(e,t,n||(o?"border":"content"),r,s)+"px"}function on(e){var t=i,n=Jt[e];if(!n){n=un(e,t);if(n==="none"||!n)It=(It||y("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(It[0].contentWindow||It[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=un(e,t),It.detach();Jt[e]=n}return n}function un(e,t){var n=y(t.createElement(e)).appendTo(t.body),r=y.css(n[0],"display");return n.remove(),r}function pn(e,t,n,r){var i;if(y.isArray(t))y.each(t,function(t,i){n||fn.test(e)?r(e,i):pn(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&y.type(t)==="object")for(i in t)pn(e+"["+i+"]",t[i],n,r);else r(e,t)}function On(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(w)||[];if(y.isFunction(n))while(r=s[i++])r[0]==="+"?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Mn(e,t,n,r){function o(u){var a;return i[u]=!0,y.each(e[u]||[],function(e,u){var f=u(t,n,r);if(typeof f=="string"&&!s&&!i[f])return t.dataTypes.unshift(f),o(f),!1;if(s)return!(a=f)}),a}var i={},s=e===kn;return o(t.dataTypes[0])||!i["*"]&&o("*")}function _n(e,n){var r,i,s=y.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((s[r]?e:i||(i={}))[r]=n[r]);return i&&y.extend(!0,e,i),e}function Dn(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes,l=e.responseFields;for(s in l)s in r&&(n[l[s]]=r[s]);while(f[0]==="*")f.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("Content-Type"));if(i)for(s in a)if(a[s]&&a[s].test(i)){f.unshift(s);break}if(f[0]in r)o=f[0];else{for(s in r){if(!f[0]||e.converters[s+" "+f[0]]){o=s;break}u||(u=s)}o=o||u}if(o)return o!==f[0]&&f.unshift(o),r[o]}function Pn(e,t){var n,r,i,s,o={},u=0,a=e.dataTypes.slice(),f=a[0];e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(a[1])for(n in e.converters)o[n.toLowerCase()]=e.converters[n];for(;i=a[++u];)if(i!=="*"){if(f!=="*"&&f!==i){n=o[f+" "+i]||o["* "+i];if(!n)for(r in o){s=r.split(" ");if(s[1]===i){n=o[f+" "+s[0]]||o["* "+s[0]];if(n){n===!0?n=o[r]:o[r]!==!0&&(i=s[0],a.splice(u--,0,i));break}}}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(l){return{state:"parsererror",error:n?l:"No conversion from "+f+" to "+i}}}f=i}return{state:"success",data:t}}function Rn(){try{return new e.XMLHttpRequest}catch(t){}}function Un(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function Qn(){return setTimeout(function(){zn=t}),zn=y.now()}function Gn(e,t){y.each(t,function(t,n){var r=(Kn[t]||[]).concat(Kn["*"]),i=0,s=r.length;for(;i<s;i++)if(r[i].call(e,t,n))return})}function Yn(e,t,n){var r,i,s=0,o=Jn.length,u=y.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;var t=zn||Qn(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;for(;o<a;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),s<1&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:y.extend({},t),opts:y.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:zn||Qn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=y.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;i=!0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;Zn(l,f.opts.specialEasing);for(;s<o;s++){r=Jn[s].call(f,e,l,f.opts);if(r)return r}return Gn(f,l),y.isFunction(f.opts.start)&&f.opts.start.call(e,f),y.fx.timer(y.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function Zn(e,t){var n,r,i,s,o;for(n in e){r=y.camelCase(n),i=t[r],s=e[n],y.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=y.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function er(e,t,n){var r,i,s,o,u,a,f,l,c,h=this,p=e.style,d={},v=[],m=e.nodeType&&en(e);n.queue||(l=y._queueHooks(e,"fx"),l.unqueued==null&&(l.unqueued=0,c=l.empty.fire,l.empty.fire=function(){l.unqueued||c()}),l.unqueued++,h.always(function(){h.always(function(){l.unqueued--,y.queue(e,"fx").length||l.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],y.css(e,"display")==="inline"&&y.css(e,"float")==="none"&&(!y.support.inlineBlockNeedsLayout||on(e.nodeName)==="inline"?p.display="inline-block":p.zoom=1)),n.overflow&&(p.overflow="hidden",y.support.shrinkWrapBlocks||h.done(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t){s=t[r];if(Xn.exec(s)){delete t[r],a=a||s==="toggle";if(s===(m?"hide":"show"))continue;v.push(r)}}o=v.length;if(o){u=y._data(e,"fxshow")||y._data(e,"fxshow",{}),"hidden"in u&&(m=u.hidden),a&&(u.hidden=!m),m?y(e).show():h.done(function(){y(e).hide()}),h.done(function(){var t;y._removeData(e,"fxshow");for(t in d)y.style(e,t,d[t])});for(r=0;r<o;r++)i=v[r],f=h.createTween(i,m?u[i]:0),d[i]=u[i]||y.style(e,i),i in u||(u[i]=f.start,m&&(f.end=f.start,f.start=i==="width"||i==="height"?1:0))}}function tr(e,t,n,r,i){return new tr.prototype.init(e,t,n,r,i)}function nr(e,t){var n,r={height:e},i=0;t=t?1:0;for(;i<4;i+=2-t)n=Gt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function rr(e){return y.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var n,r,i=e.document,s=e.location,o=e.jQuery,u=e.$,a={},f=[],l="1.9.0",c=f.concat,h=f.push,p=f.slice,d=f.indexOf,v=a.toString,m=a.hasOwnProperty,g=l.trim,y=function(e,t){return new y.fn.init(e,t,n)},b=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,w=/\S+/g,E=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,S=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,x=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,T=/^[\],:{}\s]*$/,N=/(?:^|:|,)(?:\s*\[)+/g,C=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,k=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,L=/^-ms-/,A=/-([\da-z])/gi,O=function(e,t){return t.toUpperCase()},M=function(){i.addEventListener?(i.removeEventListener("DOMContentLoaded",M,!1),y.ready()):i.readyState==="complete"&&(i.detachEvent("onreadystatechange",M),y.ready())};y.fn=y.prototype={jquery:l,constructor:y,init:function(e,n,r){var s,o;if(!e)return this;if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?s=[null,e,null]:s=S.exec(e);if(s&&(s[1]||!n)){if(s[1]){n=n instanceof y?n[0]:n,y.merge(this,y.parseHTML(s[1],n&&n.nodeType?n.ownerDocument||n:i,!0));if(x.test(s[1])&&y.isPlainObject(n))for(s in n)y.isFunction(this[s])?this[s](n[s]):this.attr(s,n[s]);return this}o=i.getElementById(s[2]);if(o&&o.parentNode){if(o.id!==s[2])return r.find(e);this.length=1,this[0]=o}return this.context=i,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return e.nodeType?(this.context=this[0]=e,this.length=1,this):y.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),y.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return p.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e){var t=y.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return y.each(this,e,t)},ready:function(e){return y.ready.promise().done(e),this},slice:function(){return this.pushStack(p.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},map:function(e){return this.pushStack(y.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:h,sort:[].sort,splice:[].splice},y.fn.init.prototype=y.fn,y.extend=y.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;typeof u=="boolean"&&(l=u,u=arguments[1]||{},a=2),typeof u!="object"&&!y.isFunction(u)&&(u={}),f===a&&(u=this,--a);for(;a<f;a++)if((e=arguments[a])!=null)for(n in e){r=u[n],i=e[n];if(u===i)continue;l&&i&&(y.isPlainObject(i)||(s=y.isArray(i)))?(s?(s=!1,o=r&&y.isArray(r)?r:[]):o=r&&y.isPlainObject(r)?r:{},u[n]=y.extend(l,o,i)):i!==t&&(u[n]=i)}return u},y.extend({noConflict:function(t){return e.$===y&&(e.$=u),t&&e.jQuery===y&&(e.jQuery=o),y},isReady:!1,readyWait:1,holdReady:function(e){e?y.readyWait++:y.ready(!0)},ready:function(e){if(e===!0?--y.readyWait:y.isReady)return;if(!i.body)return setTimeout(y.ready);y.isReady=!0;if(e!==!0&&--y.readyWait>0)return;r.resolveWith(i,[y]),y.fn.trigger&&y(i).trigger("ready").off("ready")},isFunction:function(e){return y.type(e)==="function"},isArray:Array.isArray||function(e){return y.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):typeof e=="object"||typeof e=="function"?a[v.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||y.type(e)!=="object"||e.nodeType||y.isWindow(e))return!1;try{if(e.constructor&&!m.call(e,"constructor")&&!m.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||m.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(n=t,t=!1),t=t||i;var r=x.exec(e),s=!n&&[];return r?[t.createElement(r[1])]:(r=y.buildFragment([e],t,s),s&&y(s).remove(),y.merge([],r.childNodes))},parseJSON:function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(t===null)return t;if(typeof t=="string"){t=y.trim(t);if(t&&T.test(t.replace(C,"@").replace(k,"]").replace(N,"")))return(new Function("return "+t))()}y.error("Invalid JSON: "+t)},parseXML:function(n){var r,i;if(!n||typeof n!="string")return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(s){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&y.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&y.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(L,"ms-").replace(A,O)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,s=e.length,o=_(e);if(n)if(o)for(;i<s;i++){r=t.apply(e[i],n);if(r===!1)break}else for(i in e){r=t.apply(e[i],n);if(r===!1)break}else if(o)for(;i<s;i++){r=t.call(e[i],i,e[i]);if(r===!1)break}else for(i in e){r=t.call(e[i],i,e[i]);if(r===!1)break}return e},trim:g&&!g.call("﻿ ")?function(e){return e==null?"":g.call(e)}:function(e){return e==null?"":(e+"").replace(E,"")},makeArray:function(e,t){var n=t||[];return e!=null&&(_(Object(e))?y.merge(n,typeof e=="string"?[e]:e):h.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(d)return d.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if(typeof r=="number")for(;s<r;s++)e[i++]=n[s];else while(n[s]!==t)e[i++]=n[s++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;n=!!n;for(;s<o;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,t,n){var r,i=0,s=e.length,o=_(e),u=[];if(o)for(;i<s;i++)r=t(e[i],i,n),r!=null&&(u[u.length]=r);else for(i in e)r=t(e[i],i,n),r!=null&&(u[u.length]=r);return c.apply([],u)},guid:1,proxy:function(e,n){var r,i,s;return typeof n=="string"&&(r=e[n],n=e,e=r),y.isFunction(e)?(i=p.call(arguments,2),s=function(){return e.apply(n||this,i.concat(p.call(arguments)))},s.guid=e.guid=e.guid||y.guid++,s):t},access:function(e,n,r,i,s,o,u){var a=0,f=e.length,l=r==null;if(y.type(r)==="object"){s=!0;for(a in r)y.access(e,n,a,r[a],!0,o,u)}else if(i!==t){s=!0,y.isFunction(i)||(u=!0),l&&(u?(n.call(e,i),n=null):(l=n,n=function(e,t,n){return l.call(y(e),n)}));if(n)for(;a<f;a++)n(e[a],r,u?i:i.call(e[a],a,n(e[a],r)))}return s?e:l?n.call(e):f?n(e[0],r):o},now:function(){return(new Date).getTime()}}),y.ready.promise=function(t){if(!r){r=y.Deferred();if(i.readyState==="complete")setTimeout(y.ready);else if(i.addEventListener)i.addEventListener("DOMContentLoaded",M,!1),e.addEventListener("load",y.ready,!1);else{i.attachEvent("onreadystatechange",M),e.attachEvent("onload",y.ready);var n=!1;try{n=e.frameElement==null&&i.documentElement}catch(s){}n&&n.doScroll&&function o(){if(!y.isReady){try{n.doScroll("left")}catch(e){return setTimeout(o,50)}y.ready()}}()}}return r.promise(t)},y.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){a["[object "+t+"]"]=t.toLowerCase()}),n=y(i);var D={};y.Callbacks=function(e){e=typeof e=="string"?D[e]||P(e):y.extend({},e);var n,r,i,s,o,u,a=[],f=!e.once&&[],l=function(t){n=e.memory&&t,r=!0,u=s||0,s=0,o=a.length,i=!0;for(;a&&u<o;u++)if(a[u].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}i=!1,a&&(f?f.length&&l(f.shift()):n?a=[]:c.disable())},c={add:function(){if(a){var t=a.length;(function r(t){y.each(t,function(t,n){var i=y.type(n);i==="function"?(!e.unique||!c.has(n))&&a.push(n):n&&n.length&&i!=="string"&&r(n)})})(arguments),i?o=a.length:n&&(s=t,l(n))}return this},remove:function(){return a&&y.each(arguments,function(e,t){var n;while((n=y.inArray(t,a,n))>-1)a.splice(n,1),i&&(n<=o&&o--,n<=u&&u--)}),this},has:function(e){return y.inArray(e,a)>-1},empty:function(){return a=[],this},disable:function(){return a=f=n=t,this},disabled:function(){return!a},lock:function(){return f=t,n||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],a&&(!r||f)&&(i?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},y.extend({Deferred:function(e){var t=[["resolve","done",y.Callbacks("once memory"),"resolved"],["reject","fail",y.Callbacks("once memory"),"rejected"],["notify","progress",y.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return y.Deferred(function(n){y.each(t,function(t,s){var o=s[0],u=y.isFunction(e[t])&&e[t];i[s[1]](function(){var e=u&&u.apply(this,arguments);e&&y.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===r?n.promise():this,u?[e]:arguments)})}),e=null}).promise()},promise:function(e){return e!=null?y.extend(e,r):r}},i={};return r.pipe=r.then,y.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=p.call(arguments),r=n.length,i=r!==1||e&&y.isFunction(e.promise)?r:0,s=i===1?e:y.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?p.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&y.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}}),y.support=function(){var t,n,r,s,o,u,a,f,l,c,h=i.createElement("div");h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=h.getElementsByTagName("*"),r=h.getElementsByTagName("a")[0];if(!n||!r||!n.length)return{};s=i.createElement("select"),o=s.appendChild(i.createElement("option")),u=h.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:h.className!=="t",leadingWhitespace:h.firstChild.nodeType===3,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:r.getAttribute("href")==="/a",opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:!!u.value,optSelected:o.selected,enctype:!!i.createElement("form").enctype,html5Clone:i.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:i.compatMode==="CSS1Compat",deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},u.checked=!0,t.noCloneChecked=u.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!o.disabled;try{delete h.test}catch(p){t.deleteExpando=!1}u=i.createElement("input"),u.setAttribute("value",""),t.input=u.getAttribute("value")==="",u.value="t",u.setAttribute("type","radio"),t.radioValue=u.value==="t",u.setAttribute("checked","t"),u.setAttribute("name","t"),a=i.createDocumentFragment(),a.appendChild(u),t.appendChecked=u.checked,t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,h.attachEvent&&(h.attachEvent("onclick",function(){t.noCloneEvent=!1}),h.cloneNode(!0).click());for(c in{submit:!0,change:!0,focusin:!0})h.setAttribute(f="on"+c,"t"),t[c+"Bubbles"]=f in e||h.attributes[f].expando===!1;return h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle=h.style.backgroundClip==="content-box",y(function(){var n,r,s,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",u=i.getElementsByTagName("body")[0];if(!u)return;n=i.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",u.appendChild(n).appendChild(h),h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=h.getElementsByTagName("td"),s[0].style.cssText="padding:0;margin:0;border:0;display:none",l=s[0].offsetHeight===0,s[0].style.display="",s[1].style.display="none",t.reliableHiddenOffsets=l&&s[0].offsetHeight===0,h.innerHTML="",h.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=h.offsetWidth===4,t.doesNotIncludeMarginInBodyOffset=u.offsetTop!==1,e.getComputedStyle&&(t.pixelPosition=(e.getComputedStyle(h,null)||{}).top!=="1%",t.boxSizingReliable=(e.getComputedStyle(h,null)||{width:"4px"}).width==="4px",r=h.appendChild(i.createElement("div")),r.style.cssText=h.style.cssText=o,r.style.marginRight=r.style.width="0",h.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof h.style.zoom!="undefined"&&(h.innerHTML="",h.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=h.offsetWidth===3,h.style.display="block",h.innerHTML="<div></div>",h.firstChild.style.width="5px",t.shrinkWrapBlocks=h.offsetWidth!==3,u.style.zoom=1),u.removeChild(n),n=h=s=r=null}),n=s=a=o=r=u=null,t}();var H=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,B=/([A-Z])/g;y.extend({cache:{},expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?y.cache[e[y.expando]]:e[y.expando],!!e&&!q(e)},data:function(e,t,n){return j(e,t,n,!1)},removeData:function(e,t){return F(e,t,!1)},_data:function(e,t,n){return j(e,t,n,!0)},_removeData:function(e,t){return F(e,t,!0)},acceptData:function(e){var t=e.nodeName&&y.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),y.fn.extend({data:function(e,n){var r,i,s=this[0],o=0,u=null;if(e===t){if(this.length){u=y.data(s);if(s.nodeType===1&&!y._data(s,"parsedAttrs")){r=s.attributes;for(;o<r.length;o++)i=r[o].name,i.indexOf("data-")||(i=y.camelCase(i.substring(5)),I(s,i,u[i]));y._data(s,"parsedAttrs",!0)}}return u}return typeof e=="object"?this.each(function(){y.data(this,e)}):y.access(this,function(n){if(n===t)return s?I(s,e,y.data(s,e)):null;this.each(function(){y.data(this,e,n)})},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){y.removeData(this,e)})}}),y.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=y._data(e,t),n&&(!r||y.isArray(n)?r=y._data(e,t,y.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=y.queue(e,t),r=n.length,i=n.shift(),s=y._queueHooks(e,t),o=function(){y.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),s.cur=i,i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return y._data(e,n)||y._data(e,n,{empty:y.Callbacks("once memory").add(function(){y._removeData(e,t+"queue"),y._removeData(e,n)})})}}),y.fn.extend({queue:function(e,n){var r=2;return typeof e!="string"&&(n=e,e="fx",r--),arguments.length<r?y.queue(this[0],e):n===t?this:this.each(function(){var t=y.queue(this,e,n);y._queueHooks(this,e),e==="fx"&&t[0]!=="inprogress"&&y.dequeue(this,e)})},dequeue:function(e){return this.each(function(){y.dequeue(this,e)})},delay:function(e,t){return e=y.fx?y.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,s=y.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};typeof e!="string"&&(n=e,e=t),e=e||"fx";while(u--)r=y._data(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(n)}});var R,U,z=/[\t\r\n]/g,W=/\r/g,X=/^(?:input|select|textarea|button|object)$/i,V=/^(?:a|area)$/i,$=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,J=/^(?:checked|selected)$/i,K=y.support.getSetAttribute,Q=y.support.input;y.fn.extend({attr:function(e,t){return y.access(this,y.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){y.removeAttr(this,e)})},prop:function(e,t){return y.access(this,y.prop,e,t,arguments.length>1)},removeProp:function(e){return e=y.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o=0,u=this.length,a=typeof e=="string"&&e;if(y.isFunction(e))return this.each(function(t){y(this).addClass(e.call(this,t,this.className))});if(a){t=(e||"").match(w)||[];for(;o<u;o++){n=this[o],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(z," "):" ");if(r){s=0;while(i=t[s++])r.indexOf(" "+i+" ")<0&&(r+=i+" ");n.className=y.trim(r)}}}return this},removeClass:function(e){var t,n,r,i,s,o=0,u=this.length,a=arguments.length===0||typeof e=="string"&&e;if(y.isFunction(e))return this.each(function(t){y(this).removeClass(e.call(this,t,this.className))});if(a){t=(e||"").match(w)||[];for(;o<u;o++){n=this[o],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(z," "):"");if(r){s=0;while(i=t[s++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?y.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e,r=typeof t=="boolean";return y.isFunction(e)?this.each(function(n){y(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var i,s=0,o=y(this),u=t,a=e.match(w)||[];while(i=a[s++])u=r?u:!o.hasClass(i),o[u?"addClass":"removeClass"](i)}else if(n==="undefined"||n==="boolean")this.className&&y._data(this,"__className__",this.className),this.className=this.className||e===!1?"":y._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(z," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(!arguments.length){if(s)return n=y.valHooks[s.type]||y.valHooks[s.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(s,"value"))!==t?r:(r=s.value,typeof r=="string"?r.replace(W,""):r==null?"":r);return}return i=y.isFunction(e),this.each(function(r){var s,o=y(this);if(this.nodeType!==1)return;i?s=e.call(this,r,o.val()):s=e,s==null?s="":typeof s=="number"?s+="":y.isArray(s)&&(s=y.map(s,function(e){return e==null?"":e+""})),n=y.valHooks[this.type]||y.valHooks[this.nodeName.toLowerCase()];if(!n||!("set"in n)||n.set(this,s,"value")===t)this.value=s})}}),y.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(y.support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!y.nodeName(n.parentNode,"optgroup"))){t=y(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n=y.makeArray(t);return y(e).find("option").each(function(){this.selected=y.inArray(y(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,r){var i,s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;if(typeof e.getAttribute=="undefined")return y.prop(e,n,r);o=u!==1||!y.isXMLDoc(e),o&&(n=n.toLowerCase(),s=y.attrHooks[n]||($.test(n)?U:R));if(r===t)return s&&o&&"get"in s&&(i=s.get(e,n))!==null?i:(typeof e.getAttribute!="undefined"&&(i=e.getAttribute(n)),i==null?t:i);if(r!==null)return s&&o&&"set"in s&&(i=s.set(e,r,n))!==t?i:(e.setAttribute(n,r+""),r);y.removeAttr(e,n)},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(w);if(s&&e.nodeType===1)while(n=s[i++])r=y.propFix[n]||n,$.test(n)?!K&&J.test(n)?e[y.camelCase("default-"+n)]=e[r]=!1:e[r]=!1:y.attr(e,n,""),e.removeAttribute(K?n:r)},attrHooks:{type:{set:function(e,t){if(!y.support.radioValue&&t==="radio"&&y.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;return o=u!==1||!y.isXMLDoc(e),o&&(n=y.propFix[n]||n,s=y.propHooks[n]),r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&(i=s.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):X.test(e.nodeName)||V.test(e.nodeName)&&e.href?0:t}}}}),U={get:function(e,n){var r=y.prop(e,n),i=typeof r=="boolean"&&e.getAttribute(n),s=typeof r=="boolean"?Q&&K?i!=null:J.test(n)?e[y.camelCase("default-"+n)]:!!i:e.getAttributeNode(n);return s&&s.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?y.removeAttr(e,n):Q&&K||!J.test(n)?e.setAttribute(!K&&y.propFix[n]||n,n):e[y.camelCase("default-"+n)]=e[n]=!0,n}};if(!Q||!K)y.attrHooks.value={get:function(e,n){var r=e.getAttributeNode(n);return y.nodeName(e,"input")?e.defaultValue:r&&r.specified?r.value:t},set:function(e,t,n){if(!y.nodeName(e,"input"))return R&&R.set(e,t,n);e.defaultValue=t}};K||(R=y.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&(n==="id"||n==="name"||n==="coords"?r.value!=="":r.specified)?r.value:t},set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=
e.ownerDocument.createAttribute(r)),i.value=n+="",r==="value"||n===e.getAttribute(r)?n:t}},y.attrHooks.contenteditable={get:R.get,set:function(e,t,n){R.set(e,t===""?!1:t,n)}},y.each(["width","height"],function(e,t){y.attrHooks[t]=y.extend(y.attrHooks[t],{set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}})})),y.support.hrefNormalized||(y.each(["href","src","width","height"],function(e,n){y.attrHooks[n]=y.extend(y.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return r==null?t:r}})}),y.each(["href","src"],function(e,t){y.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),y.support.style||(y.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),y.support.optSelected||(y.propHooks.selected=y.extend(y.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),y.support.enctype||(y.propFix.enctype="encoding"),y.support.checkOn||y.each(["radio","checkbox"],function(){y.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}}),y.each(["radio","checkbox"],function(){y.valHooks[this]=y.extend(y.valHooks[this],{set:function(e,t){if(y.isArray(t))return e.checked=y.inArray(y(e).val(),t)>=0}})});var G=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|contextmenu)|click/,et=/^(?:focusinfocus|focusoutblur)$/,tt=/^([^.]*)(?:\.(.+)|)$/;y.event={global:{},add:function(e,n,r,i,s){var o,u,a,f,l,c,h,p,d,v,m,g=e.nodeType!==3&&e.nodeType!==8&&y._data(e);if(!g)return;r.handler&&(o=r,r=o.handler,s=o.selector),r.guid||(r.guid=y.guid++),(f=g.events)||(f=g.events={}),(u=g.handle)||(u=g.handle=function(e){return typeof y=="undefined"||!!e&&y.event.triggered===e.type?t:y.event.dispatch.apply(u.elem,arguments)},u.elem=e),n=(n||"").match(w)||[""],l=n.length;while(l--){a=tt.exec(n[l])||[],d=m=a[1],v=(a[2]||"").split(".").sort(),h=y.event.special[d]||{},d=(s?h.delegateType:h.bindType)||d,h=y.event.special[d]||{},c=y.extend({type:d,origType:m,data:i,handler:r,guid:r.guid,selector:s,needsContext:s&&y.expr.match.needsContext.test(s),namespace:v.join(".")},o);if(!(p=f[d])){p=f[d]=[],p.delegateCount=0;if(!h.setup||h.setup.call(e,i,v,u)===!1)e.addEventListener?e.addEventListener(d,u,!1):e.attachEvent&&e.attachEvent("on"+d,u)}h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=r.guid)),s?p.splice(p.delegateCount++,0,c):p.push(c),y.event.global[d]=!0}e=null},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=y.hasData(e)&&y._data(e);if(!m||!(a=m.events))return;t=(t||"").match(w)||[""],f=t.length;while(f--){u=tt.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort();if(!p){for(p in a)y.event.remove(e,p+t[f],n,r,!0);continue}c=y.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,h=a[p]||[],u=u[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=h.length;while(s--)l=h[s],(i||v===l.origType)&&(!n||n.guid===l.guid)&&(!u||u.test(l.namespace))&&(!r||r===l.selector||r==="**"&&l.selector)&&(h.splice(s,1),l.selector&&h.delegateCount--,c.remove&&c.remove.call(e,l));o&&!h.length&&((!c.teardown||c.teardown.call(e,d,m.handle)===!1)&&y.removeEvent(e,p,m.handle),delete a[p])}y.isEmptyObject(a)&&(delete m.handle,y._removeData(e,"events"))},trigger:function(n,r,s,o){var u,a,f,l,c,h,p,d=[s||i],v=n.type||n,m=n.namespace?n.namespace.split("."):[];a=f=s=s||i;if(s.nodeType===3||s.nodeType===8)return;if(et.test(v+y.event.triggered))return;v.indexOf(".")>=0&&(m=v.split("."),v=m.shift(),m.sort()),c=v.indexOf(":")<0&&"on"+v,n=n[y.expando]?n:new y.Event(v,typeof n=="object"&&n),n.isTrigger=!0,n.namespace=m.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=s),r=r==null?[n]:y.makeArray(r,[n]),p=y.event.special[v]||{};if(!o&&p.trigger&&p.trigger.apply(s,r)===!1)return;if(!o&&!p.noBubble&&!y.isWindow(s)){l=p.delegateType||v,et.test(l+v)||(a=a.parentNode);for(;a;a=a.parentNode)d.push(a),f=a;f===(s.ownerDocument||i)&&d.push(f.defaultView||f.parentWindow||e)}u=0;while((a=d[u++])&&!n.isPropagationStopped())n.type=u>1?l:p.bindType||v,h=(y._data(a,"events")||{})[n.type]&&y._data(a,"handle"),h&&h.apply(a,r),h=c&&a[c],h&&y.acceptData(a)&&h.apply&&h.apply(a,r)===!1&&n.preventDefault();n.type=v;if(!o&&!n.isDefaultPrevented()&&(!p._default||p._default.apply(s.ownerDocument,r)===!1)&&(v!=="click"||!y.nodeName(s,"a"))&&y.acceptData(s)&&c&&s[v]&&!y.isWindow(s)){f=s[c],f&&(s[c]=null),y.event.triggered=v;try{s[v]()}catch(g){}y.event.triggered=t,f&&(s[c]=f)}return n.result},dispatch:function(e){e=y.event.fix(e);var n,r,i,s,o,u=[],a=p.call(arguments),f=(y._data(this,"events")||{})[e.type]||[],l=y.event.special[e.type]||{};a[0]=e,e.delegateTarget=this;if(l.preDispatch&&l.preDispatch.call(this,e)===!1)return;u=y.event.handlers.call(this,e,f),n=0;while((s=u[n++])&&!e.isPropagationStopped()){e.currentTarget=s.elem,r=0;while((o=s.handlers[r++])&&!e.isImmediatePropagationStopped())if(!e.namespace_re||e.namespace_re.test(o.namespace))e.handleObj=o,e.data=o.data,i=((y.event.special[o.origType]||{}).handle||o.handler).apply(s.elem,a),i!==t&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation())}return l.postDispatch&&l.postDispatch.call(this,e),e.result},handlers:function(e,n){var r,i,s,o,u=[],a=n.delegateCount,f=e.target;if(a&&f.nodeType&&(!e.button||e.type!=="click"))for(;f!=this;f=f.parentNode||this)if(f.disabled!==!0||e.type!=="click"){i=[];for(r=0;r<a;r++)o=n[r],s=o.selector+" ",i[s]===t&&(i[s]=o.needsContext?y(s,this).index(f)>=0:y.find(s,this,null,[f]).length),i[s]&&i.push(o);i.length&&u.push({elem:f,handlers:i})}return a<n.length&&u.push({elem:this,handlers:n.slice(a)}),u},fix:function(e){if(e[y.expando])return e;var t,n,r=e,s=y.event.fixHooks[e.type]||{},o=s.props?this.props.concat(s.props):this.props;e=new y.Event(r),t=o.length;while(t--)n=o[t],e[n]=r[n];return e.target||(e.target=r.srcElement||i),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,s,o,u=n.button,a=n.fromElement;return e.pageX==null&&n.clientX!=null&&(r=e.target.ownerDocument||i,s=r.documentElement,o=r.body,e.pageX=n.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),!e.which&&u!==t&&(e.which=u&1?1:u&2?3:u&4?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){if(y.nodeName(this,"input")&&this.type==="checkbox"&&this.click)return this.click(),!1}},focus:{trigger:function(){if(this!==i.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===i.activeElement&&this.blur)return this.blur(),!1},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=y.extend(new y.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?y.event.trigger(i,null,t):y.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},y.removeEvent=i.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]=="undefined"&&(e[r]=null),e.detachEvent(r,n))},y.Event=function(e,t){if(!(this instanceof y.Event))return new y.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?nt:rt):this.type=e,t&&y.extend(this,t),this.timeStamp=e&&e.timeStamp||y.now(),this[y.expando]=!0},y.Event.prototype={isDefaultPrevented:rt,isPropagationStopped:rt,isImmediatePropagationStopped:rt,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=nt;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=nt;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=nt,this.stopPropagation()}},y.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){y.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;if(!i||i!==r&&!y.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),y.support.submitBubbles||(y.event.special.submit={setup:function(){if(y.nodeName(this,"form"))return!1;y.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=y.nodeName(n,"input")||y.nodeName(n,"button")?n.form:t;r&&!y._data(r,"submitBubbles")&&(y.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),y._data(r,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&y.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(y.nodeName(this,"form"))return!1;y.event.remove(this,"._submit")}}),y.support.changeBubbles||(y.event.special.change={setup:function(){if(G.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")y.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),y.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),y.event.simulate("change",this,e,!0)});return!1}y.event.add(this,"beforeactivate._change",function(e){var t=e.target;G.test(t.nodeName)&&!y._data(t,"changeBubbles")&&(y.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&y.event.simulate("change",this.parentNode,e,!0)}),y._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return y.event.remove(this,"._change"),!G.test(this.nodeName)}}),y.support.focusinBubbles||y.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){y.event.simulate(t,e.target,y.event.fix(e),!0)};y.event.special[t]={setup:function(){n++===0&&i.addEventListener(e,r,!0)},teardown:function(){--n===0&&i.removeEventListener(e,r,!0)}}}),y.fn.extend({on:function(e,n,r,i,s){var o,u;if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=t);for(u in e)this.on(u,n,r,e[u],s);return this}r==null&&i==null?(i=n,r=n=t):i==null&&(typeof n=="string"?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=rt;else if(!i)return this;return s===1&&(o=i,i=function(e){return y().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=y.guid++)),this.each(function(){y.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,y(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if(typeof e=="object"){for(s in e)this.off(s,n,e[s]);return this}if(n===!1||typeof n=="function")r=n,n=t;return r===!1&&(r=rt),this.each(function(){y.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){y.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return y.event.trigger(e,t,n,!0)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),y.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){y.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Y.test(t)&&(y.event.fixHooks[t]=y.event.keyHooks),Z.test(t)&&(y.event.fixHooks[t]=y.event.mouseHooks)}),function(e,t){function rt(e){return J.test(e+"")}function it(){var e,t=[];return e=function(n,r){return t.push(n+=" ")>i.cacheLength&&delete e[t.shift()],e[n]=r}}function st(e){return e[w]=!0,e}function ot(e){var t=c.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function ut(e,t,n,r){var i,s,o,u,a,f,h,v,m,y;(t?t.ownerDocument||t:E)!==c&&l(t),t=t||c,n=n||[];if(!e||typeof e!="string")return n;if((u=t.nodeType)!==1&&u!==9)return[];if(!p&&!r){if(i=K.exec(e))if(o=i[1]){if(u===9){s=t.getElementById(o);if(!s||!s.parentNode)return n;if(s.id===o)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(o))&&g(t,s)&&s.id===o)return n.push(s),n}else{if(i[2])return _.apply(n,D.call(t.getElementsByTagName(e),0)),n;if((o=i[3])&&S.getByClassName&&t.getElementsByClassName)return _.apply(n,D.call(t.getElementsByClassName(o),0)),n}if(S.qsa&&!d.test(e)){h=!0,v=w,m=t,y=u===9&&e;if(u===1&&t.nodeName.toLowerCase()!=="object"){f=ht(e),(h=t.getAttribute("id"))?v=h.replace(Y,"\\$&"):t.setAttribute("id",v),v="[id='"+v+"'] ",a=f.length;while(a--)f[a]=v+pt(f[a]);m=$.test(e)&&t.parentNode||t,y=f.join(",")}if(y)try{return _.apply(n,D.call(m.querySelectorAll(y),0)),n}catch(b){}finally{h||t.removeAttribute("id")}}}return Et(e.replace(R,"$1"),t,n,r)}function at(e,t){var n=e&&t&&e.nextSibling;for(;n;n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ft(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function lt(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function ct(e){return st(function(t){return t=+t,st(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function ht(e,t){var n,r,s,o,u,a,f,l=C[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=i.preFilter;while(u){if(!n||(r=U.exec(u)))r&&(u=u.slice(r[0].length)||u),a.push(s=[]);n=!1;if(r=z.exec(u))n=r.shift(),s.push({value:n,type:r[0].replace(R," ")}),u=u.slice(n.length);for(o in i.filter)(r=V[o].exec(u))&&(!f[o]||(r=f[o](r)))&&(n=r.shift(),s.push({value:n,type:o,matches:r}),u=u.slice(n.length));if(!n)break}return t?u.length:u?ut.error(e):C(e,a).slice(0)}function pt(e){var t=0,n=e.length,r="";for(;t<n;t++)r+=e[t].value;return r}function dt(e,t,n){var i=t.dir,s=n&&t.dir==="parentNode",o=T++;return t.first?function(t,n,r){while(t=t[i])if(t.nodeType===1||s)return e(t,n,r)}:function(t,n,u){var a,f,l,c=x+" "+o;if(u){while(t=t[i])if(t.nodeType===1||s)if(e(t,n,u))return!0}else while(t=t[i])if(t.nodeType===1||s){l=t[w]||(t[w]={});if((f=l[i])&&f[0]===c){if((a=f[1])===!0||a===r)return a===!0}else{f=l[i]=[c],f[1]=e(t,n,u)||r;if(f[1]===!0)return!0}}}}function vt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function mt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function gt(e,t,n,r,i,s){return r&&!r[w]&&(r=gt(r)),i&&!i[w]&&(i=gt(i,s)),st(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||wt(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?mt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=mt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?P.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=mt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):_.apply(o,g)})}function yt(e){var t,n,r,s=e.length,o=i.relative[e[0].type],u=o||i.relative[" "],a=o?1:0,l=dt(function(e){return e===t},u,!0),c=dt(function(e){return P.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];for(;a<s;a++)if(n=i.relative[e[a].type])h=[dt(vt(h),n)];else{n=i.filter[e[a].type].apply(null,e[a].matches);if(n[w]){r=++a;for(;r<s;r++)if(i.relative[e[r].type])break;return gt(a>1&&vt(h),a>1&&pt(e.slice(0,a-1)).replace(R,"$1"),n,a<r&&yt(e.slice(a,r)),r<s&&yt(e=e.slice(r)),r<s&&pt(e))}h.push(n)}return vt(h)}function bt(e,t){var n=0,s=t.length>0,o=e.length>0,u=function(u,a,l,h,p){var d,v,m,g=[],y=0,b="0",w=u&&[],E=p!=null,S=f,T=u||o&&i.find.TAG("*",p&&a.parentNode||a),N=x+=S==null?1:Math.E;E&&(f=a!==c&&a,r=n);for(;(d=T[b])!=null;b++){if(o&&d){for(v=0;m=e[v];v++)if(m(d,a,l)){h.push(d);break}E&&(x=N,r=++n)}s&&((d=!m&&d)&&y--,u&&w.push(d))}y+=b;if(s&&b!==y){for(v=0;m=t[v];v++)m(w,g,a,l);if(u){if(y>0)while(b--)!w[b]&&!g[b]&&(g[b]=M.call(h));g=mt(g)}_.apply(h,g),E&&!u&&g.length>0&&y+t.length>1&&ut.uniqueSort(h)}return E&&(x=N,f=S),w};return s?st(u):u}function wt(e,t,n){var r=0,i=t.length;for(;r<i;r++)ut(e,t[r],n);return n}function Et(e,t,n,r){var s,o,a,f,l,c=ht(e);if(!r&&c.length===1){o=c[0]=c[0].slice(0);if(o.length>2&&(a=o[0]).type==="ID"&&t.nodeType===9&&!p&&i.relative[o[1].type]){t=i.find.ID(a.matches[0].replace(et,tt),t)[0];if(!t)return n;e=e.slice(o.shift().value.length)}for(s=V.needsContext.test(e)?-1:o.length-1;s>=0;s--){a=o[s];if(i.relative[f=a.type])break;if(l=i.find[f])if(r=l(a.matches[0].replace(et,tt),$.test(o[0].type)&&t.parentNode||t)){o.splice(s,1),e=r.length&&pt(o);if(!e)return _.apply(n,D.call(r,0)),n;break}}}return u(e,c)(r,t,p,n,$.test(e)),n}function St(){}var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,b,w="sizzle"+ -(new Date),E=e.document,S={},x=0,T=0,N=it(),C=it(),k=it(),L=typeof t,A=1<<31,O=[],M=O.pop,_=O.push,D=O.slice,P=O.indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},H="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",j=B.replace("w","w#"),F="([*^$|!~]?=)",I="\\["+H+"*("+B+")"+H+"*(?:"+F+H+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+j+")|)|)"+H+"*\\]",q=":("+B+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+I.replace(3,8)+")*)|.*)\\)|)",R=new RegExp("^"+H+"+|((?:^|[^\\\\])(?:\\\\.)*)"+H+"+$","g"),U=new RegExp("^"+H+"*,"+H+"*"),z=new RegExp("^"+H+"*([\\x20\\t\\r\\n\\f>+~])"+H+"*"),W=new RegExp(q),X=new RegExp("^"+j+"$"),V={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),NAME:new RegExp("^\\[name=['\"]?("+B+")['\"]?\\]"),TAG:new RegExp("^("+B.replace("w","w*")+")"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+H+"*(even|odd|(([+-]|)(\\d*)n|)"+H+"*(?:([+-]|)"+H+"*(\\d+)|))"+H+"*\\)|)","i"),needsContext:new RegExp("^"+H+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+H+"*((?:-\\d)?\\d*)"+H+"*\\)|)(?=[^-]|$)","i")},$=/[\x20\t\r\n\f]*[+~]/,J=/\{\s*\[native code\]\s*\}/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Y=/'|\\/g,Z=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,et=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,tt=function(e,t){var n="0x"+t-65536;return n!==n?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,n&1023|56320)};try{D.call(h.childNodes,0)[0].nodeType}catch(nt){D=function(e){var t,n=[];for(;t=this[e];e++)n.push(t);return n}}o=ut.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},l=ut.setDocument=function(e){var n=e?e.ownerDocument||e:E;if(n===c||n.nodeType!==9||!n.documentElement)return c;c=n,h=n.documentElement,p=o(n),S.tagNameNoComments=ot(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),S.attributes=ot(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"}),S.getByClassName=ot(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!e.getElementsByClassName||!e.getElementsByClassName("e").length?!1:(e.lastChild.className="e",e.getElementsByClassName("e").length===2)}),S.getByName=ot(function(e){e.id=w+0,e.innerHTML="<a name='"+w+"'></a><div name='"+w+"'></div>",h.insertBefore(e,h.firstChild);var t=n.getElementsByName&&n.getElementsByName(w).length===2+n.getElementsByName(w+0).length;return S.getIdNotName=!n.getElementById(w),h.removeChild(e),t}),i.attrHandle=ot(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==L&&e.firstChild.getAttribute("href")==="#"})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},S.getIdNotName?(i.find.ID=function(e,t){if(typeof t.getElementById!==L&&!p){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){return e.getAttribute("id")===t}}):(i.find.ID=function(e,n){if(typeof n.getElementById!==L&&!p){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==L&&r.getAttributeNode("id").value===e?[r]:t:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){var n=typeof e.getAttributeNode!==L&&e.getAttributeNode("id");return n&&n.value===t}}),i.find.TAG=S.tagNameNoComments?function(e,t){if(typeof t.getElementsByTagName!==L)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if(e==="*"){for(;n=s[i];i++)n.nodeType===1&&r.push(n);return r}return s},i.find.NAME=S.getByName&&function(e,t){if(typeof t.getElementsByName!==L)return t.getElementsByName(name)},i.find.CLASS=S.getByClassName&&function(e,t){if(typeof t.getElementsByClassName!==L&&!p)return t.getElementsByClassName(e)},v=[],d=[":focus"];if(S.qsa=rt(n.querySelectorAll))ot(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+H+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||d.push(":checked")}),ot(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&d.push("[*^$]="+H+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||d.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),d.push(",.*:")});return(S.matchesSelector=rt(m=h.matchesSelector||h.mozMatchesSelector||h.webkitMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ot(function(e){S.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),v.push("!=",q)}),d=new RegExp(d.join("|")),v=new RegExp(v.join("|")),g=rt(h.contains)||h.compareDocumentPosition?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&r.nodeType===1&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16)}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},b=h.compareDocumentPosition?function(e,t){var r;if(e===t)return a=!0,0;if(r=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))return r&1||e.parentNode&&e.parentNode.nodeType===11?e===n||g(E,e)?-1:t===n||g(E,t)?1:0:r&4?-1:1;return e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,s=e.parentNode,o=t.parentNode,u=[e],f=[t];if(e===t)return a=!0,0;if(e.sourceIndex&&t.sourceIndex)return(~t.sourceIndex||A)-(g(E,e)&&~e.sourceIndex||A);if(!s||!o)return e===n?-1:t===n?1:s?-1:o?1:0;if(s===o)return at(e,t);r=e;while(r=r.parentNode)u.unshift(r);r=t;while(r=r.parentNode)f.unshift(r);while(u[i]===f[i])i++;return i?at(u[i],f[i]):u[i]===E?-1:f[i]===E?1:0},a=!1,[0,0].sort(b),S.detectDuplicates=a,c},ut.matches=function(e,t){return ut(e,null,null,t)},ut.matchesSelector=function(e,t){(e.ownerDocument||e)!==c&&l(e),t=t.replace(Z,"='$1']");if(S.matchesSelector&&!p&&(!v||!v.test(t))&&!d.test(t))try{var n=m.call(e,t);if(n||S.disconnectedMatch||e.document&&e.document.nodeType!==11)return n}catch(r){}return ut(t,c,null,[e]).length>0},ut.contains=function(e,t){return(e.ownerDocument||e)!==c&&l(e),g(e,t)},ut.attr=function(e,t){var n;return(e.ownerDocument||e)!==c&&l(e),p||(t=t.toLowerCase()),(n=i.attrHandle[t])?n(e):p||S.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},ut.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ut.uniqueSort=function(e){var t,n=[],r=1,i=0;a=!S.detectDuplicates,e.sort(b);if(a){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));while(i--)e.splice(n[i],1)}return e},s=ut.getText=function(e){var t,n="",r=0,i=e.nodeType;if(!i)for(;t=e[r];r++)n+=s(t);else if(i===1||i===9||i===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=s(e)}else if(i===3||i===4)return e.nodeValue;return n},i=ut.selectors={cacheLength:50,createPseudo:st,match:V,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(et,tt),e[3]=(e[4]||e[5]||"").replace(et,tt),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||ut.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&ut.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return V.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&W.test(n)&&(t=ht(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return e==="*"?function(){return!0}:(e=e.replace(et,tt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=N[e+" "];return t||(t=new RegExp("(^|"+H+")"+e+"("+H+"|$)"))&&N(e,function(e){return t.test(e.className||typeof e.getAttribute!==L&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ut.attr(r,e);return i==null?t==="!=":t?(i+="",t==="="?i===n:t==="!="?i!==n:t==="^="?n&&i.indexOf(n)===0:t==="*="?n&&i.indexOf(n)>-1:t==="$="?n&&i.substr(i.length-n.length)===n:t==="~="?(" "+i+" ").indexOf(n)>-1:t==="|="?i===n||i.substr(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",u=t==="of-type";return r===1&&i===0?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:c.nodeType===1)return!1;d=v=e==="only"&&!d&&"nextSibling"}return!0}d=[o?m.firstChild:m.lastChild];if(o&&y){l=m[w]||(m[w]={}),f=l[e]||[],p=f[0]===x&&f[1],h=f[0]===x&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(c.nodeType===1&&++h&&c===t){l[e]=[x,p,h];break}}else if(y&&(f=(t[w]||(t[w]={}))[e])&&f[0]===x)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++h){y&&((c[w]||(c[w]={}))[e]=[x,h]);if(c===t)break}return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||ut.error("unsupported pseudo: "+e);return r[w]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?st(function(e,n){var i,s=r(e,t),o=s.length;while(o--)i=P.call(e,s[o]),e[i]=!(n[i]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:st(function(e){var t=[],n=[],r=u(e.replace(R,"$1"));return r[w]?st(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:st(function(e){return function(t){return ut(e,t).length>0}}),contains:st(function(e){return function(t){return(t.textContent||t.innerText||s(t)).indexOf(e)>-1}}),lang:st(function(e){return X.test(e||"")||ut.error("unsupported lang: "+e),e=e.replace(et,tt).toLowerCase(),function(t){var n;do if(n=p?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||n.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===c.activeElement&&(!c.hasFocus||c.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||e.nodeType===3||e.nodeType===4)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()===e.type)},first:ct(function(){return[0]}),last:ct(function(e,t){return[t-1]}),eq:ct(function(e,t,n){return[n<0?n+t:n]}),even:ct(function(e,t){var n=0;for(;n<t;n+=2)e.push(n);return e}),odd:ct(function(e,t){var n=1;for(;n<t;n+=2)e.push(n);return e}),lt:ct(function(e,t,n){var r=n<0?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:ct(function(e,t,n){var r=n<0?n+t:n;for(;++r<t;)e.push(r);return e})}};for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[n]=ft(n);for(n in{submit:!0,reset:!0})i.pseudos[n]=lt(n);u=ut.compile=function(e,t){var n,r=[],i=[],s=k[e+" "];if(!s){t||(t=ht(e)),n=t.length;while(n--)s=yt(t[n]),s[w]?r.push(s):i.push(s);s=k(e,bt(i,r))}return s},i.pseudos.nth=i.pseudos.eq,i.filters=St.prototype=i.pseudos,i.setFilters=new St,l(),ut.attr=y.attr,y.find=ut,y.expr=ut.selectors,y.expr[":"]=y.expr.pseudos,y.unique=ut.uniqueSort,y.text=ut.getText,y.isXMLDoc=ut.isXML,y.contains=ut.contains}(e);var it=/Until$/,st=/^(?:parents|prev(?:Until|All))/,ot=/^.[^:#\[\.,]*$/,ut=y.expr.match.needsContext,at={children:!0,contents:!0,next:!0,prev:!0};y.fn.extend({find:function(e){var t,n,r;if(typeof e!="string")return r=this,this.pushStack(y(e).filter(function(){for(t=0;t<r.length;t++)if(y.contains(r[t],this))return!0}));n=[];for(t=0;t<this.length;t++)y.find(e,this[t],n);return n=this.pushStack(y.unique(n)),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=y(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(y.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(lt(this,e,!1))},filter:function(e){return this.pushStack(lt(this,e,!0))},is:function(e){return!!e&&(typeof e=="string"?ut.test(e)?y(e,this.context).index(this[0])>=0:y.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,s=[],o=ut.test(e)||typeof e!="string"?y(e,t||this.context):0;for(;r<i;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&n.nodeType!==11){if(o?o.index(n)>-1:y.find.matchesSelector(n,e)){s.push(n);break}n=n.parentNode}}return this.pushStack(s.length>1?y.unique(s):s)},index:function(e){return e?typeof e=="string"?y.inArray(this[0],y(e)):y.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?y(e,t):y.makeArray(e&&e.nodeType?[e]:e),r=y.merge(this.get(),n);return this.pushStack(y.unique(r))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),y.fn.andSelf=y.fn.addBack,y.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return y.dir(e,"parentNode")},parentsUntil:function(e,t,n){return y.dir(e,"parentNode",n)},next:function(e){return ft(e,"nextSibling")},prev:function(e){return ft(e,"previousSibling")},nextAll:function(e){return y.dir(e,"nextSibling")},prevAll:function(e){return y.dir(e,"previousSibling")},nextUntil:function(e,t,n){return y.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return y.dir(e,"previousSibling",n)},siblings:function(e){return y.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return y.sibling(e.firstChild)},contents:function(e){return y.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:y.merge([],e.childNodes)}},function(e,t){y.fn[e]=function(n,r){var i=y.map(this,t,n);return it.test(e)||(r=n),r&&typeof r=="string"&&(i=y.filter(r,i)),i=this.length>1&&!at[e]?y.unique(i):i,this.length>1&&st.test(e)&&(i=i.reverse()),this.pushStack(i)}}),y.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),t.length===1?y.find.matchesSelector(t[0],e)?[t[0]]:[]:y.find.matches(e,t)},dir:function(e,n,r){var i=[],s=e[n];while(s&&s.nodeType!==9&&(r===t||s.nodeType!==1||!
y(s).is(r)))s.nodeType===1&&i.push(s),s=s[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",pt=/ jQuery\d+="(?:null|\d+)"/g,dt=new RegExp("<(?:"+ht+")[\\s/>]","i"),vt=/^\s+/,mt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,gt=/<([\w:]+)/,yt=/<tbody/i,bt=/<|&#?\w+;/,wt=/<(?:script|style|link)/i,Et=/^(?:checkbox|radio)$/i,St=/checked\s*(?:[^=]|=\s*.checked.)/i,xt=/^$|\/(?:java|ecma)script/i,Tt=/^true\/(.*)/,Nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ct={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:y.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},kt=ct(i),Lt=kt.appendChild(i.createElement("div"));Ct.optgroup=Ct.option,Ct.tbody=Ct.tfoot=Ct.colgroup=Ct.caption=Ct.thead,Ct.th=Ct.td,y.fn.extend({text:function(e){return y.access(this,function(e){return e===t?y.text(this):this.empty().append((this[0]&&this[0].ownerDocument||i).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(y.isFunction(e))return this.each(function(t){y(this).wrapAll(e.call(this,t))});if(this[0]){var t=y(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return y.isFunction(e)?this.each(function(t){y(this).wrapInner(e.call(this,t))}):this.each(function(){var t=y(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=y.isFunction(e);return this.each(function(n){y(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){y.nodeName(this,"body")||y(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=0;for(;(n=this[r])!=null;r++)if(!e||y.filter(e,[n]).length>0)!t&&n.nodeType===1&&y.cleanData(Ht(n)),n.parentNode&&(t&&y.contains(n.ownerDocument,n)&&_t(Ht(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&&y.cleanData(Ht(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&y.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return y.clone(this,e,t)})},html:function(e){return y.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(pt,""):t;if(typeof e=="string"&&!wt.test(e)&&(y.support.htmlSerialize||!dt.test(e))&&(y.support.leadingWhitespace||!vt.test(e))&&!Ct[(gt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(mt,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(y.cleanData(Ht(n,!1)),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=y.isFunction(e);return!t&&typeof e!="string"&&(e=y(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;if(n&&this.nodeType===1||this.nodeType===11)y(this).remove(),t?t.parentNode.insertBefore(e,t):n.appendChild(e)})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=c.apply([],e);var i,s,o,u,a,f,l=0,h=this.length,p=this,d=h-1,v=e[0],m=y.isFunction(v);if(m||!(h<=1||typeof v!="string"||y.support.checkClone||!St.test(v)))return this.each(function(i){var s=p.eq(i);m&&(e[0]=v.call(this,i,n?s.html():t)),s.domManip(e,n,r)});if(h){i=y.buildFragment(e,this[0].ownerDocument,!1,this),s=i.firstChild,i.childNodes.length===1&&(i=s);if(s){n=n&&y.nodeName(s,"tr"),o=y.map(Ht(i,"script"),Ot),u=o.length;for(;l<h;l++)a=i,l!==d&&(a=y.clone(a,!0,!0),u&&y.merge(o,Ht(a,"script"))),r.call(n&&y.nodeName(this[l],"table")?At(this[l],"tbody"):this[l],a,l);if(u){f=o[o.length-1].ownerDocument,y.map(o,Mt);for(l=0;l<u;l++)a=o[l],xt.test(a.type||"")&&!y._data(a,"globalEval")&&y.contains(f,a)&&(a.src?y.ajax({url:a.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):y.globalEval((a.text||a.textContent||a.innerHTML||"").replace(Nt,"")))}i=s=null}}return this}}),y.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){y.fn[e]=function(e){var n,r=0,i=[],s=y(e),o=s.length-1;for(;r<=o;r++)n=r===o?this:this.clone(!0),y(s[r])[t](n),h.apply(i,n.get());return this.pushStack(i)}}),y.extend({clone:function(e,t,n){var r,i,s,o,u,a=y.contains(e.ownerDocument,e);y.support.html5Clone||y.isXMLDoc(e)||!dt.test("<"+e.nodeName+">")?u=e.cloneNode(!0):(Lt.innerHTML=e.outerHTML,Lt.removeChild(u=Lt.firstChild));if((!y.support.noCloneEvent||!y.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!y.isXMLDoc(e)){r=Ht(u),i=Ht(e);for(o=0;(s=i[o])!=null;++o)r[o]&&Pt(s,r[o])}if(t)if(n){i=i||Ht(e),r=r||Ht(u);for(o=0;(s=i[o])!=null;o++)Dt(s,r[o])}else Dt(e,u);return r=Ht(u,"script"),r.length>0&&_t(r,!a&&Ht(e,"script")),r=i=s=null,u},buildFragment:function(e,t,n,r){var i,s,o,u,a,f,l,c=e.length,h=ct(t),p=[],d=0;for(;d<c;d++){s=e[d];if(s||s===0)if(y.type(s)==="object")y.merge(p,s.nodeType?[s]:s);else if(!bt.test(s))p.push(t.createTextNode(s));else{u=u||h.appendChild(t.createElement("div")),o=(gt.exec(s)||["",""])[1].toLowerCase(),a=Ct[o]||Ct._default,u.innerHTML=a[1]+s.replace(mt,"<$1></$2>")+a[2],l=a[0];while(l--)u=u.lastChild;!y.support.leadingWhitespace&&vt.test(s)&&p.push(t.createTextNode(vt.exec(s)[0]));if(!y.support.tbody){s=o==="table"&&!yt.test(s)?u.firstChild:a[1]==="<table>"&&!yt.test(s)?u:0,l=s&&s.childNodes.length;while(l--)y.nodeName(f=s.childNodes[l],"tbody")&&!f.childNodes.length&&s.removeChild(f)}y.merge(p,u.childNodes),u.textContent="";while(u.firstChild)u.removeChild(u.firstChild);u=h.lastChild}}u&&h.removeChild(u),y.support.appendChecked||y.grep(Ht(p,"input"),Bt),d=0;while(s=p[d++]){if(r&&y.inArray(s,r)!==-1)continue;i=y.contains(s.ownerDocument,s),u=Ht(h.appendChild(s),"script"),i&&_t(u);if(n){l=0;while(s=u[l++])xt.test(s.type||"")&&n.push(s)}}return u=null,h},cleanData:function(e,t){var n,r,i,s,o=0,u=y.expando,a=y.cache,l=y.support.deleteExpando,c=y.event.special;for(;(i=e[o])!=null;o++)if(t||y.acceptData(i)){r=i[u],n=r&&a[r];if(n){if(n.events)for(s in n.events)c[s]?y.event.remove(i,s):y.removeEvent(i,s,n.handle);a[r]&&(delete a[r],l?delete i[u]:typeof i.removeAttribute!="undefined"?i.removeAttribute(u):i[u]=null,f.push(r))}}}});var jt,Ft,It,qt=/alpha\([^)]*\)/i,Rt=/opacity\s*=\s*([^)]*)/,Ut=/^(top|right|bottom|left)$/,zt=/^(none|table(?!-c[ea]).+)/,Wt=/^margin/,Xt=new RegExp("^("+b+")(.*)$","i"),Vt=new RegExp("^("+b+")(?!px)[a-z%]+$","i"),$t=new RegExp("^([+-])=("+b+")","i"),Jt={BODY:"block"},Kt={position:"absolute",visibility:"hidden",display:"block"},Qt={letterSpacing:0,fontWeight:400},Gt=["Top","Right","Bottom","Left"],Yt=["Webkit","O","Moz","ms"];y.fn.extend({css:function(e,n){return y.access(this,function(e,n,r){var i,s,o={},u=0;if(y.isArray(n)){i=Ft(e),s=n.length;for(;u<s;u++)o[n[u]]=y.css(e,n[u],!1,i);return o}return r!==t?y.style(e,n,r):y.css(e,n)},e,n,arguments.length>1)},show:function(){return tn(this,!0)},hide:function(){return tn(this)},toggle:function(e){var t=typeof e=="boolean";return this.each(function(){(t?e:en(this))?y(this).show():y(this).hide()})}}),y.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=jt(e,"opacity");return n===""?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":y.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var s,o,u,a=y.camelCase(n),f=e.style;n=y.cssProps[a]||(y.cssProps[a]=Zt(f,a)),u=y.cssHooks[n]||y.cssHooks[a];if(r===t)return u&&"get"in u&&(s=u.get(e,!1,i))!==t?s:f[n];o=typeof r,o==="string"&&(s=$t.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(y.css(e,n)),o="number");if(r==null||o==="number"&&isNaN(r))return;o==="number"&&!y.cssNumber[a]&&(r+="px"),!y.support.clearCloneStyle&&r===""&&n.indexOf("background")===0&&(f[n]="inherit");if(!u||!("set"in u)||(r=u.set(e,r,i))!==t)try{f[n]=r}catch(l){}},css:function(e,n,r,i){var s,o,u,a=y.camelCase(n);return n=y.cssProps[a]||(y.cssProps[a]=Zt(e.style,a)),u=y.cssHooks[n]||y.cssHooks[a],u&&"get"in u&&(s=u.get(e,!0,r)),s===t&&(s=jt(e,n,i)),s==="normal"&&n in Qt&&(s=Qt[n]),r?(o=parseFloat(s),r===!0||y.isNumeric(o)?o||0:s):s},swap:function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i}}),e.getComputedStyle?(Ft=function(t){return e.getComputedStyle(t,null)},jt=function(e,n,r){var i,s,o,u=r||Ft(e),a=u?u.getPropertyValue(n)||u[n]:t,f=e.style;return u&&(a===""&&!y.contains(e.ownerDocument,e)&&(a=y.style(e,n)),Vt.test(a)&&Wt.test(n)&&(i=f.width,s=f.minWidth,o=f.maxWidth,f.minWidth=f.maxWidth=f.width=a,a=u.width,f.width=i,f.minWidth=s,f.maxWidth=o)),a}):i.documentElement.currentStyle&&(Ft=function(e){return e.currentStyle},jt=function(e,n,r){var i,s,o,u=r||Ft(e),a=u?u[n]:t,f=e.style;return a==null&&f&&f[n]&&(a=f[n]),Vt.test(a)&&!Ut.test(n)&&(i=f.left,s=e.runtimeStyle,o=s&&s.left,o&&(s.left=e.currentStyle.left),f.left=n==="fontSize"?"1em":a,a=f.pixelLeft+"px",f.left=i,o&&(s.left=o)),a===""?"auto":a}),y.each(["height","width"],function(e,t){y.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&zt.test(y.css(e,"display"))?y.swap(e,Kt,function(){return sn(e,t,r)}):sn(e,t,r)},set:function(e,n,r){var i=r&&Ft(e);return nn(e,n,r?rn(e,t,r,y.support.boxSizing&&y.css(e,"boxSizing",!1,i)==="border-box",i):0)}}}),y.support.opacity||(y.cssHooks.opacity={get:function(e,t){return Rt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=y.isNumeric(t)?"alpha(opacity="+t*100+")":"",s=r&&r.filter||n.filter||"";n.zoom=1;if((t>=1||t==="")&&y.trim(s.replace(qt,""))===""&&n.removeAttribute){n.removeAttribute("filter");if(t===""||r&&!r.filter)return}n.filter=qt.test(s)?s.replace(qt,i):s+" "+i}}),y(function(){y.support.reliableMarginRight||(y.cssHooks.marginRight={get:function(e,t){if(t)return y.swap(e,{display:"inline-block"},jt,[e,"marginRight"])}}),!y.support.pixelPosition&&y.fn.position&&y.each(["top","left"],function(e,t){y.cssHooks[t]={get:function(e,n){if(n)return n=jt(e,t),Vt.test(n)?y(e).position()[t]+"px":n}}})}),y.expr&&y.expr.filters&&(y.expr.filters.hidden=function(e){return e.offsetWidth===0&&e.offsetHeight===0||!y.support.reliableHiddenOffsets&&(e.style&&e.style.display||y.css(e,"display"))==="none"},y.expr.filters.visible=function(e){return!y.expr.filters.hidden(e)}),y.each({margin:"",padding:"",border:"Width"},function(e,t){y.cssHooks[e+t]={expand:function(n){var r=0,i={},s=typeof n=="string"?n.split(" "):[n];for(;r<4;r++)i[e+Gt[r]+t]=s[r]||s[r-2]||s[0];return i}},Wt.test(e)||(y.cssHooks[e+t].set=nn)});var an=/%20/g,fn=/\[\]$/,ln=/\r?\n/g,cn=/^(?:submit|button|image|reset)$/i,hn=/^(?:input|select|textarea|keygen)/i;y.fn.extend({serialize:function(){return y.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=y.prop(this,"elements");return e?y.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!y(this).is(":disabled")&&hn.test(this.nodeName)&&!cn.test(e)&&(this.checked||!Et.test(e))}).map(function(e,t){var n=y(this).val();return n==null?null:y.isArray(n)?y.map(n,function(e){return{name:t.name,value:e.replace(ln,"\r\n")}}):{name:t.name,value:n.replace(ln,"\r\n")}}).get()}}),y.param=function(e,n){var r,i=[],s=function(e,t){t=y.isFunction(t)?t():t==null?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=y.ajaxSettings&&y.ajaxSettings.traditional);if(y.isArray(e)||e.jquery&&!y.isPlainObject(e))y.each(e,function(){s(this.name,this.value)});else for(r in e)pn(r,e[r],n,s);return i.join("&").replace(an,"+")};var dn,vn,mn=y.now(),gn=/\?/,yn=/#.*$/,bn=/([?&])_=[^&]*/,wn=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,En=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Sn=/^(?:GET|HEAD)$/,xn=/^\/\//,Tn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Nn=y.fn.load,Cn={},kn={},Ln="*/".concat("*");try{vn=s.href}catch(An){vn=i.createElement("a"),vn.href="",vn=vn.href}dn=Tn.exec(vn.toLowerCase())||[],y.fn.load=function(e,n,r){if(typeof e!="string"&&Nn)return Nn.apply(this,arguments);var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=e.slice(a,e.length),e=e.slice(0,a)),y.isFunction(n)?(r=n,n=t):n&&typeof n=="object"&&(s="POST"),u.length>0&&y.ajax({url:e,type:s,dataType:"html",data:n}).done(function(e){o=arguments,u.html(i?y("<div>").append(y.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){u.each(r,o||[e.responseText,t,e])}),this},y.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){y.fn[t]=function(e){return this.on(t,e)}}),y.each(["get","post"],function(e,n){y[n]=function(e,r,i,s){return y.isFunction(r)&&(s=s||i,i=r,r=t),y.ajax({url:e,type:n,dataType:s,data:r,success:i})}}),y.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:vn,type:"GET",isLocal:En.test(dn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ln,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":y.parseJSON,"text xml":y.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?_n(_n(e,y.ajaxSettings),t):_n(y.ajaxSettings,e)},ajaxPrefilter:On(Cn),ajaxTransport:On(kn),ajax:function(e,n){function N(e,n,o,a){var l,g,b,w,S,T=n;if(E===2)return;E=2,u&&clearTimeout(u),r=t,s=a||"",x.readyState=e>0?4:0,o&&(w=Dn(c,x,o));if(e>=200&&e<300||e===304)c.ifModified&&(S=x.getResponseHeader("Last-Modified"),S&&(y.lastModified[i]=S),S=x.getResponseHeader("etag"),S&&(y.etag[i]=S)),e===304?(l=!0,T="notmodified"):(l=Pn(c,w),T=l.state,g=l.data,b=l.error,l=!b);else{b=T;if(e||!T)T="error",e<0&&(e=0)}x.status=e,x.statusText=(n||T)+"",l?d.resolveWith(h,[g,T,x]):d.rejectWith(h,[x,T,b]),x.statusCode(m),m=t,f&&p.trigger(l?"ajaxSuccess":"ajaxError",[x,c,l?g:b]),v.fireWith(h,[x,T]),f&&(p.trigger("ajaxComplete",[x,c]),--y.active||y.event.trigger("ajaxStop"))}typeof e=="object"&&(n=e,e=t),n=n||{};var r,i,s,o,u,a,f,l,c=y.ajaxSetup({},n),h=c.context||c,p=c.context&&(h.nodeType||h.jquery)?y(h):y.event,d=y.Deferred(),v=y.Callbacks("once memory"),m=c.statusCode||{},g={},b={},E=0,S="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(E===2){if(!o){o={};while(t=wn.exec(s))o[t[1].toLowerCase()]=t[2]}t=o[e.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return E===2?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return E||(e=b[n]=b[n]||e,g[e]=t),this},overrideMimeType:function(e){return E||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(E<2)for(t in e)m[t]=[m[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||S;return r&&r.abort(t),N(0,t),this}};d.promise(x).complete=v.add,x.success=x.done,x.error=x.fail,c.url=((e||c.url||vn)+"").replace(yn,"").replace(xn,dn[1]+"//"),c.type=n.method||n.type||c.method||c.type,c.dataTypes=y.trim(c.dataType||"*").toLowerCase().match(w)||[""],c.crossDomain==null&&(a=Tn.exec(c.url.toLowerCase()),c.crossDomain=!(!a||a[1]===dn[1]&&a[2]===dn[2]&&(a[3]||(a[1]==="http:"?80:443))==(dn[3]||(dn[1]==="http:"?80:443)))),c.data&&c.processData&&typeof c.data!="string"&&(c.data=y.param(c.data,c.traditional)),Mn(Cn,c,n,x);if(E===2)return x;f=c.global,f&&y.active++===0&&y.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!Sn.test(c.type),i=c.url,c.hasContent||(c.data&&(i=c.url+=(gn.test(i)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=bn.test(i)?i.replace(bn,"$1_="+mn++):i+(gn.test(i)?"&":"?")+"_="+mn++)),c.ifModified&&(y.lastModified[i]&&x.setRequestHeader("If-Modified-Since",y.lastModified[i]),y.etag[i]&&x.setRequestHeader("If-None-Match",y.etag[i])),(c.data&&c.hasContent&&c.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",c.contentType),x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+(c.dataTypes[0]!=="*"?", "+Ln+"; q=0.01":""):c.accepts["*"]);for(l in c.headers)x.setRequestHeader(l,c.headers[l]);if(!c.beforeSend||c.beforeSend.call(h,x,c)!==!1&&E!==2){S="abort";for(l in{success:1,error:1,complete:1})x[l](c[l]);r=Mn(kn,c,n,x);if(!r)N(-1,"No Transport");else{x.readyState=1,f&&p.trigger("ajaxSend",[x,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){x.abort("timeout")},c.timeout));try{E=1,r.send(g,N)}catch(T){if(!(E<2))throw T;N(-1,T)}}return x}return x.abort()},getScript:function(e,n){return y.get(e,t,n,"script")},getJSON:function(e,t,n){return y.get(e,t,n,"json")}}),y.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return y.globalEval(e),e}}}),y.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),y.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=i.head||y("head")[0]||i.documentElement;return{send:function(t,s){n=i.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){if(t||!n.readyState||/loaded|complete/.test(n.readyState))n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||s(200,"success")},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Hn=[],Bn=/(=)\?(?=&|$)|\?\?/;y.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Hn.pop()||y.expando+"_"+mn++;return this[e]=!0,e}}),y.ajaxPrefilter("json jsonp",function(n,r,i){var s,o,u,a=n.jsonp!==!1&&(Bn.test(n.url)?"url":typeof n.data=="string"&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bn.test(n.data)&&"data");if(a||n.dataTypes[0]==="jsonp")return s=n.jsonpCallback=y.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,a?n[a]=n[a].replace(Bn,"$1"+s):n.jsonp!==!1&&(n.url+=(gn.test(n.url)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return u||y.error(s+" was not called"),u[0]},n.dataTypes[0]="json",o=e[s],e[s]=function(){u=arguments},i.always(function(){e[s]=o,n[s]&&(n.jsonpCallback=r.jsonpCallback,Hn.push(s)),u&&y.isFunction(o)&&o(u[0]),u=o=t}),"script"});var jn,Fn,In=0,qn=e.ActiveXObject&&function(){var e;for(e in jn)jn[e](t,!0)};y.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&Rn()||Un()}:Rn,Fn=y.ajaxSettings.xhr(),y.support.cors=!!Fn&&"withCredentials"in Fn,Fn=y.support.ajax=!!Fn,Fn&&y.ajaxTransport(function(n){if(!n.crossDomain||y.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async);if(n.xhrFields)for(u in n.xhrFields)a[u]=n.xhrFields[u];n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(u in i)a.setRequestHeader(u,i[u])}catch(f){}a.send(n.hasContent&&n.data||null),r=function(e,i){var u,f,l,c,h;try{if(r&&(i||a.readyState===4)){r=t,o&&(a.onreadystatechange=y.noop,qn&&delete jn[o]);if(i)a.readyState!==4&&a.abort();else{c={},u=a.status,h=a.responseXML,l=a.getAllResponseHeaders(),h&&h.documentElement&&(c.xml=h),typeof a.responseText=="string"&&(c.text=a.responseText);try{f=a.statusText}catch(p){f=""}!u&&n.isLocal&&!n.crossDomain?u=c.text?200:404:u===1223&&(u=204)}}}catch(d){i||s(-1,d)}c&&s(u,f,c,l)},n.async?a.readyState===4?setTimeout(r):(o=++In,qn&&(jn||(jn={},y(e).unload(qn)),jn[o]=r),a.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var zn,Wn,Xn=/^(?:toggle|show|hide)$/,Vn=new RegExp("^(?:([+-])=|)("+b+")([a-z%]*)$","i"),$n=/queueHooks$/,Jn=[er],Kn={"*":[function(e,t){var n,r,i=this.createTween(e,t),s=Vn.exec(t),o=i.cur(),u=+o||0,a=1,f=20;if(s){n=+s[2],r=s[3]||(y.cssNumber[e]?"":"px");if(r!=="px"&&u){u=y.css(i.elem,e,!0)||n||1;do a=a||".5",u/=a,y.style(i.elem,e,u+r);while(a!==(a=i.cur()/o)&&a!==1&&--f)}i.unit=r,i.start=u,i.end=s[1]?u+(s[1]+1)*n:n}return i}]};y.Animation=y.extend(Yn,{tweener:function(e,t){y.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],Kn[n]=Kn[n]||[],Kn[n].unshift(t)},prefilter:function(e,t){t?Jn.unshift(e):Jn.push(e)}}),y.Tween=tr,tr.prototype={constructor:tr,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(y.cssNumber[n]?"":"px")},cur:function(){var e=tr.propHooks[this.prop];return e&&e.get?e.get(this):tr.propHooks._default.get(this)},run:function(e){var t,n=tr.propHooks[this.prop];return this.options.duration?this.pos=t=y.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):tr.propHooks._default.set(this),this}},tr.prototype.init.prototype=tr.prototype,tr.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=y.css(e.elem,e.prop,"auto"),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){y.fx.step[e.prop]?y.fx.step[e.prop](e):e.elem.style&&(e.elem.style[y.cssProps[e.prop]]!=null||y.cssHooks[e.prop])?y.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},tr.propHooks.scrollTop=tr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},y.each(["toggle","show","hide"],function(e,t){var n=y.fn[t];y.fn[t]=function(e,r,i){return e==null||typeof e=="boolean"?n.apply(this,arguments):this.animate(nr(t,!0),e,r,i)}}),y.fn.extend({fadeTo:function(e,t,n,r){return this.filter(en).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=y.isEmptyObject(e),s=y.speed(t,n,r),o=function(){var t=Yn(this,y.extend({},e),s);o.finish=function(){t.stop(!0)},(i||y._data(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return typeof e!="string"&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=e!=null&&e+"queueHooks",s=y.timers,o=y._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&$n.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem===this&&(e==null||s[n].queue===e)&&(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&&y.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=y._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=y.timers,o=r?r.length:0;n.finish=!0,y.queue(this,e,[]),i&&i.cur&&i.cur.finish&&i.cur.finish.call(this);for(t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),y.each({slideDown:nr("show"),slideUp:nr("hide"),slideToggle:nr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){y.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),y.speed=function(e,t,n){var r=e&&typeof e=="object"?y.extend({},e):{complete:n||!n&&t||y.isFunction(e)&&e,duration:e,easing:n&&t||t&&!y.isFunction(t)&&t};r.duration=y.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in y.fx.speeds?y.fx.speeds[r.duration]:y.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){y.isFunction(r.old)&&r.old.call(this),r.queue&&y.dequeue(this,r.queue)},r},y.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},y.timers=[],y.fx=tr.prototype.init,y.fx.tick=function(){var e,n=y.timers,r=0;zn=y.now();for(;r<n.length;r++)e=n[r],!e()&&n[r]===e&&n.splice(r--,1);n.length||y.fx.stop(),zn=t},y.fx.timer=function(e){e()&&y.timers.push(e)&&y.fx.start()},y.fx.interval=13,y.fx.start=function(){Wn||(Wn=setInterval(y.fx.tick,y.fx.interval))},y.fx.stop=function(){clearInterval(Wn),Wn=null},y.fx.speeds={slow:600,fast:200,_default:400},y.fx.step={},y.expr&&y.expr.filters&&(y.expr.filters.animated=function(e){return y.grep(y.timers,function(t){return e===t.elem}).length}),y.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){y.offset.setOffset(this,e,t)});var n,r,i={top:0,left:0},s=this[0],o=s&&s.ownerDocument;if(!o)return;return n=o.documentElement,y.contains(n,s)?(typeof s.getBoundingClientRect!="undefined"&&(i=s.getBoundingClientRect()),r=rr(o),{top:i.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:i.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):i},y.offset={setOffset:function(e,t,n){var r=y.css(e,"position");r==="static"&&(e.style.position="relative");var i=y(e),s=i.offset(),o=y.css(e,"top"),u=y.css(e,"left"),a=(r==="absolute"||r==="fixed")&&y.inArray("auto",[o,u])>-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),y.isFunction(t)&&(t=t.call(e,n,s)),t.top!=null&&(f.top=t.top-s.top+c),t.left!=null&&(f.left=t.left-s.left+h),"using"in t?t.using.call(e,f):i.css(f)}},y.fn.extend({position:function(){if(!this[0])return;var e,t,n={top:0,left:0},r=this[0];return y.css(r,"position")==="fixed"?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),y.nodeName(e[0],"html")||(n=e.offset()),n.top+=y.css(e[0],"borderTopWidth",!0),n.left+=y.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-y.css(r,"marginTop",!0),left:t.left-n.left-y.css(r,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||i.documentElement;while(e&&!y.nodeName(e,"html")&&y.css(e,"position")==="static")e=e.offsetParent;return e||i.documentElement})}}),y.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);y.fn[e]=function(i){return y.access(this,function(e,i,s){var o=rr(e);if(s===t)return o?n in o?o[n]:o.document.documentElement[i]:e[i];o?o.scrollTo(r?y(o).scrollLeft():s,r?s:y(o).scrollTop()):e[i]=s},e,i,arguments.length,null)}}),y.each({Height:"height",Width:"width"},function(e,n){y.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){y.fn[i]=function(i,s){var o=arguments.length&&(r||typeof i!="boolean"),u=r||(i===!0||s===!0?"margin":"border");return y.access(this,function(n,r,i){var s;return y.isWindow(n)?n.document.documentElement["client"+e]:n.nodeType===9?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):i===t?y.css(n,r,u):y.style(n,r,i,u)},n,o?i:t,o,null)}})}),e.jQuery=e.$=y,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return y})})(window),function(e,t){var n=function(){var t=e._data(document,"events");return t&&t.click&&e.grep(t.click,function(e){return e.namespace==="rails"}).length};n()&&e.error("jquery-ujs has already been loaded!");var r;e.rails=r={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},fire:function(t,n,r){var i=e.Event(n);return t.trigger(i,r),i.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(n){var i,s,o,u,a,f,l,c;if(r.fire(n,"ajax:before")){u=n.data("cross-domain"),a=u===t?null:u,f=n.data("with-credentials")||null,l=n.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType;if(n.is("form")){i=n.attr("method"),s=n.attr("action"),o=n.serializeArray();var h=n.data("ujs:submit-button");h&&(o.push(h),n.data("ujs:submit-button",null))}else n.is(r.inputChangeSelector)?(i=n.data("method"),s=n.data("url"),o=n.serialize(),n.data("params")&&(o=o+"&"+n.data("params"))):(i=n.data("method"),s=r.href(n),o=n.data("params")||null);c={type:i||"GET",data:o,dataType:l,beforeSend:function(e,i){return i.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+i.accepts.script),r.fire(n,"ajax:beforeSend",[e,i])},success:function(e,t,r){n.trigger("ajax:success",[e,t,r])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,r){n.trigger("ajax:error",[e,t,r])},xhrFields:{withCredentials:f},crossDomain:a},s&&(c.url=s);var p=r.ajax(c);return n.trigger("ajax:send",p),p}return!1},handleMethod:function(n){var i=r.href(n),s=n.data("method"),o=n.attr("target"),u=e("meta[name=csrf-token]").attr("content"),a=e("meta[name=csrf-param]").attr("content"),f=e('<form method="post" action="'+i+'"></form>'),l='<input name="_method" value="'+s+'" type="hidden" />';a!==t&&u!==t&&(l+='<input name="'+a+'" value="'+u+'" type="hidden" />'),o&&f.attr("target",o),f.hide().append(l).appendTo("body"),f.submit()},disableFormElements:function(t){t.find(r.disableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with",t[n]()),t[n](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(r.enableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t=e.data("confirm"),n=!1,i;return t?(r.fire(e,"confirm")&&(n=r.confirm(t),i=r.fire(e,"confirm:complete",[n])),n&&i):!0},blankInputs:function(t,n,r){var i=e(),s,o,u=n||"input,textarea",a=t.find(u);return a.each(function(){s=e(this),o=s.is(":checkbox,:radio")?s.is(":checked"):s.val();if(!o==!r){if(s.is(":radio")&&a.filter('input:radio:checked[name="'+s.attr("name")+'"]').length)return!0;i=i.add(s)}}),i.length?i:!1},nonBlankInputs:function(e,t){return r.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},callFormSubmitBindings:function(n,r){var i=n.data("events"),s=!0;return i!==t&&i.submit!==t&&e.each(i.submit,function(e,t){if(typeof t.handler=="function")return s=t.handler(r)}),s},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return r.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.data("ujs:enable-with",!1)),e.unbind("click.railsDisable")}},r.fire(e(document),"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,n){e.crossDomain||r.CSRFProtection(n)}),e(document).delegate(r.linkDisableSelector,"ajax:complete",function(){r.enableElement(e(this))}),e(document).delegate(r.linkClickSelector,"click.rails",function(n){var i=e(this),s=i.data("method"),o=i.data("params");if(!r.allowAction(i))return r.stopEverything(n);i.is(r.linkDisableSelector)&&r.disableElement(i);if(i.data("remote")!==t){if((n.metaKey||n.ctrlKey)&&(!s||s==="GET")&&!o)return!0;var u=r.handleRemote(i);return u===!1?r.enableElement(i):u.error(function(){r.enableElement(i)}),!1}if(i.data("method"))return r.handleMethod(i),!1}),e(document).delegate(r.inputChangeSelector
,"change.rails",function(t){var n=e(this);return r.allowAction(n)?(r.handleRemote(n),!1):r.stopEverything(t)}),e(document).delegate(r.formSubmitSelector,"submit.rails",function(n){var i=e(this),s=i.data("remote")!==t,o=r.blankInputs(i,r.requiredInputSelector),u=r.nonBlankInputs(i,r.fileInputSelector);if(!r.allowAction(i))return r.stopEverything(n);if(o&&i.attr("novalidate")==t&&r.fire(i,"ajax:aborted:required",[o]))return r.stopEverything(n);if(s){if(u){setTimeout(function(){r.disableFormElements(i)},13);var a=r.fire(i,"ajax:aborted:file",[u]);return a||setTimeout(function(){r.enableFormElements(i)},13),a}return!e.support.submitBubbles&&e().jquery<"1.7"&&r.callFormSubmitBindings(i,n)===!1?r.stopEverything(n):(r.handleRemote(i),!1)}setTimeout(function(){r.disableFormElements(i)},13)}),e(document).delegate(r.formInputClickSelector,"click.rails",function(t){var n=e(this);if(!r.allowAction(n))return r.stopEverything(t);var i=n.attr("name"),s=i?{name:i,value:n.val()}:null;n.closest("form").data("ujs:submit-button",s)}),e(document).delegate(r.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&r.disableFormElements(e(this))}),e(document).delegate(r.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&r.enableFormElements(e(this))}),e(function(){csrf_token=e("meta[name=csrf-token]").attr("content"),csrf_param=e("meta[name=csrf-param]").attr("content"),e('form input[name="'+csrf_param+'"]').val(csrf_token)}))}(jQuery),window.Modernizr=function(e,t,n){function r(e){d.cssText=e}function i(e,t){return r(g.join(e+";")+(t||""))}function s(e,t){return typeof e===t}function o(e,t){return!!~(""+e).indexOf(t)}function u(e,t,r){for(var i in e){var o=t[e[i]];if(o!==n)return r===!1?e[i]:s(o,"function")?o.bind(r||t):o}return!1}var a="2.6.2",f={},l=!0,c=t.documentElement,h="modernizr",p=t.createElement(h),d=p.style,v,m={}.toString,g=" -webkit- -moz- -o- -ms- ".split(" "),y={svg:"http://www.w3.org/2000/svg"},b={},w={},E={},S=[],x=S.slice,T,N=function(e,n,r,i){var s,o,u,a,f=t.createElement("div"),l=t.body,p=l||t.createElement("body");if(parseInt(r,10))while(r--)u=t.createElement("div"),u.id=i?i[r]:h+(r+1),f.appendChild(u);return s=["&#173;",'<style id="s',h,'">',e,"</style>"].join(""),f.id=h,(l?f:p).innerHTML+=s,p.appendChild(f),l||(p.style.background="",p.style.overflow="hidden",a=c.style.overflow,c.style.overflow="hidden",c.appendChild(p)),o=n(f,e),l?f.parentNode.removeChild(f):(p.parentNode.removeChild(p),c.style.overflow=a),!!o},C=function(t){var n=e.matchMedia||e.msMatchMedia;if(n)return n(t).matches;var r;return N("@media "+t+" { #"+h+" { position: absolute; } }",function(t){r=(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle)["position"]=="absolute"}),r},k={}.hasOwnProperty,L;!s(k,"undefined")&&!s(k.call,"undefined")?L=function(e,t){return k.call(e,t)}:L=function(e,t){return t in e&&s(e.constructor.prototype[t],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(typeof t!="function")throw new TypeError;var n=x.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=t.prototype;var s=new i,o=t.apply(s,n.concat(x.call(arguments)));return Object(o)===o?o:s}return t.apply(e,n.concat(x.call(arguments)))};return r}),b.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:N(["@media (",g.join("touch-enabled),("),h,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=e.offsetTop===9}),n},b.svg=function(){return!!t.createElementNS&&!!t.createElementNS(y.svg,"svg").createSVGRect},b.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==y.svg},b.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(m.call(t.createElementNS(y.svg,"clipPath")))};for(var A in b)L(b,A)&&(T=A.toLowerCase(),f[T]=b[A](),S.push((f[T]?"":"no-")+T));return f.addTest=function(e,t){if(typeof e=="object")for(var r in e)L(e,r)&&f.addTest(r,e[r]);else{e=e.toLowerCase();if(f[e]!==n)return f;t=typeof t=="function"?t():t,typeof l!="undefined"&&l&&(c.className+=" "+(t?"":"no-")+e),f[e]=t}return f},r(""),p=v=null,function(e,t){function n(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var e=g.elements;return typeof e=="string"?e.split(" "):e}function i(e){var t=v[e[p]];return t||(t={},d++,e[p]=d,v[d]=t),t}function s(e,n,r){n||(n=t);if(m)return n.createElement(e);r||(r=i(n));var s;return r.cache[e]?s=r.cache[e].cloneNode():c.test(e)?s=(r.cache[e]=r.createElem(e)).cloneNode():s=r.createElem(e),s.canHaveChildren&&!l.test(e)?r.frag.appendChild(s):s}function o(e,n){e||(e=t);if(m)return e.createDocumentFragment();n=n||i(e);var s=n.frag.cloneNode(),o=0,u=r(),a=u.length;for(;o<a;o++)s.createElement(u[o]);return s}function u(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return g.shivMethods?s(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(g,t.frag)}function a(e){e||(e=t);var r=i(e);return g.shivCSS&&!h&&!r.hasCSS&&(r.hasCSS=!!n(e,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),m||u(e,r),e}var f=e.html5||{},l=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,c=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,h,p="_html5shiv",d=0,v={},m;(function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",h="hidden"in e,m=e.childNodes.length==1||function(){t.createElement("a");var e=t.createDocumentFragment();return typeof e.cloneNode=="undefined"||typeof e.createDocumentFragment=="undefined"||typeof e.createElement=="undefined"}()}catch(n){h=!0,m=!0}})();var g={elements:f.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:f.shivCSS!==!1,supportsUnknownElements:m,shivMethods:f.shivMethods!==!1,type:"default",shivDocument:a,createElement:s,createDocumentFragment:o};e.html5=g,a(t)}(this,t),f._version=a,f._prefixes=g,f.mq=C,f.testStyles=N,c.className=c.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(l?" js "+S.join(" "):""),f}(this,this.document),function(e,t,n){function r(e){return"[object Function]"==d.call(e)}function i(e){return"string"==typeof e}function s(){}function o(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function u(){var e=v.shift();m=1,e?e.t?h(function(){("c"==e.t?k.injectCss:k.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),u()):m=0}function a(e,n,r,i,s,a,f){function l(t){if(!d&&o(c.readyState)&&(w.r=d=1,!m&&u(),c.onload=c.onreadystatechange=null,t)){"img"!=e&&h(function(){b.removeChild(c)},50);for(var r in T[n])T[n].hasOwnProperty(r)&&T[n][r].onload()}}var f=f||k.errorTimeout,c=t.createElement(e),d=0,g=0,w={t:r,s:n,e:s,a:a,x:f};1===T[n]&&(g=1,T[n]=[]),"object"==e?c.data=n:(c.src=n,c.type=e),c.width=c.height="0",c.onerror=c.onload=c.onreadystatechange=function(){l.call(this,g)},v.splice(i,0,w),"img"!=e&&(g||2===T[n]?(b.insertBefore(c,y?null:p),h(l,f)):T[n].push(c))}function f(e,t,n,r,s){return m=0,t=t||"j",i(e)?a("c"==t?E:w,e,t,this.i++,n,r,s):(v.splice(this.i++,0,e),1==v.length&&u()),this}function l(){var e=k;return e.loader={load:f,i:0},e}var c=t.documentElement,h=e.setTimeout,p=t.getElementsByTagName("script")[0],d={}.toString,v=[],m=0,g="MozAppearance"in c.style,y=g&&!!t.createRange().compareNode,b=y?c:p.parentNode,c=e.opera&&"[object Opera]"==d.call(e.opera),c=!!t.attachEvent&&!c,w=g?"object":c?"script":"img",E=c?"script":w,S=Array.isArray||function(e){return"[object Array]"==d.call(e)},x=[],T={},N={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}},C,k;k=function(e){function t(e){var e=e.split("!"),t=x.length,n=e.pop(),r=e.length,n={url:n,origUrl:n,prefixes:e},i,s,o;for(s=0;s<r;s++)o=e[s].split("="),(i=N[o.shift()])&&(n=i(n,o));for(s=0;s<t;s++)n=x[s](n);return n}function o(e,i,s,o,u){var a=t(e),f=a.autoCallback;a.url.split(".").pop().split("?").shift(),a.bypass||(i&&(i=r(i)?i:i[e]||i[o]||i[e.split("/").pop().split("?")[0]]),a.instead?a.instead(e,i,s,o,u):(T[a.url]?a.noexec=!0:T[a.url]=1,s.load(a.url,a.forceCSS||!a.forceJS&&"css"==a.url.split(".").pop().split("?").shift()?"c":n,a.noexec,a.attrs,a.timeout),(r(i)||r(f))&&s.load(function(){l(),i&&i(a.origUrl,u,o),f&&f(a.origUrl,u,o),T[a.url]=2})))}function u(e,t){function n(e,n){if(e){if(i(e))n||(f=function(){var e=[].slice.call(arguments);l.apply(this,e),c()}),o(e,f,t,0,u);else if(Object(e)===e)for(p in h=function(){var t=0,n;for(n in e)e.hasOwnProperty(n)&&t++;return t}(),e)e.hasOwnProperty(p)&&(!n&&!--h&&(r(f)?f=function(){var e=[].slice.call(arguments);l.apply(this,e),c()}:f[p]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),c()}}(l[p])),o(e[p],f,t,p,u))}else!n&&c()}var u=!!e.test,a=e.load||e.both,f=e.callback||s,l=f,c=e.complete||s,h,p;n(u?e.yep:e.nope,!!a),a&&n(a)}var a,f,c=this.yepnope.loader;if(i(e))o(e,0,c,0);else if(S(e))for(a=0;a<e.length;a++)f=e[a],i(f)?o(f,0,c,0):S(f)?k(f):Object(f)===f&&u(f,c);else Object(e)===e&&u(e,c)},k.addPrefix=function(e,t){N[e]=t},k.addFilter=function(e){x.push(e)},k.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",C=function(){t.removeEventListener("DOMContentLoaded",C,0),t.readyState="complete"},0)),e.yepnope=l(),e.yepnope.executeStack=u,e.yepnope.injectJs=function(e,n,r,i,a,f){var l=t.createElement("script"),c,d,i=i||k.errorTimeout;l.src=e;for(d in r)l.setAttribute(d,r[d]);n=f?u:n||s,l.onreadystatechange=l.onload=function(){!c&&o(l.readyState)&&(c=1,n(),l.onload=l.onreadystatechange=null)},h(function(){c||(c=1,n(1))},i),a?l.onload():p.parentNode.insertBefore(l,p)},e.yepnope.injectCss=function(e,n,r,i,o,a){var i=t.createElement("link"),f,n=a?u:n||s;i.href=e,i.rel="stylesheet",i.type="text/css";for(f in r)i.setAttribute(f,r[f]);o||(p.parentNode.insertBefore(i,p),h(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},Modernizr.addTest("ie8compat",function(){return!window.addEventListener&&document.documentMode&&document.documentMode===7}),function(e,t,n){function f(e){var t={},r=/^jQuery\d+$/;return n.each(e.attributes,function(e,n){n.specified&&!r.test(n.name)&&(t[n.name]=n.value)}),t}function l(e,r){var i=this,s=n(i);if(i.value==s.attr("placeholder")&&s.hasClass("placeholder"))if(s.data("placeholder-password")){s=s.hide().next().show().attr("id",s.removeAttr("id").data("placeholder-id"));if(e===!0)return s[0].value=r;s.focus()}else i.value="",s.removeClass("placeholder"),i==t.activeElement&&i.select()}function c(){var e,t=this,r=n(t),i=r,s=this.id;if(t.value==""){if(t.type=="password"){if(!r.data("placeholder-textinput")){try{e=r.clone().attr({type:"text"})}catch(o){e=n("<input>").attr(n.extend(f(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":!0,"placeholder-id":s}).bind("focus.placeholder",l),r.data({"placeholder-textinput":e,"placeholder-id":s}).before(e)}r=r.removeAttr("id").hide().prev().attr("id",s).show()}r.addClass("placeholder"),r[0].value=r.attr("placeholder")}else r.removeClass("placeholder")}var r="placeholder"in t.createElement("input"),i="placeholder"in t.createElement("textarea"),s=n.fn,o=n.valHooks,u,a;r&&i?(a=s.placeholder=function(){return this},a.input=a.textarea=!0):(a=s.placeholder=function(){var e=this;return e.filter((r?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":l,"blur.placeholder":c}).data("placeholder-enabled",!0).trigger("blur.placeholder"),e},a.input=r,a.textarea=i,u={get:function(e){var t=n(e);return t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,r){var i=n(e);return i.data("placeholder-enabled")?(r==""?(e.value=r,e!=t.activeElement&&c.call(e)):i.hasClass("placeholder")?l.call(e,!0,r)||(e.value=r):e.value=r,i):e.value=r}},r||(o.input=u),i||(o.textarea=u),n(function(){n(t).delegate("form","submit.placeholder",function(){var e=n(".placeholder",this).each(l);setTimeout(function(){e.each(c)},10)})}),n(e).bind("beforeunload.placeholder",function(){n(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),function(e,t,n){"use strict";e.fn.foundationAlerts=function(t){var n=e.extend({callback:e.noop},t);e(document).on("click",".alert-box a.close",function(t){t.preventDefault(),e(this).closest(".alert-box").fadeOut(function(){e(this).remove(),n.callback()})})}}(jQuery,this),function(e,t,n){"use strict";e.fn.foundationAccordion=function(t){var n=function(e){return e.hasClass("hover")&&!Modernizr.touch};e(document).on("mouseenter",".accordion li",function(){var t=e(this).parent();if(n(t)){var r=e(this).children(".content").first();e(".content",t).not(r).hide().parent("li").removeClass("active"),r.show(0,function(){r.parent("li").addClass("active")})}}),e(document).on("click.fndtn",".accordion li .title",function(){var t=e(this).closest("li"),r=t.parent();if(!n(r)){var i=t.children(".content").first();t.hasClass("active")?r.find("li").removeClass("active").end().find(".content").hide():(e(".content",r).not(i).hide().parent("li").removeClass("active"),i.show(0,function(){i.parent("li").addClass("active")}))}})}}(jQuery,this),function(e,t,n){"use strict";e.fn.foundationButtons=function(t){var r=e(document),i=e.extend({dropdownAsToggle:!1,activeClass:"active"},t),s=function(t){e(".button.dropdown").find("ul").not(t).removeClass("show-dropdown")},o=function(t){var n=e(".button.dropdown").not(t);n.add(e("> span."+i.activeClass,n)).removeClass(i.activeClass)};r.on("click.fndtn",".button.disabled",function(e){e.preventDefault()}),e(".button.dropdown > ul",this).addClass("no-hover"),r.on("click.fndtn",".button.dropdown:not(.split), .button.dropdown.split span",function(t){var n=e(this),r=n.closest(".button.dropdown"),u=e("> ul",r);e.inArray(t.target.nodeName,["A","BUTTON"])&&t.preventDefault(),setTimeout(function(){s(i.dropdownAsToggle?"":u),u.toggleClass("show-dropdown"),i.dropdownAsToggle&&(o(r),n.toggleClass(i.activeClass))},0)}),r.on("click.fndtn","body, html",function(t){if(n==t.originalEvent)return;e(t.originalEvent.target).is(".button.dropdown:not(.split), .button.dropdown.split span")||(s(),i.dropdownAsToggle&&o())});var u=e(".button.dropdown:not(.large):not(.small):not(.tiny):visible",this).outerHeight()-1,a=e(".button.large.dropdown:visible",this).outerHeight()-1,f=e(".button.small.dropdown:visible",this).outerHeight()-1,l=e(".button.tiny.dropdown:visible",this).outerHeight()-1;e(".button.dropdown:not(.large):not(.small):not(.tiny) > ul",this).css("top",u),e(".button.dropdown.large > ul",this).css("top",a),e(".button.dropdown.small > ul",this).css("top",f),e(".button.dropdown.tiny > ul",this).css("top",l),e(".button.dropdown.up:not(.large):not(.small):not(.tiny) > ul",this).css("top","auto").css("bottom",u-2),e(".button.dropdown.up.large > ul",this).css("top","auto").css("bottom",a-2),e(".button.dropdown.up.small > ul",this).css("top","auto").css("bottom",f-2),e(".button.dropdown.up.tiny > ul",this).css("top","auto").css("bottom",l-2)}}(jQuery,this),function(e,t,n){"use strict";var r={bodyHeight:0,selector:".has-tip",additionalInheritableClasses:[],tooltipClass:".tooltip",tipTemplate:function(e,t){return'<span data-selector="'+e+'" class="'+r.tooltipClass.substring(1)+'">'+t+'<span class="nub"></span></span>'}},i={init:function(t){return r=e.extend(r,t),r.selector=r.targetClass?r.targetClass:r.selector,this.each(function(){var t=e("body");Modernizr.touch?(t.on("click.tooltip touchstart.tooltip touchend.tooltip",r.selector,function(t){t.preventDefault(),e(r.tooltipClass).hide(),i.showOrCreateTip(e(this))}),t.on("click.tooltip touchstart.tooltip touchend.tooltip",r.tooltipClass,function(t){t.preventDefault(),e(this).fadeOut(150)})):t.on("mouseenter.tooltip mouseleave.tooltip",r.selector,function(t){var n=e(this);t.type==="mouseenter"?i.showOrCreateTip(n):t.type==="mouseleave"&&i.hide(n)}),e(this).data("tooltips",!0)})},showOrCreateTip:function(e,t){var n=i.getTip(e);n&&n.length>0?i.show(e):i.create(e,t)},getTip:function(t){var n=i.selector(t),s=null;return n&&(s=e("span[data-selector="+n+"]"+r.tooltipClass)),s.length>0?s:!1},selector:function(e){var t=e.attr("id"),r=e.data("selector");return t===n&&r===n&&(r="tooltip"+Math.random().toString(36).substring(7),e.attr("data-selector",r)),t?t:r},create:function(t,n){var s=e(r.tipTemplate(i.selector(t),e("<div>").html(n?n:t.attr("title")).html())),o=i.inheritable_classes(t);s.addClass(o).appendTo("body"),Modernizr.touch&&s.append('<span class="tap-to-close">tap to close </span>'),t.removeAttr("title"),i.show(t)},reposition:function(n,r,i){var s,o,u,a,f,l;r.css("visibility","hidden").show(),s=n.data("width"),o=r.children(".nub"),u=o.outerHeight(),a=o.outerWidth(),l=function(e,t,n,r,i,s){return e.css({top:t,bottom:r,left:i,right:n,"max-width":s?s:"auto"}).end()},l(r,n.offset().top+n.outerHeight()+10,"auto","auto",n.offset().left,s),l(o,-u,"auto","auto",10);if(e(t).width()<767){if(n.data("mobile-width"))r.width(n.data("mobile-width")).css("left",15).addClass("tip-override");else{f=n.closest(".columns"),f.length<0&&(f=e("body"));if(f.outerWidth())r.width(f.outerWidth()-25).css("left",15).addClass("tip-override");else{var c=Math.ceil(e(t).width()*.9);r.width(c).css("left",15).addClass("tip-override")}}l(o,-u,"auto","auto",n.offset().left)}else i&&i.indexOf("tip-top")>-1?(l(r,n.offset().top-r.outerHeight()-u,"auto","auto",n.offset().left,s).removeClass("tip-override"),l(o,"auto","auto",-u,"auto")):i&&i.indexOf("tip-left")>-1?(l(r,n.offset().top+n.outerHeight()/2-u,"auto","auto",n.offset().left-r.outerWidth()-10,s).removeClass("tip-override"),l(o,r.outerHeight()/2-u/2,-u,"auto","auto")):i&&i.indexOf("tip-right")>-1?(l(r,n.offset().top+n.outerHeight()/2-u,"auto","auto",n.offset().left+n.outerWidth()+10,s).removeClass("tip-override"),l(o,r.outerHeight()/2-u/2,"auto","auto",-u)):i&&i.indexOf("tip-centered-top")>-1?(l(r,n.offset().top-r.outerHeight()-u,"auto","auto",n.offset().left+(n.outerWidth()-r.outerWidth())/2,s).removeClass("tip-override"),l(o,"auto",r.outerWidth()/2-u/2,-u,"auto")):i&&i.indexOf("tip-centered-bottom")>-1&&(l(r,n.offset().top+n.outerHeight()+10,"auto","auto",n.offset().left+(n.outerWidth()-r.outerWidth())/2,s).removeClass("tip-override"),l(o,-u,r.outerWidth()/2-u/2,"auto","auto"));r.css("visibility","visible").hide()},inheritable_classes:function(t){var n=["tip-top","tip-left","tip-bottom","tip-right","tip-centered-top","tip-centered-bottom","noradius"].concat(r.additionalInheritableClasses),i=t.attr("class"),s=i?e.map(i.split(" "),function(t,r){if(e.inArray(t,n)!==-1)return t}).join(" "):"";return e.trim(s)},show:function(e){var t=i.getTip(e);i.reposition(e,t,e.attr("class")),t.fadeIn(150)},hide:function(e){var t=i.getTip(e);t.fadeOut(150)},reload:function(){var t=e(this);return t.data("tooltips")?t.foundationTooltips("destroy").foundationTooltips("init"):t.foundationTooltips("init")},destroy:function(){return this.each(function(){e(t).off(".tooltip"),e(r.selector).off(".tooltip"),e(r.tooltipClass).each(function(t){e(e(r.selector).get(t)).attr("title",e(this).text())}).remove()})}};e.fn.foundationTooltips=function(t){if(i[t])return i[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return i.init.apply(this,arguments);e.error("Method "+t+" does not exist on jQuery.foundationTooltips")}}(jQuery,this),function(e){var t=function(){return{tmp:[],hidden:null,adjust:function(t){var n=this;n.hidden=t.parents().andSelf().filter(":hidden"),n.hidden.each(function(){var t=e(this);n.tmp.push(t.attr("style")),t.css({visibility:"hidden",display:"block"})})},reset:function(){var t=this;t.hidden.each(function(n){var r=e(this),i=t.tmp[n];i===undefined?r.removeAttr("style"):r.attr("style",i)}),t.tmp=[],t.hidden=null}}};jQuery.foundation=jQuery.foundation||{},jQuery.foundation.customForms=jQuery.foundation.customForms||{},e.foundation.customForms.appendCustomMarkup=function(n){function i(t,n){var r=e(n).hide(),i=r.attr("type"),s=r.next("span.custom."+i);s.length===0&&(s=e('<span class="custom '+i+'"></span>').insertAfter(r)),s.toggleClass("checked",r.is(":checked")),s.toggleClass("disabled",r.is(":disabled"))}function s(r,i){var s=t(),o=e(i),u=o.next("div.custom.dropdown"),a=u.find("ul"),f=u.find(".current"),l=u.find(".selector"),c=o.find("option"),h=c.filter(":selected"),p=0,d="",v,m=!1;if(o.hasClass(n.disable_class))return;if(u.length===0){var g=o.hasClass("small")?"small":o.hasClass("medium")?"medium":o.hasClass("large")?"large":o.hasClass("expand")?"expand":"";u=e('<div class="'+["custom","dropdown",g].join(" ")+'"><a href="#" class="selector"></a><ul /></div>'),l=u.find(".selector"),a=u.find("ul"),d=c.map(function(){return"<li>"+e(this).html()+"</li>"}).get().join(""),a.append(d),m=u.prepend('<a href="#" class="current">'+h.html()+"</a>").find(".current"),o.after(u).hide()}else d=c.map(function(){return"<li>"+e(this).html()+"</li>"}).get().join(""),a.html("").append(d);u.toggleClass("disabled",o.is(":disabled")),v=a.find("li"),c.each(function(t){this.selected&&(v.eq(t).addClass("selected"),m&&m.html(e(this).html()))}),a.css("width","auto"),u.css("width","auto"),u.is(".small, .medium, .large, .expand")||(u.addClass("open"),s.adjust(a),p=v.outerWidth()>p?v.outerWidth():p,s.reset(),u.removeClass("open"),u.width(p+18),a.width(p+16))}var r={disable_class:"no-custom"};n=e.extend(r,n),e("form.custom input:radio[data-customforms!=disabled]").each(i),e("form.custom input:checkbox[data-customforms!=disabled]").each(i),e("form.custom select[data-customforms!=disabled]").each(s)};var n=function(t){var n=0,r=t.next();$options=t.find("option"),r.find("ul").html(""),$options.each(function(){$li=e("<li>"+e(this).html()+"</li>"),r.find("ul").append($li)}),$options.each(function(t){this.selected&&(r.find("li").eq(t).addClass("selected"),r.find(".current").html(e(this).html()))}),r.removeAttr("style").find("ul").removeAttr("style"),r.find("li").each(function(){r.addClass("open"),e(this).outerWidth()>n&&(n=e(this).outerWidth()),r.removeClass("open")}),r.css("width",n+18+"px"),r.find("ul").css("width",n+16+"px")},r=function(e){var t=e.prev(),n=t[0];!1===t.is(":disabled")&&(n.checked=n.checked?!1:!0,e.toggleClass("checked"),t.trigger("change"))},i=function(e){var t=e.prev(),n=t.closest("form.custom"),r=t[0];!1===t.is(":disabled")&&(n.find('input:radio[name="'+t.attr("name")+'"]').next().not(e).removeClass("checked"),e.hasClass("checked")||e.toggleClass("checked"),r.checked=e.hasClass("checked"),t.trigger("change"))};e(document).on("click","form.custom span.custom.checkbox",function(t){t.preventDefault(),t.stopPropagation(),r(e(this))}),e(document).on("click","form.custom span.custom.radio",function(t){t.preventDefault(),t.stopPropagation(),i(e(this))}),e(document).on("change","form.custom select[data-customforms!=disabled]",function(t){n(e(this))}),e(document).on("click","form.custom label",function(t){var n=e("#"+e(this).attr("for")+"[data-customforms!=disabled]"),s,o;n.length!==0&&(n.attr("type")==="checkbox"?(t.preventDefault(),s=e(this).find("span.custom.checkbox"),s.length==0&&(s=e(this).next("span.custom.checkbox")),s.length==0&&(s=e(this).prev("span.custom.checkbox")),r(s)):n.attr("type")==="radio"&&(t.preventDefault(),o=e(this).find("span.custom.radio"),o.length==0&&(o=e(this).next("span.custom.radio")),o.length==0&&(o=e(this).prev("span.custom.radio")),i(o)))}),e(document).on("click","form.custom div.custom.dropdown a.current, form.custom div.custom.dropdown a.selector",function(t){var n=e(this),r=n.closest("div.custom.dropdown"),i=r.prev();t.preventDefault(),e("div.dropdown").removeClass("open");if(!1===i.is(":disabled"))return r.toggleClass("open"),r.hasClass("open")?e(document).bind("click.customdropdown",function(t){r.removeClass("open"),e(document).unbind(".customdropdown")}):e(document).unbind(".customdropdown"),!1}),e(document).on("click","form.custom div.custom.dropdown li",function(t){var n=e(this),r=n.closest("div.custom.dropdown"),i=r.prev(),s=0;t.preventDefault(),t.stopPropagation(),e("div.dropdown").removeClass("open"),n.closest("ul").find("li").removeClass("selected"),n.addClass("selected"),r.removeClass("open").find("a.current").html(n.html()),n.closest("ul").find("li").each(function(e){n[0]==this&&(s=e)}),i[0].selectedIndex=s,i.trigger("change")}),e.fn.foundationCustomForms=e.foundation.customForms.appendCustomMarkup}(jQuery),function(e,t,n,r){"use strict";var i={callback:e.noop,deep_linking:!0,init:!1},s={init:function(t){return i=e.extend({},i,t),this.each(function(){i.init||s.events(),i.deep_linking&&s.from_hash()})},events:function(){e(n).on("click.fndtn",".tabs a",function(t){s.set_tab(e(this).parent("dd, li"),t)}),i.init=!0},set_tab:function(t,n){var r=t.closest("dl, ul").find(".active"),s=t.children("a").attr("href"),o=/^#/.test(s),u=e(s+"Tab");o&&u.length>0&&(n&&!i.deep_linking&&n.preventDefault(),u.closest(".tabs-content").children("li").removeClass("active").hide(),u.css("display","block").addClass("active")),r.removeClass("active"),t.addClass("active"),i.callback()},from_hash:function(){var n=t.location.hash,r=e('a[href="'+n+'"]');r.trigger("click.fndtn")}};e.fn.foundationTabs=function(t){if(s[t])return s[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return s.init.apply(this,arguments);e.error("Method "+t+" does not exist on jQuery.foundationTabs")}}(jQuery,this,this.document),function(e,t,n){"use strict";e.fn.foundationNavigation=function(t){var n=!1;Modernizr.touch||navigator.userAgent.match(/Windows Phone/i)?(e(document).on("click.fndtn touchstart.fndtn",".nav-bar a.flyout-toggle",function(t){t.preventDefault();var r=e(this).siblings(".flyout").first();n===!1&&(e(".nav-bar .flyout").not(r).slideUp(500),r.slideToggle(500,function(){n=!1})),n=!0}),e(".nav-bar>li.has-flyout",this).addClass("is-touch")):e(".nav-bar>li.has-flyout",this).on("mouseenter mouseleave",function(t){t.type=="mouseenter"&&(e(".nav-bar").find(".flyout").hide(),e(this).children(".flyout").show());if(t.type=="mouseleave"){var n=e(this).children(".flyout"),r=n.find("input"),i=function(t){var n;return t.length>0?(t.each(function(){e(this).is(":focus")&&(n=!0)}),n):!1};i(r)||e(this).children(".flyout").hide()}})}}(jQuery,this),function(e,t,n){"use strict";var r={index:0,initialized:!1},i={init:function(n){return this.each(function(){r=e.extend(r,n),r.$w=e(t),r.$topbar=e("nav.top-bar"),r.$section=r.$topbar.find("section"),r.$titlebar=r.$topbar.children("ul:first");var s=e("<div class='top-bar-js-breakpoint'/>").appendTo("body");r.breakPoint=s.width(),s.remove(),r.initialized||(i.assemble(),r.initialized=!0),r.height||i.largestUL(),r.$topbar.parent().hasClass("fixed")&&e("body").css("padding-top",r.$topbar.outerHeight()),e(".top-bar .toggle-topbar").off("click.fndtn").on("click.fndtn",function(e){e.preventDefault(),i.breakpoint()&&(r.$topbar.toggleClass("expanded"),r.$topbar.css("min-height","")),r.$topbar.hasClass("expanded")||(r.$section.css({left:"0%"}),r.$section.find(">.name").css({left:"100%"}),r.$section.find("li.moved").removeClass("moved"),r.index=0)}),e(".top-bar .has-dropdown>a").off("click.fndtn").on("click.fndtn",function(t){(Modernizr.touch||i.breakpoint())&&t.preventDefault();if(i.breakpoint()){var n=e(this),s=n.closest("li");r.index+=1,s.addClass("moved"),r.$section.css({left:-(100*r.index)+"%"}),r.$section.find(">.name").css({left:100*r.index+"%"}),n.siblings("ul").height(r.height+r.$titlebar.outerHeight(!0)),r.$topbar.css("min-height",r.height+r.$titlebar.outerHeight(!0)*2)}}),e(t).on("resize.fndtn.topbar",function(){i.breakpoint()||r.$topbar.css("min-height","")}),e(".top-bar .has-dropdown .back").off("click.fndtn").on("click.fndtn",function(t){t.preventDefault();var n=e(this),i=n.closest("li.moved"),s=i.parent();r.index-=1,r.$section.css({left:-(100*r.index)+"%"}),r.$section.find(">.name").css({left:100*r.index+"%"}),r.index===0&&r.$topbar.css("min-height",0),setTimeout(function(){i.removeClass("moved")},300)})})},breakpoint:function(){return r.$w.width()<r.breakPoint},assemble:function(){r.$section.detach(),r.$section.find(".has-dropdown>a").each(function(){var t=e(this),n=t.siblings(".dropdown"),r=e('<li class="title back js-generated"><h5><a href="#"></a></h5></li>');r.find("h5>a").html(t.html()),n.prepend(r)}),r.$section.appendTo(r.$topbar)},largestUL:function(){var t=r.$topbar.find("section ul ul"),n=t.first(),i=0;t.each(function(){e(this).children("li").length>n.children("li").length&&(n=e(this))}),n.children("li").each(function(){i+=e(this).outerHeight(!0)}),r.height=i}};e.fn.foundationTopBar=function(t){if(i[t])return i[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return i.init.apply(this,arguments);e.error("Method "+t+" does not exist on jQuery.foundationTopBar")};if(e(".sticky").length>0){var s=e(".sticky").length?e(".sticky").offset().top:0,o=e(t);o.scroll(function(){o.scrollTop()>=s?e(".sticky").addClass("fixed"):o.scrollTop()<s&&e(".sticky").removeClass("fixed")})}}(jQuery,this),function(e){"use strict";var t=!1;e(document).on("click","a[data-reveal-id]",function(t){t.preventDefault();var n=e(this).attr("data-reveal-id");e("#"+n).reveal(e(this).data())}),e.fn.reveal=function(n){var r=e(document),i={animation:"fadeAndPop",animationSpeed:300,closeOnBackgroundClick:!0,dismissModalClass:"close-reveal-modal",open:e.noop,opened:e.noop,close:e.noop,closed:e.noop};return n=e.extend({},i,n),this.not(".reveal-modal.open").each(function(){function c(){u=!1}function h(){u=!0}function p(){var n=e(".reveal-modal.open");n.length===1&&(t=!0,n.trigger("reveal:close"))}function d(){u||(h(),p(),i.addClass("open"),n.animation==="fadeAndPop"&&(f.open.top=r.scrollTop()-o,f.open.opacity=0,i.css(f.open),a.fadeIn(n.animationSpeed/2),i.delay(n.animationSpeed/2).animate({top:r.scrollTop()+s+"px",opacity:1},n.animationSpeed,function(){i.trigger("reveal:opened")})),n.animation==="fade"&&(f.open.top=r.scrollTop()+s,f.open.opacity=0,i.css(f.open),a.fadeIn(n.animationSpeed/2),i.delay(n.animationSpeed/2).animate({opacity:1},n.animationSpeed,function(){i.trigger("reveal:opened")})),n.animation==="none"&&(f.open.top=r.scrollTop()+s,f.open.opacity=1,i.css(f.open),a.css({display:"block"}),i.trigger("reveal:opened")))}function v(){var e=i.find(".flex-video"),t=e.find("iframe");t.length>0&&(t.attr("src",t.data("src")),e.fadeIn(100))}function m(){u||(h(),i.removeClass("open"),n.animation==="fadeAndPop"&&(i.animate({top:r.scrollTop()-o+"px",opacity:0},n.animationSpeed/2,function(){i.css(f.close)}),t?i.trigger("reveal:closed"):a.delay(n.animationSpeed).fadeOut(n.animationSpeed,function(){i.trigger("reveal:closed")})),n.animation==="fade"&&(i.animate({opacity:0},n.animationSpeed,function(){i.css(f.close)}),t?i.trigger("reveal:closed"):a.delay(n.animationSpeed).fadeOut(n.animationSpeed,function(){i.trigger("reveal:closed")})),n.animation==="none"&&(i.css(f.close),t||a.css({display:"none"}),i.trigger("reveal:closed")),t=!1)}function g(){i.unbind(".reveal"),a.unbind(".reveal"),l.unbind(".reveal"),e("body").unbind(".reveal")}function y(){var e=i.find(".flex-video"),t=e.find("iframe");t.length>0&&(t.data("src",t.attr("src")),t.attr("src",""),e.fadeOut(100))}var i=e(this),s=parseInt(i.css("top"),10),o=i.height()+s,u=!1,a=e(".reveal-modal-bg"),f={open:{top:0,opacity:0,visibility:"visible",display:"block"},close:{top:s,opacity:1,visibility:"hidden",display:"none"}},l;a.length===0&&(a=e("<div />",{"class":"reveal-modal-bg"}).insertAfter(i),a.fadeTo("fast",.8)),i.bind("reveal:open.reveal",d),i.bind("reveal:open.reveal",v),i.bind("reveal:close.reveal",m),i.bind("reveal:closed.reveal",y),i.bind("reveal:opened.reveal reveal:closed.reveal",c),i.bind("reveal:closed.reveal",g),i.bind("reveal:open.reveal",n.open),i.bind("reveal:opened.reveal",n.opened),i.bind("reveal:close.reveal",n.close),i.bind("reveal:closed.reveal",n.closed),i.trigger("reveal:open"),l=e("."+n.dismissModalClass).bind("click.reveal",function(){i.trigger("reveal:close")}),n.closeOnBackgroundClick&&(a.css({cursor:"pointer"}),a.bind("click.reveal",function(){i.trigger("reveal:close")})),e("body").bind("keyup.reveal",function(e){e.which===27&&i.trigger("reveal:close")})})}}(jQuery),function(e){"use strict";e.fn.findFirstImage=function(){return this.first().find("img").andSelf().filter("img").first()};
var t={defaults:{animation:"horizontal-push",animationSpeed:600,timer:!0,advanceSpeed:4e3,pauseOnHover:!1,startClockOnMouseOut:!1,startClockOnMouseOutAfter:1e3,directionalNav:!0,directionalNavRightText:"Right",directionalNavLeftText:"Left",captions:!0,captionAnimation:"fade",captionAnimationSpeed:600,resetTimerOnClick:!1,bullets:!1,bulletThumbs:!1,bulletThumbLocation:"",bulletThumbsHideOnSmall:!0,afterSlideChange:e.noop,afterLoadComplete:e.noop,fluid:!0,centerBullets:!0,singleCycle:!1,slideNumber:!1,stackOnSmall:!1},activeSlide:0,numberSlides:0,orbitWidth:null,orbitHeight:null,locked:null,timerRunning:null,degrees:0,wrapperHTML:'<div class="orbit-wrapper" />',timerHTML:'<div class="timer"><span class="mask"><span class="rotator"></span></span><span class="pause"></span></div>',captionHTML:'<div class="orbit-caption"></div>',directionalNavHTML:'<div class="slider-nav hide-for-small"><span class="right"></span><span class="left"></span></div>',bulletHTML:'<ul class="orbit-bullets"></ul>',slideNumberHTML:'<span class="orbit-slide-counter"></span>',init:function(t,n){var r,i=0,s=this;this.clickTimer=e.proxy(this.clickTimer,this),this.addBullet=e.proxy(this.addBullet,this),this.resetAndUnlock=e.proxy(this.resetAndUnlock,this),this.stopClock=e.proxy(this.stopClock,this),this.startTimerAfterMouseLeave=e.proxy(this.startTimerAfterMouseLeave,this),this.clearClockMouseLeaveTimer=e.proxy(this.clearClockMouseLeaveTimer,this),this.rotateTimer=e.proxy(this.rotateTimer,this),this.options=e.extend({},this.defaults,n),this.options.timer==="false"&&(this.options.timer=!1),this.options.captions==="false"&&(this.options.captions=!1),this.options.directionalNav==="false"&&(this.options.directionalNav=!1),this.$element=e(t),this.$wrapper=this.$element.wrap(this.wrapperHTML).parent(),this.$slides=this.$element.children("img, a, div, figure, li"),this.$element.on("movestart",function(e){(e.distX>e.distY&&e.distX<-e.distY||e.distX<e.distY&&e.distX>-e.distY)&&e.preventDefault()}),this.$element.bind("orbit.next",function(){s.shift("next")}),this.$element.bind("orbit.prev",function(){s.shift("prev")}),this.$element.bind("swipeleft",function(){e(this).trigger("orbit.next")}),this.$element.bind("swiperight",function(){e(this).trigger("orbit.prev")}),this.$element.bind("orbit.goto",function(e,t){s.shift(t)}),this.$element.bind("orbit.start",function(e,t){s.startClock()}),this.$element.bind("orbit.stop",function(e,t){s.stopClock()}),r=this.$slides.filter("img"),r.length===0?this.loaded():r.bind("imageready",function(){i+=1,i===r.length&&s.loaded()})},loaded:function(){this.$element.addClass("orbit").css({width:"1px",height:"1px"}),this.options.stackOnSmall&&this.$element.addClass("orbit-stack-on-small"),this.$slides.addClass("orbit-slide").css({opacity:0}),this.setDimentionsFromLargestSlide(),this.updateOptionsIfOnlyOneSlide(),this.setupFirstSlide(),this.notifySlideChange(),this.options.timer&&(this.setupTimer(),this.startClock()),this.options.captions&&this.setupCaptions(),this.options.directionalNav&&this.setupDirectionalNav(),this.options.bullets&&(this.setupBulletNav(),this.setActiveBullet()),this.options.afterLoadComplete.call(this),Holder.run()},currentSlide:function(){return this.$slides.eq(this.activeSlide)},notifySlideChange:function(){if(this.options.slideNumber){var t=this.activeSlide+1+" of "+this.$slides.length;this.$element.trigger("orbit.change",{slideIndex:this.activeSlide,slideCount:this.$slides.length});if(this.$counter===undefined){var n=e(this.slideNumberHTML).html(t);this.$counter=n,this.$wrapper.append(this.$counter)}else this.$counter.html(t)}},setDimentionsFromLargestSlide:function(){var t=this,n;t.$element.add(t.$wrapper).width(this.$slides.first().outerWidth()),t.$element.add(t.$wrapper).height(this.$slides.first().height()),t.orbitWidth=this.$slides.first().outerWidth(),t.orbitHeight=this.$slides.first().height(),n=this.$slides.first().findFirstImage().clone(),this.$slides.each(function(){var r=e(this),i=r.outerWidth(),s=r.height();i>t.$element.outerWidth()&&(t.$element.add(t.$wrapper).width(i),t.orbitWidth=t.$element.outerWidth()),s>t.$element.height()&&(t.$element.add(t.$wrapper).height(s),t.orbitHeight=t.$element.height(),n=e(this).findFirstImage().clone()),t.numberSlides+=1}),this.options.fluid&&(typeof this.options.fluid=="string"&&(n=e("<img>").attr("data-src","holder.js/"+this.options.fluid)),t.$element.prepend(n),n.addClass("fluid-placeholder"),t.$element.add(t.$wrapper).css({width:"inherit"}),t.$element.add(t.$wrapper).css({height:"inherit"}),e(window).bind("resize",function(){t.orbitWidth=t.$element.outerWidth(),t.orbitHeight=t.$element.height()}))},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},updateOptionsIfOnlyOneSlide:function(){this.$slides.length===1&&(this.options.directionalNav=!1,this.options.timer=!1,this.options.bullets=!1)},setupFirstSlide:function(){var e=this;this.$slides.first().css({"z-index":3,opacity:1}).fadeIn(function(){e.$slides.css({display:"block"})})},startClock:function(){var e=this;if(!this.options.timer)return!1;this.$timer.is(":hidden")?this.clock=setInterval(function(){e.$element.trigger("orbit.next")},this.options.advanceSpeed):(this.timerRunning=!0,this.$pause.removeClass("active"),this.clock=setInterval(this.rotateTimer,this.options.advanceSpeed/180,!1))},rotateTimer:function(e){var t="rotate("+this.degrees+"deg)";this.degrees+=2,this.$rotator.css({"-webkit-transform":t,"-moz-transform":t,"-o-transform":t,"-ms-transform":t}),e&&(this.degrees=0,this.$rotator.removeClass("move"),this.$mask.removeClass("move")),this.degrees>180&&(this.$rotator.addClass("move"),this.$mask.addClass("move")),this.degrees>360&&(this.$rotator.removeClass("move"),this.$mask.removeClass("move"),this.degrees=0,this.$element.trigger("orbit.next"))},stopClock:function(){if(!this.options.timer)return!1;this.timerRunning=!1,clearInterval(this.clock),this.$pause.addClass("active")},setupTimer:function(){this.$timer=e(this.timerHTML),this.$wrapper.append(this.$timer),this.$rotator=this.$timer.find(".rotator"),this.$mask=this.$timer.find(".mask"),this.$pause=this.$timer.find(".pause"),this.$timer.click(this.clickTimer),this.options.startClockOnMouseOut&&(this.$wrapper.mouseleave(this.startTimerAfterMouseLeave),this.$wrapper.mouseenter(this.clearClockMouseLeaveTimer)),this.options.pauseOnHover&&this.$wrapper.mouseenter(this.stopClock)},startTimerAfterMouseLeave:function(){var e=this;this.outTimer=setTimeout(function(){e.timerRunning||e.startClock()},this.options.startClockOnMouseOutAfter)},clearClockMouseLeaveTimer:function(){clearTimeout(this.outTimer)},clickTimer:function(){this.timerRunning?this.stopClock():this.startClock()},setupCaptions:function(){this.$caption=e(this.captionHTML),this.$wrapper.append(this.$caption),this.setCaption()},setCaption:function(){var t=this.currentSlide().attr("data-caption"),n;if(!this.options.captions)return!1;if(t){if(e.trim(e(t).text()).length<1)return!1;t.charAt(0)=="#"&&(t=t.substring(1,t.length)),n=e("#"+t).html(),this.$caption.attr("id",t).html(n);switch(this.options.captionAnimation){case"none":this.$caption.show();break;case"fade":this.$caption.fadeIn(this.options.captionAnimationSpeed);break;case"slideOpen":this.$caption.slideDown(this.options.captionAnimationSpeed)}}else switch(this.options.captionAnimation){case"none":this.$caption.hide();break;case"fade":this.$caption.fadeOut(this.options.captionAnimationSpeed);break;case"slideOpen":this.$caption.slideUp(this.options.captionAnimationSpeed)}},setupDirectionalNav:function(){var t=this,n=e(this.directionalNavHTML);n.find(".right").html(this.options.directionalNavRightText),n.find(".left").html(this.options.directionalNavLeftText),this.$wrapper.append(n),this.$wrapper.find(".left").click(function(){t.stopClock(),t.options.resetTimerOnClick&&(t.rotateTimer(!0),t.startClock()),t.$element.trigger("orbit.prev")}),this.$wrapper.find(".right").click(function(){t.stopClock(),t.options.resetTimerOnClick&&(t.rotateTimer(!0),t.startClock()),t.$element.trigger("orbit.next")})},setupBulletNav:function(){this.$bullets=e(this.bulletHTML),this.$wrapper.append(this.$bullets),this.$slides.each(this.addBullet),this.$element.addClass("with-bullets"),this.options.centerBullets&&this.$bullets.css("margin-left",-this.$bullets.outerWidth()/2),this.options.bulletThumbsHideOnSmall&&this.$bullets.addClass("hide-for-small")},addBullet:function(t,n){var r=t+1,i=e("<li>"+r+"</li>"),s,o=this;this.options.bulletThumbs&&(s=e(n).attr("data-thumb"),s&&i.addClass("has-thumb").css({background:"url("+this.options.bulletThumbLocation+s+") no-repeat"})),this.$bullets.append(i),i.data("index",t),i.click(function(){o.stopClock(),o.options.resetTimerOnClick&&(o.rotateTimer(!0),o.startClock()),o.$element.trigger("orbit.goto",[i.data("index")])})},setActiveBullet:function(){if(!this.options.bullets)return!1;this.$bullets.find("li").removeClass("active").eq(this.activeSlide).addClass("active")},resetAndUnlock:function(){this.$slides.eq(this.prevActiveSlide).css({"z-index":1}),this.unlock(),this.options.afterSlideChange.call(this,this.$slides.eq(this.prevActiveSlide),this.$slides.eq(this.activeSlide))},shift:function(t){var n=t;this.prevActiveSlide=this.activeSlide;if(this.prevActiveSlide==n)return!1;if(this.$slides.length=="1")return!1;this.locked||(this.lock(),t=="next"?(this.activeSlide++,this.activeSlide==this.numberSlides&&(this.activeSlide=0)):t=="prev"?(this.activeSlide--,this.activeSlide<0&&(this.activeSlide=this.numberSlides-1)):(this.activeSlide=t,this.prevActiveSlide<this.activeSlide?n="next":this.prevActiveSlide>this.activeSlide&&(n="prev")),this.setActiveBullet(),this.notifySlideChange(),this.$slides.eq(this.prevActiveSlide).css({"z-index":2}),this.options.animation=="fade"&&(this.$slides.eq(this.activeSlide).css({opacity:0,"z-index":3}).animate({opacity:1},this.options.animationSpeed,this.resetAndUnlock),this.$slides.eq(this.prevActiveSlide).animate({opacity:0},this.options.animationSpeed)),this.options.animation=="horizontal-slide"&&(n=="next"&&this.$slides.eq(this.activeSlide).css({left:this.orbitWidth,"z-index":3}).css("opacity",1).animate({left:0},this.options.animationSpeed,this.resetAndUnlock),n=="prev"&&this.$slides.eq(this.activeSlide).css({left:-this.orbitWidth,"z-index":3}).css("opacity",1).animate({left:0},this.options.animationSpeed,this.resetAndUnlock),this.$slides.eq(this.prevActiveSlide).css("opacity",0)),this.options.animation=="vertical-slide"&&(n=="prev"&&(this.$slides.eq(this.activeSlide).css({top:this.orbitHeight,"z-index":3}).css("opacity",1).animate({top:0},this.options.animationSpeed,this.resetAndUnlock),this.$slides.eq(this.prevActiveSlide).css("opacity",0)),n=="next"&&this.$slides.eq(this.activeSlide).css({top:-this.orbitHeight,"z-index":3}).css("opacity",1).animate({top:0},this.options.animationSpeed,this.resetAndUnlock),this.$slides.eq(this.prevActiveSlide).css("opacity",0)),this.options.animation=="horizontal-push"&&(n=="next"&&(this.$slides.eq(this.activeSlide).css({left:this.orbitWidth,"z-index":3}).animate({left:0,opacity:1},this.options.animationSpeed,this.resetAndUnlock),this.$slides.eq(this.prevActiveSlide).animate({left:-this.orbitWidth},this.options.animationSpeed,"",function(){e(this).css({opacity:0})})),n=="prev"&&(this.$slides.eq(this.activeSlide).css({left:-this.orbitWidth,"z-index":3}).animate({left:0,opacity:1},this.options.animationSpeed,this.resetAndUnlock),this.$slides.eq(this.prevActiveSlide).animate({left:this.orbitWidth},this.options.animationSpeed,"",function(){e(this).css({opacity:0})}))),this.options.animation=="vertical-push"&&(n=="next"&&(this.$slides.eq(this.activeSlide).css({top:-this.orbitHeight,"z-index":3}).css("opacity",1).animate({top:0,opacity:1},this.options.animationSpeed,this.resetAndUnlock),this.$slides.eq(this.prevActiveSlide).css("opacity",0).animate({top:this.orbitHeight},this.options.animationSpeed,"")),n=="prev"&&(this.$slides.eq(this.activeSlide).css({top:this.orbitHeight,"z-index":3}).css("opacity",1).animate({top:0},this.options.animationSpeed,this.resetAndUnlock),this.$slides.eq(this.prevActiveSlide).css("opacity",0).animate({top:-this.orbitHeight},this.options.animationSpeed))),this.setCaption()),this.activeSlide===this.$slides.length-1&&this.options.singleCycle&&this.stopClock()}};e.fn.orbit=function(n){return this.each(function(){var r=e.extend({},t);r.init(this,n)})}}(jQuery),function(e){function n(t,n){var r=e(t);r.bind("load.imageready",function(){n.apply(t,arguments),r.unbind("load.imageready")})}var t={};e.event.special.imageready={setup:function(e,n,r){t=e||t},add:function(r){var i=e(this),s;this.nodeType===1&&this.tagName.toLowerCase()==="img"&&this.src!==""&&(t.forceLoad?(s=i.attr("src"),i.attr("src",""),n(this,r.handler),i.attr("src",s)):this.complete||this.readyState===4?r.handler.apply(this,arguments):n(this,r.handler))},teardown:function(t){e(this).unbind(".imageready")}}}(jQuery);var Holder=Holder||{};(function(e,t){function s(e,t){var n="complete",r="readystatechange",i=!1,s=i,o=!0,u=e.document,a=u.documentElement,f=u.addEventListener?"addEventListener":"attachEvent",l=u.addEventListener?"removeEventListener":"detachEvent",c=u.addEventListener?"":"on",h=function(o){(o.type!=r||u.readyState==n)&&((o.type=="load"?e:u)[l](c+o.type,h,i),!s&&(s=!0)&&t.call(e,null))},p=function(){try{a.doScroll("left")}catch(e){setTimeout(p,50);return}h("poll")};if(u.readyState==n)t.call(e,"lazy");else{if(u.createEventObject&&a.doScroll){try{o=!e.frameElement}catch(d){}o&&p()}u[f](c+"DOMContentLoaded",h,i),u[f](c+r,h,i),e[f](c+"load",h,i)}}function o(e){e=e.match(/^(\W)?(.*)/);var t=document["getElement"+(e[1]?e[1]=="#"?"ById":"sByClassName":"sByTagName")](e[2]),n=[];return t!=null&&(t.length?n=t:t.length==0?n=t:n=[t]),n}function u(e,t){var n={};for(var r in e)n[r]=e[r];for(var i in t)n[i]=t[i];return n}function a(e,t,n){var r=[t.height,t.width].sort(),s=Math.round(r[1]/16),o=Math.round(r[0]/16),u=Math.max(n.size,s);i.width=t.width,i.height=t.height,e.textAlign="center",e.textBaseline="middle",e.fillStyle=n.background,e.fillRect(0,0,t.width,t.height),e.fillStyle=n.foreground,e.font="bold "+u+"px sans-serif";var a=n.text?n.text:t.width+"x"+t.height;return Math.round(e.measureText(a).width)/t.width>1&&(u=Math.max(o,n.size)),e.font="bold "+u+"px sans-serif",e.fillText(a,t.width/2,t.height/2,t.width),i.toDataURL("image/png")}var n=!1,r=!1,i=document.createElement("canvas");if(!i.getContext)r=!0;else if(i.toDataURL("image/png").indexOf("data:image/png")<0)r=!0;else var f=i.getContext("2d");var l={domain:"holder.js",images:"img",themes:{gray:{background:"#eee",foreground:"#aaa",size:12},social:{background:"#3a5a97",foreground:"#fff",size:12},industrial:{background:"#434A52",foreground:"#C2F200",size:12}}};e.flags={dimensions:{regex:/([0-9]+)x([0-9]+)/,output:function(e){var t=this.regex.exec(e);return{width:+t[1],height:+t[2]}}},colors:{regex:/#([0-9a-f]{3,})\:#([0-9a-f]{3,})/i,output:function(e){var t=this.regex.exec(e);return{size:l.themes.gray.size,foreground:"#"+t[2],background:"#"+t[1]}}},text:{regex:/text\:(.*)/,output:function(e){return this.regex.exec(e)[1]}}};for(var c in e.flags)e.flags[c].match=function(e){return e.match(this.regex)};e.add_theme=function(t,n){return t!=null&&n!=null&&(l.themes[t]=n),e},e.add_image=function(t,n){var r=o(n);if(r.length)for(var i=0,s=r.length;i<s;i++){var u=document.createElement("img");u.setAttribute("data-src",t),r[i].appendChild(u)}return e},e.run=function(t){var n=u(l,t),i=o(n.images),s=!0;for(var c=i.length,h=0;h<c;h++){var p=l.themes.gray,d=i[h].getAttribute("data-src")||i[h].getAttribute("src");if(d&&!!~d.indexOf(n.domain)){var v=!1,m=null,g=null,y=d.substr(d.indexOf(n.domain)+n.domain.length+1).split("/");for(sl=y.length,j=0;j<sl;j++)e.flags.dimensions.match(y[j])?(v=!0,m=e.flags.dimensions.output(y[j])):e.flags.colors.match(y[j])?p=e.flags.colors.output(y[j]):n.themes[y[j]]?p=n.themes[y[j]]:e.flags.text.match(y[j])&&(g=e.flags.text.output(y[j]));if(v){i[h].setAttribute("data-src",d);var b=m.width+"x"+m.height;i[h].setAttribute("alt",g?g:p.text?p.text+" ["+b+"]":b),i[h].style.backgroundColor=p.background;var p=g?u(p,{text:g}):p;r||i[h].setAttribute("src",a(f,m,p))}}}return e},s(t,function(){n||e.run()})})(Holder,window),function(e,t,n){"use strict";e.fn.foundationMagellan=function(n){var r=e(t),i=e(document),s=e("[data-magellan-expedition=fixed]"),o={threshold:s.length?s.outerHeight(!0):0,activeClass:"active"},n=e.extend({},o,n);i.on("magellan.arrival","[data-magellan-arrival]",function(t){var r=e(this),i=r.closest("[data-magellan-expedition]"),s=i.attr("data-magellan-active-class")||n.activeClass;r.closest("[data-magellan-expedition]").find("[data-magellan-arrival]").not(this).removeClass(s),r.addClass(s)});var u=e("[data-magellan-expedition]");u.find("[data-magellan-arrival]:first").addClass(u.attr("data-magellan-active-class")||n.activeClass),s.on("magellan.update-position",function(){var t=e(this);t.data("magellan-fixed-position",""),t.data("magellan-top-offset","")}).trigger("magellan.update-position"),r.on("resize.magellan",function(){s.trigger("magellan.update-position")}),r.on("scroll.magellan",function(){var t=r.scrollTop();s.each(function(){var r=e(this);r.data("magellan-top-offset")===""&&r.data("magellan-top-offset",r.offset().top);var i=t+n.threshold>r.data("magellan-top-offset");r.data("magellan-fixed-position")!=i&&(r.data("magellan-fixed-position",i),i?r.css({position:"fixed",top:0}):r.css({position:"",top:""}))})});var a=e("[data-magellan-destination]:last");a.length>0&&r.on("scroll.magellan",function(t){var s=r.scrollTop(),o=s+r.outerHeight(!0),u=Math.ceil(a.offset().top);e("[data-magellan-destination]").each(function(){var t=e(this),r=t.attr("data-magellan-destination"),a=t.offset().top-s;a<=n.threshold&&e("[data-magellan-arrival="+r+"]").trigger("magellan.arrival"),o>=i.outerHeight(!0)&&u>s&&u<o&&e("[data-magellan-arrival]:last").trigger("magellan.arrival")})})}}(jQuery,this),function(e,t,n){"use strict";var r={version:"2.0.3",tipLocation:"bottom",nubPosition:"auto",scrollSpeed:300,timer:0,startTimerOnClick:!0,startOffset:0,nextButton:!0,tipAnimation:"fade",pauseAfter:[],tipAnimationFadeSpeed:300,cookieMonster:!1,cookieName:"joyride",cookieDomain:!1,tipContainer:"body",postRideCallback:e.noop,postStepCallback:e.noop,template:{link:'<a href="#close" class="joyride-close-tip">X</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper"></div>',button:'<a href="#" class="small button joyride-next-tip"></a>'}},i=i||!1,s={},o={init:function(n){return this.each(function(){if(e.isEmptyObject(s)){s=e.extend(!0,r,n),s.document=t.document,s.$document=e(s.document),s.$window=e(t),s.$content_el=e(this),s.body_offset=e(s.tipContainer).position(),s.$tip_content=e("> li",s.$content_el),s.paused=!1,s.attempts=0,s.tipLocationPatterns={top:["bottom"],bottom:[],left:["right","top","bottom"],right:["left","top","bottom"]},o.jquery_check(),e.isFunction(e.cookie)||(s.cookieMonster=!1);if(!s.cookieMonster||!e.cookie(s.cookieName))s.$tip_content.each(function(t){o.create({$li:e(this),index:t})}),!s.startTimerOnClick&&s.timer>0?(o.show("init"),o.startTimer()):o.show("init");s.$document.on("click.joyride",".joyride-next-tip, .joyride-modal-bg",function(e){e.preventDefault(),s.$li.next().length<1?o.end():s.timer>0?(clearTimeout(s.automate),o.hide(),o.show(),o.startTimer()):(o.hide(),o.show())}),s.$document.on("click.joyride",".joyride-close-tip",function(e){e.preventDefault(),o.end()}),s.$window.bind("resize.joyride",function(e){o.is_phone()?o.pos_phone():o.pos_default()})}else o.restart()})},resume:function(){o.set_li(),o.show()},tip_template:function(t){var n,r;return t.tip_class=t.tip_class||"",n=e(s.template.tip).addClass(t.tip_class),r=e.trim(e(t.li).html())+o.button_text(t.button_text)+s.template.link+o.timer_instance(t.index),n.append(e(s.template.wrapper)),n.first().attr("data-index",t.index),e(".joyride-content-wrapper",n).append(r),n[0]},timer_instance:function(t){var n;return t===0&&s.startTimerOnClick&&s.timer>0||s.timer===0?n="":n=o.outerHTML(e(s.template.timer)[0]),n},button_text:function(t){return s.nextButton?(t=e.trim(t)||"Next",t=o.outerHTML(e(s.template.button).append(t)[0])):t="",t},create:function(t){var n=t.$li.attr("data-button")||t.$li.attr("data-text"),r=t.$li.attr("class"),i=e(o.tip_template({tip_class:r,index:t.index,button_text:n,li:t.$li}));e(s.tipContainer).append(i)},show:function(t){var r={},i,u=[],a=0,f,l=null;if(s.$li===n||e.inArray(s.$li.index(),s.pauseAfter)===-1){s.paused?s.paused=!1:o.set_li(t),s.attempts=0;if(s.$li.length&&s.$target.length>0){u=(s.$li.data("options")||":").split(";"),a=u.length;for(i=a-1;i>=0;i--)f=u[i].split(":"),f.length===2&&(r[e.trim(f[0])]=e.trim(f[1]));s.tipSettings=e.extend({},s,r),s.tipSettings.tipLocationPattern=s.tipLocationPatterns[s.tipSettings.tipLocation],/body/i.test(s.$target.selector)||o.scroll_to(),o.is_phone()?o.pos_phone(!0):o.pos_default(!0),l=e(".joyride-timer-indicator",s.$next_tip),/pop/i.test(s.tipAnimation)?(l.outerWidth(0),s.timer>0?(s.$next_tip.show(),l.animate({width:e(".joyride-timer-indicator-wrap",s.$next_tip).outerWidth()},s.timer)):s.$next_tip.show()):/fade/i.test(s.tipAnimation)&&(l.outerWidth(0),s.timer>0?(s.$next_tip.fadeIn(s.tipAnimationFadeSpeed),s.$next_tip.show(),l.animate({width:e(".joyride-timer-indicator-wrap",s.$next_tip).outerWidth()},s.timer)):s.$next_tip.fadeIn(s.tipAnimationFadeSpeed)),s.$current_tip=s.$next_tip}else s.$li&&s.$target.length<1?o.show():o.end()}else s.paused=!0},is_phone:function(){return i?i.mq("only screen and (max-width: 767px)"):s.$window.width()<767?!0:!1},hide:function(){s.postStepCallback(s.$li.index(),s.$current_tip),e(".joyride-modal-bg").hide(),s.$current_tip.hide()},set_li:function(e){e?(s.$li=s.$tip_content.eq(s.startOffset),o.set_next_tip(),s.$current_tip=s.$next_tip):(s.$li=s.$li.next(),o.set_next_tip()),o.set_target()},set_next_tip:function(){s.$next_tip=e(".joyride-tip-guide[data-index="+s.$li.index()+"]")},set_target:function(){var t=s.$li.attr("data-class"),n=s.$li.attr("data-id"),r=function(){return n?e(s.document.getElementById(n)):t?e("."+t).first():e("body")};s.$target=r()},scroll_to:function(){var t,n;t=s.$window.height()/2,n=Math.ceil(s.$target.offset().top-t+s.$next_tip.outerHeight()),e("html, body").stop().animate({scrollTop:n},s.scrollSpeed)},paused:function(){return e.inArray(s.$li.index()+1,s.pauseAfter)===-1?!0:!1},destroy:function(){s.$document.off(".joyride"),e(t).off(".joyride"),e(".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg").off(".joyride"),e(".joyride-tip-guide, .joyride-modal-bg").remove(),clearTimeout(s.automate),s={}},restart:function(){o.hide(),s.$li=n,o.show("init")},pos_default:function(t){var n=Math.ceil(s.$window.height()/2),r=s.$next_tip.offset(),i=e(".joyride-nub",s.$next_tip),u=Math.ceil(i.outerHeight()/2),a=t||!1;a&&(s.$next_tip.css("visibility","hidden"),s.$next_tip.show()),/body/i.test(s.$target.selector)?s.$li.length&&o.pos_modal(i):(o.bottom()?(s.$next_tip.css({top:s.$target.offset().top+u+s.$target.outerHeight(),left:s.$target.offset().left}),o.nub_position(i,s.tipSettings.nubPosition,"top")):o.top()?(s.$next_tip.css({top:s.$target.offset().top-s.$next_tip.outerHeight()-u,left:s.$target.offset().left}),o.nub_position(i,s.tipSettings.nubPosition,"bottom")):o.right()?(s.$next_tip.css({top:s.$target.offset().top,left:s.$target.outerWidth()+s.$target.offset().left}),o.nub_position(i,s.tipSettings.nubPosition,"left")):o.left()&&(s.$next_tip.css({top:s.$target.offset().top,left:s.$target.offset().left-s.$next_tip.outerWidth()-u}),o.nub_position(i,s.tipSettings.nubPosition,"right")),!o.visible(o.corners(s.$next_tip))&&s.attempts<s.tipSettings.tipLocationPattern.length&&(i.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),s.tipSettings.tipLocation=s.tipSettings.tipLocationPattern[s.attempts],s.attempts++,o.pos_default(!0))),a&&(s.$next_tip.hide(),s.$next_tip.css("visibility","visible"))},pos_phone:function(t){var n=s.$next_tip.outerHeight(),r=s.$next_tip.offset(),i=s.$target.outerHeight(),u=e(".joyride-nub",s.$next_tip),a=Math.ceil(u.outerHeight()/2),f=t||!1;u.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),f&&(s.$next_tip.css("visibility","hidden"),s.$next_tip.show()),/body/i.test(s.$target.selector)?s.$li.length&&o.pos_modal(u):o.top()?(s.$next_tip.offset({top:s.$target.offset().top-n-a}),u.addClass("bottom")):(s.$next_tip.offset({top:s.$target.offset().top+i+a}),u.addClass("top")),f&&(s.$next_tip.hide(),s.$next_tip.css("visibility","visible"))},pos_modal:function(t){o.center(),t.hide(),e(".joyride-modal-bg").length<1&&e("body").append('<div class="joyride-modal-bg">').show(),/pop/i.test(s.tipAnimation)?e(".joyride-modal-bg").show():e(".joyride-modal-bg").fadeIn(s.tipAnimationFadeSpeed)},center:function(){var e=s.$window;return s.$next_tip.css({top:(e.height()-s.$next_tip.outerHeight())/2+e.scrollTop(),left:(e.width()-s.$next_tip.outerWidth())/2+e.scrollLeft()}),!0},bottom:function(){return/bottom/i.test(s.tipSettings.tipLocation)},top:function(){return/top/i.test(s.tipSettings.tipLocation)},right:function(){return/right/i.test(s.tipSettings.tipLocation)},left:function(){return/left/i.test(s.tipSettings.tipLocation)},corners:function(e){var t=s.$window,n=t.width()+t.scrollLeft(),r=t.width()+t.scrollTop();return[e.offset().top<=t.scrollTop(),n<=e.offset().left+e.outerWidth(),r<=e.offset().top+e.outerHeight(),t.scrollLeft()>=e.offset().left]},visible:function(e){var t=e.length;while(t--)if(e[t])return!1;return!0},nub_position:function(e,t,n){t==="auto"?e.addClass(n):e.addClass(t)},startTimer:function(){s.$li.length?s.automate=setTimeout(function(){o.hide(),o.show(),o.startTimer()},s.timer):clearTimeout(s.automate)},end:function(){s.cookieMonster&&e.cookie(s.cookieName,"ridden",{expires:365,domain:s.cookieDomain}),s.timer>0&&clearTimeout(s.automate),e(".joyride-modal-bg").hide(),s.$current_tip.hide(),s.postStepCallback(s.$li.index(),s.$current_tip),s.postRideCallback(s.$li.index(),s.$current_tip)},jquery_check:function(){return e.isFunction(e.fn.on)?!0:(e.fn.on=function(e,t,n){return this.delegate(t,e,n)},e.fn.off=function(e,t,n){return this.undelegate(t,e,n)},!1)},outerHTML:function(e){return e.outerHTML||(new XMLSerializer).serializeToString(e)},version:function(){return s.version}};e.fn.joyride=function(t){if(o[t])return o[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return o.init.apply(this,arguments);e.error("Method "+t+" does not exist on jQuery.joyride")}}(jQuery,this),function(e,t,n,r){"use strict";var i={templates:{viewing:'<a href="#" class="clearing-close">&times;</a><div class="visible-img" style="display: none"><img src="#"><p class="clearing-caption"></p><a href="#" class="clearing-main-left"></a><a href="#" class="clearing-main-right"></a></div>'},close_selectors:"a.clearing-close",initialized:!1,locked:!1},s={init:function(t,r){return this.find("ul[data-clearing]").each(function(){var t=e(n),r=e(this),o=o||{},u=u||{},a=r.data("fndtn.clearing.settings");a||(o.$parent=r.parent(),r.data("fndtn.clearing.settings",e.extend({},i,o)),s.assemble(r.find("li")),i.initialized||(s.events(r),Modernizr.touch&&s.swipe_events()))})},events:function(r){var o=r.data("fndtn.clearing.settings");e(n).on("click.fndtn.clearing","ul[data-clearing] li",function(t,n,r){var n=n||e(this),r=r||n,i=n.parent().data("fndtn.clearing.settings");t.preventDefault(),i||n.parent().foundationClearing(),s.open(e(t.target),n,r),s.update_paddles(r)}).on("click.fndtn.clearing",".clearing-main-right",function(e){s.nav(e,"next")}).on("click.fndtn.clearing",".clearing-main-left",function(e){s.nav(e,"prev")}).on("click.fndtn.clearing",o.close_selectors,this.close).on("keydown.fndtn.clearing",this.keydown),e(t).on("resize.fndtn.clearing",this.resize),i.initialized=!0},swipe_events:function(){e(n).bind("swipeleft","ul[data-clearing]",function(e){s.nav(e,"next")}).bind("swiperight","ul[data-clearing]",function(e){s.nav(e,"prev")}).bind("movestart","ul[data-clearing]",function(e){(e.distX>e.distY&&e.distX<-e.distY||e.distX<e.distY&&e.distX>-e.distY)&&e.preventDefault()})},assemble:function(e){var t=e.parent(),n=t.data("fndtn.clearing.settings"),r=t.detach(),i={grid:'<div class="carousel">'+this.outerHTML(r[0])+"</div>",viewing:n.templates.viewing},s='<div class="clearing-assembled"><div>'+i.viewing+i.grid+"</div></div>";return n.$parent.append(s)},open:function(e,t,n){var r=n.closest(".clearing-assembled"),i=r.find("div:first"),o=i.find(".visible-img"),u=o.find("img").not(e);s.locked()||(u.attr("src",this.load(e)),u.loaded(function(){r.addClass("clearing-blackout"),i.addClass("clearing-container"),this.caption(o.find(".clearing-caption"),e),o.show(),this.fix_height(n),this.center(u),this.shift(t,n,function(){n.siblings().removeClass("visible"),n.addClass("visible")})}.bind(this)))},close:function(t){t.preventDefault();var n=function(e){return/blackout/.test(e.selector)?e:e.closest(".clearing-blackout")}(e(this)),r,s;return this===t.target&&n&&(r=n.find("div:first"),s=r.find(".visible-img"),i.prev_index=0,n.find("ul[data-clearing]").attr("style",""),n.removeClass("clearing-blackout"),r.removeClass("clearing-container"),s.hide()),!1},keydown:function(t){var n=e(".clearing-blackout").find("ul[data-clearing]");t.which===39&&s.go(n,"next"),t.which===37&&s.go(n,"prev"),t.which===27&&e("a.clearing-close").trigger("click")},nav:function(t,n){var r=e(".clearing-blackout").find("ul[data-clearing]");t.preventDefault(),this.go(r,n)},resize:function(){var t=e(".clearing-blackout .visible-img").find("img");t.length>0&&s.center(t)},fix_height:function(t){var n=t.siblings();n.each(function(){var t=e(this),n=t.find("img");t.height()>n.outerHeight()&&t.addClass("fix-height")}).closest("ul").width(n.length*100+"%")},update_paddles:function(e){var t=e.closest(".carousel").siblings(".visible-img");e.next().length>0?t.find(".clearing-main-right").removeClass("disabled"):t.find(".clearing-main-right").addClass("disabled"),e.prev().length>0?t.find(".clearing-main-left").removeClass("disabled"):t.find(".clearing-main-left").addClass("disabled")},load:function(e){var t=e.parent().attr("href");return this.preload(e),t?t:e.attr("src")},preload:function(e){this.img(e.closest("li").next()),this.img(e.closest("li").prev())},img:function(e){if(e.length>0){var t=new Image,n=e.find("a");n.length>0?t.src=n.attr("href"):t.src=e.find("img").attr("src")}},caption:function(e,t){var n=t.data("caption");n?e.text(n).show():e.text("").hide()},go:function(e,t){var n=e.find(".visible"),r=n[t]();r.length>0&&r.find("img").trigger("click",[n,r])},shift:function(e,t,n){var r=t.parent(),s=i.prev_index,o=this.direction(r,e,t),u=parseInt(r.css("left"),10),a=t.outerWidth(),f;t.index()!==s&&!/skip/.test(o)?/left/.test(o)?(this.lock(),r.animate({left:u+a},300,this.unlock)):/right/.test(o)&&(this.lock(),r.animate({left:u-a},300,this.unlock)):/skip/.test(o)&&(f=t.index()-i.up_count,this.lock(),f>0?r.animate({left:-(f*a)},300,this.unlock):r.animate({left:0},300,this.unlock)),n()},lock:function(){i.locked=!0},unlock:function(){i.locked=!1},locked:function(){return i.locked},direction:function(t,n,r){var s=t.find("li"),o=s.outerWidth()+s.outerWidth()/4,u=Math.floor(e(".clearing-container").outerWidth()/o)-1,a=s.index(r),f;return i.up_count=u,this.adjacent(i.prev_index,a)?a>u&&a>i.prev_index?f="right":a>u-1&&a<=i.prev_index?f="left":f=!1:f="skip",i.prev_index=a,f},adjacent:function(e,t){for(var n=t+1;n>=t-1;n--)if(n===e)return!0;return!1},center:function(e){e.css({marginLeft:-(e.outerWidth()/2),marginTop:-(e.outerHeight()/2)})},outerHTML:function(e){return e.outerHTML||(new XMLSerializer).serializeToString(e)}};e.fn.foundationClearing=function(t){if(s[t])return s[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return s.init.apply(this,arguments);e.error("Method "+t+" does not exist on jQuery.foundationClearing")},function(e){e.fn.loaded=function(t,n){function o(){s-=1,!s&&t()}function u(){this.one("load",o);if(e.browser.msie){var t=this.attr("src"),n=t.match(/\?/)?"&":"?";n+=r.cachePrefix+"="+(new Date).getTime(),this.attr("src",t+n)}}var r=e.extend({},e.fn.loaded.defaults,n),i=this.find("img").add(this.filter("img")),s=i.length;return i.each(function(){var t=e(this);if(!t.attr("src")){o();return}this.complete||this.readyState===4?o():u.call(t)})},e.fn.loaded.defaults={cachePrefix:"random"}}(jQuery)}(jQuery,this,this.document),function(e,t,n){"use strict";e.fn.foundationMediaQueryViewer=function(t){var n=e.extend(t,{toggleKey:77}),r=e(document);r.on("keyup.mediaQueryViewer"
,":input",function(e){e.which===n.toggleKey&&e.stopPropagation()}),r.on("keyup.mediaQueryViewer",function(t){var r=e("#fqv");t.which===n.toggleKey&&(r.length>0?r.remove():e("body").prepend('<div id="fqv" style="position:fixed;top:4px;left:4px;z-index:999;color:#fff;"><p style="font-size:12px;background:rgba(0,0,0,0.75);padding:5px;margin-bottom:1px;line-height:1.2;"><span class="left">Media:</span> <span style="font-weight:bold;" class="show-for-xlarge">Extra Large</span><span style="font-weight:bold;" class="show-for-large">Large</span><span style="font-weight:bold;" class="show-for-medium">Medium</span><span style="font-weight:bold;" class="show-for-small">Small</span><span style="font-weight:bold;" class="show-for-landscape">Landscape</span><span style="font-weight:bold;" class="show-for-portrait">Portrait</span><span style="font-weight:bold;" class="show-for-touch">Touch</span></p></div>'))})}}(jQuery,this),function(e,t,n){"use strict";var r=e(document),i=t.Modernizr;e(document).ready(function(){e.fn.foundationAlerts?r.foundationAlerts():null,e.fn.foundationButtons?r.foundationButtons():null,e.fn.foundationAccordion?r.foundationAccordion():null,e.fn.foundationNavigation?r.foundationNavigation():null,e.fn.foundationTopBar?r.foundationTopBar():null,e.fn.foundationCustomForms?r.foundationCustomForms():null,e.fn.foundationMediaQueryViewer?r.foundationMediaQueryViewer():null,e.fn.foundationTabs?r.foundationTabs({callback:e.foundation.customForms.appendCustomMarkup}):null,e.fn.foundationTooltips?r.foundationTooltips():null,e.fn.foundationMagellan?r.foundationMagellan():null,e.fn.foundationClearing?r.foundationClearing():null,e.fn.placeholder?e("input, textarea").placeholder():null}),i.touch&&!t.location.hash&&e(t).load(function(){setTimeout(function(){e(t).scrollTop()<20&&t.scrollTo(0,1)},0)})}(jQuery,this),function(e,t){function n(e){return!!(""===e||e&&e.charCodeAt&&e.substr)}function r(e){return c?c(e):"[object Array]"===h.call(e)}function i(e){return"[object Object]"===h.call(e)}function s(e,t){var n,e=e||{},t=t||{};for(n in t)t.hasOwnProperty(n)&&null==e[n]&&(e[n]=t[n]);return e}function o(e,t,n){var r=[],i,s;if(!e)return r;if(l&&e.map===l)return e.map(t,n);for(i=0,s=e.length;i<s;i++)r[i]=t.call(n,e[i],i,e);return r}function u(e,t){return e=Math.round(Math.abs(e)),isNaN(e)?t:e}function a(e){var t=f.settings.currency.format;return"function"==typeof e&&(e=e()),n(e)&&e.match("%v")?{pos:e,neg:e.replace("-","").replace("%v","-%v"),zero:e}:!e||!e.pos||!e.pos.match("%v")?n(t)?f.settings.currency.format={pos:t,neg:t.replace("%v","-%v"),zero:t}:t:e}var f={version:"0.3.2",settings:{currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}}},l=Array.prototype.map,c=Array.isArray,h=Object.prototype.toString,p=f.unformat=f.parse=function(e,t){if(r(e))return o(e,function(e){return p(e,t)});e=e||0;if("number"==typeof e)return e;var t=t||".",n=RegExp("[^0-9-"+t+"]",["g"]),n=parseFloat((""+e).replace(/\((.*)\)/,"-$1").replace(n,"").replace(t,"."));return isNaN(n)?0:n},d=f.toFixed=function(e,t){var t=u(t,f.settings.number.precision),n=Math.pow(10,t);return(Math.round(f.unformat(e)*n)/n).toFixed(t)},v=f.formatNumber=function(e,t,n,a){if(r(e))return o(e,function(e){return v(e,t,n,a)});var e=p(e),l=s(i(t)?t:{precision:t,thousand:n,decimal:a},f.settings.number),c=u(l.precision),h=0>e?"-":"",m=parseInt(d(Math.abs(e||0),c),10)+"",g=3<m.length?m.length%3:0;return h+(g?m.substr(0,g)+l.thousand:"")+m.substr(g).replace(/(\d{3})(?=\d)/g,"$1"+l.thousand)+(c?l.decimal+d(Math.abs(e),c).split(".")[1]:"")},m=f.formatMoney=function(e,t,n,l,c,h){if(r(e))return o(e,function(e){return m(e,t,n,l,c,h)});var e=p(e),d=s(i(t)?t:{symbol:t,precision:n,thousand:l,decimal:c,format:h},f.settings.currency),g=a(d.format);return(0<e?g.pos:0>e?g.neg:g.zero).replace("%s",d.symbol).replace("%v",v(Math.abs(e),u(d.precision),d.thousand,d.decimal))};f.formatColumn=function(e,t,l,c,h,d){if(!e)return[];var m=s(i(t)?t:{symbol:t,precision:l,thousand:c,decimal:h,format:d},f.settings.currency),g=a(m.format),y=g.pos.indexOf("%s")<g.pos.indexOf("%v")?!0:!1,b=0,e=o(e,function(e){return r(e)?f.formatColumn(e,m):(e=p(e),e=(0<e?g.pos:0>e?g.neg:g.zero).replace("%s",m.symbol).replace("%v",v(Math.abs(e),u(m.precision),m.thousand,m.decimal)),e.length>b&&(b=e.length),e)});return o(e,function(e){return n(e)&&e.length<b?y?e.replace(m.symbol,m.symbol+Array(b-e.length+1).join(" ")):Array(b-e.length+1).join(" ")+e:e})},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=f),exports.accounting=f):"function"==typeof define&&define.amd?define([],function(){return f}):(f.noConflict=function(n){return function(){return e.accounting=n,f.noConflict=t,f}}(e.accounting),e.accounting=f)}(this),$(function(){function e(e){if(e.which==13&&i()){var t=$(".new-budget-item").attr("id"),s=$(".new-budget-item").val(),u=$(".new-budget-item-value").val();e.preventDefault(),$.ajax({type:"POST",url:"/budget_items",data:"title="+s+"&id="+t+"&value="+u,success:function(e){$(".new-budget-item").val(""),$(".new-budget-item-value").val("");var t='<div class="row" id="budget-item-'+e.id+'">',i='<div class="one column"><i class="general foundicon-minus add dashboard delete_budget" id="'+e.id+'" style="cursor: hand; cursor: pointer;"></i></div>',a='<div class="four columns"><p class="b_item_title" id="'+e.id+'">'+s+'</p></div><div class="one column"><p>+</p></div>',f='<div class="three columns"><p class="b_item_value" id="'+e.id+'">'+accounting.formatMoney(u)+"</p></div>",l='<div class= "one column end"><p class="b_item_percentage" id="'+e.id+'"></p></div>',c="</div>";$(t+i+a+f+l+c).hide().appendTo("#budget-item-container").fadeIn(800),n[e.id]=parseFloat(u),r(parseFloat(u),!0),o.series[0].addPoint([s,parseFloat(u)],!0)}})}}function r(e,r){r?t+=parseFloat(e):t-=parseFloat(e),$("#budget_sum").text(accounting.formatMoney(t)),$(".b_item_percentage").each(function(){new_percentage=(100*n[$(this).attr("id")]/t).toFixed(2),$(this).text(String(new_percentage)+"%")})}function i(){return title=$(".new-budget-item").val(),value=$(".new-budget-item-value").val(),number=!isNaN(value-0),number&&value!=""?parseInt(value)==0?($(".new-budget-item").focus(),$(".new-budget-item-value").addClass("error"),$("#new-budget-item-prefix").addClass("error"),!1):($(".new-budget-item-value").removeClass("error"),$("#new-budget-item-prefix").removeClass("error"),!0):($(".new-budget-item").focus(),$(".new-budget-item-value").addClass("error"),$("#new-budget-item-prefix").addClass("error"),!1)}function s(){u=[],$(".b_item_title").each(function(){u.push([$(this).text(),n[$(this).attr("id")]])})}function a(){s(),o=new Highcharts.Chart({chart:{renderTo:"pie_chart",backgroundColor:"#F2F2F2",plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},title:{text:"Your Budget"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage}%</b>",percentageDecimals:1},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,color:"#000000",connectorColor:"#000000",formatter:function(){return"<b>"+this.point.name+"</b>: "+this.percentage.toFixed(2)+" %"}}}},series:[{type:"pie",name:"Browser share",data:u}]})}$(".new-budget-item").keypress(function(t){e(t)}),$(".new-budget-item-value").keypress(function(t){e(t)}),$(".add_budget").click(function(){var e=jQuery.Event("keypress");e.which=13,$(".new-budget-item").trigger(e)}),$(".delete_budget").on("click",function(e){confirm("Are you sure you want to delete this item?")&&(id=$(this).attr("id"),$.ajax({type:"DELETE",url:"/budget_items/"+id}),x="#budget-item-"+id,$(x).fadeOut(300,function(){$(this).remove(),s(),o.series[0].setData(u)}),r(n[id],!1),delete n[id])});var t=parseFloat($("#budget_sum").text().substring(1));$("#budget_sum").text(accounting.formatMoney($("#budget_sum").text().substring(1)));var n={};$(".b_item_value").each(function(){n[$(this).attr("id")]=parseFloat($(this).text().substring(1)),$(this).text(accounting.formatMoney($(this).text().substring(1)))}),r(0,!0);var o,u=[];$(".content.panel").length!=0&&$(".content.panel").ready(function(){a()})}),$(document).one("ready",function(){function o(e){return n=String(e.getMonth()+1),t=String(e.getDate()),r=String(e.getFullYear()),n.length<2&&(n="0"+n),t.length<2&&(t="0"+t),answer=n+"/"+t+"/"+r,answer}function u(e){return h=e.getHours(),PM=!1,h>12&&(h-=12,PM=!0),h=String(h),n=String(e.getMinutes()),s=String(e.getSeconds()),h.length<2&&(h="0"+h),n.length<2&&(n="0"+n),t.length<2&&(t="0"+t),answer=h+":"+n+":00 ",PM?answer+="PM":answer+="AM",answer}var e=new Date,t=e.getDate(),n=e.getMonth(),r=e.getFullYear(),i=new Date,a=$("#event_calendar").fullCalendar({header:{left:"prev,next today",center:"title",right:""},selectable:!0,selectHelper:!0,select:function(e,t,n){$("#event_time_tab").click(),i=e,start_date=o(e),end_date=o(t),$("#start_date_s").val(start_date),$("#end_date_s").val(end_date),$("#agenda_calendar").fullCalendar("gotoDate",i),htmls=$(".fc-view-resourceDay .fc-widget-header");for(var r=0;r<htmls.length;r++)$(htmls[r]).html().search(":")!=-1&&$(htmls[r]).html("   ");a.fullCalendar("unselect")},events:"/getevents",editable:!1,eventClick:function(e,t,n){return $("#showEventModal").length!==0&&$("#showEventModal").remove(),$("body").append('<div id="showEventModal" class="reveal-modal"><a class="close-reveal-modal">x</a><pre><h2>'+e.title+":</h2> <p>"+e.description+"</p></pre></div>"),$("#showEventModal").reveal(),!1}}),f=$("#agenda_calendar").fullCalendar({header:{left:"prev,next today",center:"title",right:""},defaultView:"resourceDay",year:i.getFullYear(),month:i.getMonth(),day:i.getDay(),events:"/getevents",selectable:!0,selectHelper:!0,select:function(e,t,n){$("#event_finalize_tab").click(),start_time=u(e),end_time=u(t),$("#start_time_s").val(start_time),$("#end_time_s").val(end_time),f.fullCalendar("unselect")},editable:!0,firstDay:1,minTime:"7am",maxTime:"11:59pm",resources:"/getresources",refetchResources:!0,refetchEvents:!0,columnFormat:{month:"ddd",resourceDay:"h(:mm)t"},eventClick:function(e,t,n){return $("#showEventModal").length!==0&&$("#showEventModal").remove(),$("body").append('<div id="showEventModal" class="reveal-modal"><a class="close-reveal-modal">x</a><pre><h2>'+e.title+":</h2> <p>"+e.description+"</p></pre></div>"),$("#showEventModal").reveal(),!1}});$(".event_input_field").focusout(function(){var e="#"+$(this).attr("id")+"_s";$(e).val($(this).val())}),$(".date_tab_button").click(function(){$("#event_date_tab").click()}),$(".time_tab_button").click(function(){$("#event_time_tab").click()}),$(".finalize_tab_button").click(function(){$("#event_finalize_tab").click()});var l=$("h1.center").attr("id");$(".yelp-search").on("click",function(){var e=$(".yelp_search_term").val(),t=$(".yelp_search_zip").val();return $(".yelp-search-results").empty(),$.ajax({type:"POST",url:"/events/"+l+"/yelp_search",data:"search_term="+e+"&search_zip="+t+"&page=1",success:$.proxy(function(e){},this)}),!1});var c=function(e){if(e.which==13){e.preventDefault();var t=$(".yelp_search_term").val(),n=$(".yelp_search_zip").val();$(".yelp-search-results").empty(),$.ajax({type:"POST",url:"/events/"+l+"/yelp_search",data:"search_term="+t+"&search_zip="+n+"&page=1",success:$.proxy(function(e){},this)})}};$(".yelp_search_term").keypress(c),$(".yelp_search_zip").keypress(c),$(".select-restaurant.not-checked").on("click",function(){var e=$("h1.center").attr("id"),t=$(this).attr("id"),n=$("."+t),r=n.find(".business-info").find(".business-name").find("a").text(),i=n.find(".business-info").find(".business-name").find("a").attr("href"),s=n.find(".business-phone").text().trim();if(s.indexOf("phone")!=-1)var o="";else var o=s;$.ajax({type:"POST",url:"/events/"+e+"/select_restaurant",data:"yelp_id="+t+"&yelp_name="+r+"&yelp_url="+i+"&yelp_phone="+o,success:$.proxy(function(e){$(this).toggleClass("not-checked checked")},this)})}),$(".select-restaurant.checked").on("click",function(){var e=$("h1.center").attr("id"),t=$(this).attr("id");$.ajax({type:"POST",url:"/events/"+e+"/deselect_restaurant",data:"yelp_id="+t,success:$.proxy(function(e){$(this).toggleClass("not-checked checked")},this)})})}),function(e,t,n){function r(n,r,i){var s=t.createElement(n);return r&&(s.id=Q+r),i&&(s.style.cssText=i),e(s)}function i(e){var t=E.length,n=(I+e)%t;return 0>n?t+n:n}function s(e,t){return Math.round((/%/.test(e)?("x"===t?S.width():S.height())/100:1)*parseInt(e,10))}function o(e){return D.photo||/\.(gif|png|jp(e|g|eg)|bmp|ico)((#|\?).*)?$/i.test(e)}function u(){var t,n=e.data(F,K);null==n?(D=e.extend({},J),console&&console.log&&console.log("Error: cboxElement missing settings object")):D=e.extend({},n);for(t in D)e.isFunction(D[t])&&"on"!==t.slice(0,2)&&(D[t]=D[t].call(F));D.rel=D.rel||F.rel||e(F).data("rel")||"nofollow",D.href=D.href||e(F).attr("href"),D.title=D.title||F.title,"string"==typeof D.href&&(D.href=e.trim(D.href))}function a(n,r){e(t).trigger(n),e("*",d).trigger(n),r&&r.call(F)}function f(){var e,t,n,r=Q+"Slideshow_",i="click."+Q;D.slideshow&&E[1]?(t=function(){L.html(D.slideshowStop).unbind(i).bind(et,function(){(D.loop||E[I+1])&&(e=setTimeout(X.next,D.slideshowSpeed))}).bind(Z,function(){clearTimeout(e)}).one(i+" "+tt,n),d.removeClass(r+"off").addClass(r+"on"),e=setTimeout(X.next,D.slideshowSpeed)},n=function(){clearTimeout(e),L.html(D.slideshowStart).unbind([et,Z,tt,i].join(" ")).one(i,function(){X.next(),t()}),d.removeClass(r+"on").addClass(r+"off")},D.slideshowAuto?t():n()):d.removeClass(r+"off "+r+"on")}function l(n){z||(F=n,u(),E=e(F),I=0,"nofollow"!==D.rel&&(E=e("."+G).filter(function(){var t,n=e.data(this,K);return n&&(t=e(this).data("rel")||n.rel||this.rel),t===D.rel}),I=E.index(F),-1===I&&(E=E.add(F),I=E.length-1)),R||(R=U=!0,d.css({visibility:"hidden",display:"block"}),x.css({width:0,height:0}),P=g.height()+w.height()+m.outerHeight(!0)-m.height(),H=y.width()+b.width()+m.outerWidth(!0)-m.width(),B=x.outerHeight(!0),j=x.outerWidth(!0),D.returnFocus&&(e(F).blur(),e(t).one(nt,function(){e(F).focus()})),p.css({opacity:parseFloat(D.opacity),cursor:D.overlayClose?"pointer":"auto",visibility:"visible"}).show(),D.w=s(D.initialWidth,"x"),D.h=s(D.initialHeight,"y"),X.position(),st&&S.bind("resize."+ot+" scroll."+ot,function(){p.css({width:S.width(),height:S.height(),top:S.scrollTop(),left:S.scrollLeft()})}).trigger("resize."+ot),a(Y,D.onOpen),_.add(C).hide(),M.html(D.close).show()),X.load(!0))}function c(){!d&&t.body&&($=!1,S=e(n),d=r(ut).attr({id:K,"class":it?Q+(st?"IE6":"IE"):""}).hide(),p=r(ut,"Overlay",st?"position:absolute":"").hide(),N=r(ut,"LoadingOverlay").add(r(ut,"LoadingGraphic")),v=r(ut,"Wrapper"),m=r(ut,"Content").append(x=r(ut,"LoadedContent","width:0; height:0; overflow:hidden"),C=r(ut,"Title"),k=r(ut,"Current"),A=r(ut,"Next"),O=r(ut,"Previous"),L=r(ut,"Slideshow").bind(Y,f),M=r(ut,"Close")),v.append(r(ut).append(r(ut,"TopLeft"),g=r(ut,"TopCenter"),r(ut,"TopRight")),r(ut,!1,"clear:left").append(y=r(ut,"MiddleLeft"),m,b=r(ut,"MiddleRight")),r(ut,!1,"clear:left").append(r(ut,"BottomLeft"),w=r(ut,"BottomCenter"),r(ut,"BottomRight"))).find("div div").css({"float":"left"}),T=r(ut,!1,"position:absolute; width:9999px; visibility:hidden; display:none"),_=A.add(O).add(k).add(L),e(t.body).append(p,d.append(v,T)))}function h(){function n(e){e.which>1||e.shiftKey||e.altKey||e.metaKey||(e.preventDefault(),l(this))}return d?($||($=!0,A.click(function(){X.next()}),O.click(function(){X.prev()}),M.click(function(){X.close()}),p.click(function(){D.overlayClose&&X.close()}),e(t).bind("keydown."+Q,function(e){var t=e.keyCode;R&&D.escKey&&27===t&&(e.preventDefault(),X.close()),R&&D.arrowKey&&E[1]&&(37===t?(e.preventDefault(),O.click()):39===t&&(e.preventDefault(),A.click()))}),e.isFunction(e.fn.on)?e(t).on("click."+Q,"."+G,n):e("."+G).live("click."+Q,n)),!0):!1}var p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J={transition:"elastic",speed:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,inline:!1,html:!1,iframe:!1,fastIframe:!0,photo:!1,href:!1,title:!1,rel:!1,opacity:.9,preloading:!0,className:!1,current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",open:!1,returnFocus:!0,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0},K="colorbox",Q="cbox",G=Q+"Element",Y=Q+"_open",Z=Q+"_load",et=Q+"_complete",tt=Q+"_cleanup",nt=Q+"_closed",rt=Q+"_purge",it=!e.support.leadingWhitespace,st=it&&!n.XMLHttpRequest,ot=Q+"_IE6",ut="div";e.colorbox||(e(c),X=e.fn[K]=e[K]=function(t,n){var r=this;if(t=t||{},c(),h()){if(e.isFunction(r))r=e("<a/>"),t.open=!0;else if(!r[0])return r;n&&(t.onComplete=n),r.each(function(){e.data(this,K,e.extend({},e.data(this,K)||J,t))}).addClass(G),(e.isFunction(t.open)&&t.open.call(r)||t.open)&&l(r[0])}return r},X.position=function(e,t){function n(e){g[0].style.width=w[0].style.width=m[0].style.width=parseInt(e.style.width,10)-H+"px",m[0].style.height=y[0].style.height=b[0].style.height=parseInt(e.style.height,10)-P+"px"}var r,i,o,u=0,a=0,f=d.offset();S.unbind("resize."+Q),d.css({top:-9e4,left:-9e4}),i=S.scrollTop(),o=S.scrollLeft(),D.fixed&&!st?(f.top-=i,f.left-=o,d.css({position:"fixed"})):(u=i,a=o,d.css({position:"absolute"})),a+=D.right!==!1?Math.max(S.width()-D.w-j-H-s(D.right,"x"),0):D.left!==!1?s(D.left,"x"):Math.round(Math.max(S.width()-D.w-j-H,0)/2),u+=D.bottom!==!1?Math.max(S.height()-D.h-B-P-s(D.bottom,"y"),0):D.top!==!1?s(D.top,"y"):Math.round(Math.max(S.height()-D.h-B-P,0)/2),d.css({top:f.top,left:f.left,visibility:"visible"}),e=d.width()===D.w+j&&d.height()===D.h+B?0:e||0,v[0].style.width=v[0].style.height="9999px",r={width:D.w+j+H,height:D.h+B+P,top:u,left:a},0===e&&d.css(r),d.dequeue().animate(r,{duration:e,complete:function(){n(this),U=!1,v[0].style.width=D.w+j+H+"px",v[0].style.height=D.h+B+P+"px",D.reposition&&setTimeout(function(){S.bind("resize."+Q,X.position)},1),t&&t()},step:function(){n(this)}})},X.resize=function(e){R&&(e=e||{},e.width&&(D.w=s(e.width,"x")-j-H),e.innerWidth&&(D.w=s(e.innerWidth,"x")),x.css({width:D.w}),e.height&&(D.h=s(e.height,"y")-B-P),e.innerHeight&&(D.h=s(e.innerHeight,"y")),e.innerHeight||e.height||(x.css({height:"auto"}),D.h=x.height()),x.css({height:D.h}),X.position("none"===D.transition?0:D.speed))},X.prep=function(n){function s(){return D.w=D.w||x.width(),D.w=D.mw&&D.mw<D.w?D.mw:D.w,D.w}function u(){return D.h=D.h||x.height(),D.h=D.mh&&D.mh<D.h?D.mh:D.h,D.h}if(R){var f,l="none"===D.transition?0:D.speed;x.empty().remove(),x=r(ut,"LoadedContent").append(n),x.hide().appendTo(T.show()).css({width:s(),overflow:D.scrolling?"auto":"hidden"}).css({height:u()}).prependTo(m),T.hide(),e(q).css({"float":"none"}),f=function(){function n(){it&&d[0].style.removeAttribute("filter")}var s,u,f=E.length,c="frameBorder",h="allowTransparency";R&&(u=function(){clearTimeout(W),N.remove(),a(et,D.onComplete)},it&&q&&x.fadeIn(100),C.html(D.title).add(x).show(),f>1?("string"==typeof D.current&&k.html(D.current.replace("{current}",I+1).replace("{total}",f)).show(),A[D.loop||f-1>I?"show":"hide"]().html(D.next),O[D.loop||I?"show":"hide"]().html(D.previous),D.slideshow&&L.show(),D.preloading&&e.each([i(-1),i(1)],function(){var t,n,r=E[this],i=e.data(r,K);i&&i.href?(t=i.href,e.isFunction(t)&&(t=t.call(r))):t=r.href,o(t)&&(n=new Image,n.src=t)})):_.hide(),D.iframe?(s=r("iframe")[0],c in s&&(s[c]=0),h in s&&(s[h]="true"),D.scrolling||(s.scrolling="no"),e(s).attr({src:D.href,name:(new Date).getTime(),"class":Q+"Iframe",allowFullScreen:!0,webkitAllowFullScreen:!0,mozallowfullscreen:!0}).one("load",u).appendTo(x),e(t).one(rt,function(){s.src="//about:blank"}),D.fastIframe&&e(s).trigger("load")):u(),"fade"===D.transition?d.fadeTo(l,1,n):n())},"fade"===D.transition?d.fadeTo(l,0,function(){X.position(0,f)}):X.position(l,f)}},X.load=function(n){var i,f,l,c=X.prep;U=!0,q=!1,F=E[I],n||u(),V&&d.add(p).removeClass(V),D.className&&d.add(p).addClass(D.className),V=D.className,a(rt),a(Z,D.onLoad),D.h=D.height?s(D.height,"y")-B-P:D.innerHeight&&s(D.innerHeight,"y"),D.w=D.width?s(D.width,"x")-j-H:D.innerWidth&&s(D.innerWidth,"x"),D.mw=D.w,D.mh=D.h,D.maxWidth&&(D.mw=s(D.maxWidth,"x")-j-H,D.mw=D.w&&D.w<D.mw?D.w:D.mw),D.maxHeight&&(D.mh=s(D.maxHeight,"y")-B-P,D.mh=D.h&&D.h<D.mh?D.h:D.mh),i=D.href,W=setTimeout(function(){N.appendTo(m)},100),D.inline?(l=r(ut).hide().insertBefore(e(i)[0]),e(t).one(rt,function(){l.replaceWith(x.children())}),c(e(i))):D.iframe?c(" "):D.html?c(D.html):o(i)?(e(q=new Image).addClass(Q+"Photo").bind("error",function(){D.title=!1,c(r(ut,"Error").html(D.imgError))}).one("load",function(){var e;D.scalePhotos&&(f=function(){q.height-=q.height*e,q.width-=q.width*e},D.mw&&q.width>D.mw&&(e=(q.width-D.mw)/q.width,f()),D.mh&&q.height>D.mh&&(e=(q.height-D.mh)/q.height,f())),D.h&&(q.style.marginTop=Math.max(D.h-q.height,0)/2+"px"),E[1]&&(D.loop||E[I+1])&&(q.style.cursor="pointer",q.onclick=function(){X.next()}),it&&(q.style.msInterpolationMode="bicubic"),setTimeout(function(){c(q)},1)}),setTimeout(function(){q.src=i},1)):i&&T.load(i,D.data,function(t,n){c("error"===n?r(ut,"Error").html(D.xhrError):e(this).contents())})},X.next=function(){!U&&E[1]&&(D.loop||E[I+1])&&(I=i(1),X.load())},X.prev=function(){!U&&E[1]&&(D.loop||I)&&(I=i(-1),X.load())},X.close=function(){R&&!z&&(z=!0,R=!1,a(tt,D.onCleanup),S.unbind("."+Q+" ."+ot),p.fadeTo(200,0),d.stop().fadeTo(300,0,function(){d.add(p).css({opacity:1,cursor:"auto"}).hide(),a(rt),x.empty().remove(),setTimeout(function(){z=!1,a(nt,D.onClosed)},1)}))},X.remove=function(){e([]).add(d).add(p).remove(),d=null,e("."+G).removeData(K).removeClass(G),e(t).unbind("click."+Q)},X.element=function(){return e(F)},X.settings=J)}(jQuery,document,window),function($){$.fn.editable=function(e,t){if("disable"==e){$(this).data("disabled.editable",!0);return}if("enable"==e){$(this).data("disabled.editable",!1);return}if("destroy"==e){$(this).unbind($(this).data("event.editable")).removeData("disabled.editable").removeData("event.editable");return}var n=$.extend({},$.fn.editable.defaults,{target:e},t),r=$.editable.types[n.type].plugin||function(){},i=$.editable.types[n.type].submit||function(){},s=$.editable.types[n.type].buttons||$.editable.types.defaults.buttons,o=$.editable.types[n.type].content||$.editable.types.defaults.content,u=$.editable.types[n.type].element||$.editable.types.defaults.element,a=$.editable.types[n.type].reset||$.editable.types.defaults.reset,f=n.callback||function(){},l=n.onedit||function(){},c=n.onsubmit||function(){},h=n.onreset||function(){},p=n.onerror||a;return n.tooltip&&$(this).attr("title",n.tooltip),n.autowidth="auto"==n.width,n.autoheight="auto"==n.height,this.each(function(){var e=this,t=$(e).width(),d=$(e).height();$(this).data("event.editable",n.event),$.trim($(this).html())||$(this).html(n.placeholder),$(this).bind(n.event,function(h){if(!0===$(this).data("disabled.editable"))return;if(e.editing)return;if(!1===l.apply(this,[n,e]))return;h.preventDefault(),h.stopPropagation(),n.tooltip&&$(e).removeAttr("title"),0==$(e).width()?(n.width=t,n.height=d):(n.width!="none"&&(n.width=n.autowidth?$(e).width():n.width),n.height!="none"&&(n.height=n.autoheight?$(e).height():n.height)),$(this).html().toLowerCase().replace(/(;|")/g,"")==n.placeholder.toLowerCase().replace(/(;|")/g,"")&&$(this).html(""),e.editing=!0,e.revert=$(e).html(),$(e).html("");var v=$("<form />");v.attr("style","display:inline;"),n.cssclass&&("inherit"==n.cssclass?v.attr("class",$(e).attr("class")):v.attr("class",n.cssclass)),n.style&&("inherit"==n.style?(v.attr("style",$(e).attr("style")),v.css("display",$(e).css("display"))):v.attr("style",n.style));var m=u.apply(v,[n,e]),g;if(n.loadurl){var y=setTimeout(function(){m.disabled=!0,o.apply(v,[n.loadtext,n,e])},100),b={};b[n.id]=e.id,$.isFunction(n.loaddata)?$.extend(b,n.loaddata.apply(e,[e.revert,n])):$.extend(b,n.loaddata),$.ajax({type:n.loadtype,url:n.loadurl,data:b,async:!1,success:function(e){window.clearTimeout(y),g=e,m.disabled=!1}})}else n.data?(g=n.data,$.isFunction(n.data)&&(g=n.data.apply(e,[e.revert,n]))):g=e.revert;g=g.trim().replace("&nbsp;",""),o.apply(v,[g,n,e]),m.attr("name",n.name),s.apply(v,[n,e]),$(e).append(v),r.apply(v,[n,e]),$(":input:visible:enabled:first",v).focus(),n.select&&m.select(),m.keydown(function(t){t.keyCode==27&&(t.preventDefault(),a.apply(v,[n,e]))});var y;"cancel"==n.onblur?m.blur(function(t){y=setTimeout(function(){a.apply(v,[n,e])},500)}):"submit"==n.onblur?m.blur(function(e){y=setTimeout(function(){v.submit()},200)}):$.isFunction(n.onblur)?m.blur(function(t){n.onblur.apply(e,[m.val(),n])}):m.blur(function(e){}),v.submit(function(t){y&&clearTimeout(y),t.preventDefault();if(!1!==c.apply(v,[n,e])&&!1!==i.apply(v,[n,e]))if($.isFunction(n.target)){var r=n.target.apply(e,[m.val(),n]);$(e).html(r),e.editing=!1,f.apply(e,[e.innerHTML,n]),$.trim($(e).html())||$(e).html(n.placeholder)}else{var s={};s[n.name]=m.val(),s[n.id]=e.id,$.isFunction(n.submitdata)?$.extend(s,n.submitdata.apply(e,[e.revert,n])):$.extend(s,n.submitdata),"PUT"==n.method&&(s._method="put"),$(e).html(n.indicator);var o={type:"POST",data:s,dataType:"html",url:n.target,success:function(t,r){o.dataType=="html"&&$(e).html(t),e.editing=!1,f.apply(e,[t,n]),$.trim($(e).html())||$(e).html(n.placeholder)},error:function(t,r,i){p.apply(v,[n,e,t])}};$.extend(o,n.ajaxoptions),$.ajax(o)}return $(e).attr("title",n.tooltip),!1})}),this.reset=function(t){this.editing&&!1!==h.apply(t,[n,e])&&($(e).html(e.revert),e.editing=!1,$.trim($(e).html())||$(e).html(n.placeholder),n.tooltip&&$(e).attr("title",n.tooltip))}})},$.editable={types:{defaults:{element:function(e,t){var n=$('<input type="hidden"></input>');return $(this).append(n),n},content:function(e,t,n){$(":input:first",this).val(e)},reset:function(e,t){t.reset(this)},buttons:function(e,t){var n=this;if(e.submit){if(e.submit.match(/>$/))var r=$(e.submit).click(function(){r.attr("type")!="submit"&&n.submit()});else{var r=$('<button type="submit" />');r.html(e.submit)}$(this).append(r)}if(e.cancel){if(e.cancel.match(/>$/))var i=$(e.cancel);else{var i=$('<button type="cancel" />');i.html(e.cancel)}$(this).append(i),$(i).click(function(r){if($.isFunction($.editable.types[e.type].reset))var i=$.editable.types[e.type].reset;else var i=$.editable.types.defaults.reset;return i.apply(n,[e,t]),!1})}}},text:{element:function(e,t){var n=$("<input />");return e.width!="none"&&n.width(e.width),e.height!="none"&&n.height(e.height),n.attr("autocomplete","off"),n.attr("class","edit-box"),n.width("80%"),$(this).append(n),n}},textarea:{element:function(e,t){var n=$("<textarea />");return e.rows?n.attr("rows",e.rows):e.height!="none"&&n.height(e.height),e.cols?n.attr("cols",e.cols):e.width!="none"&&n.width(e.width),$(this).append(n),n}},select:{element:function(e,t){var n=$("<select />");return $(this).append(n),n},content:function(data,settings,original){if(String==data.constructor)eval("var json = "+data);else var json=data;for(var key in json){if(!json.hasOwnProperty(key))continue;if("selected"==key)continue;var option=$("<option />").val(key).append(json[key]);$("select",this).append(option)}$("select",this).children().each(function(){($(this).val()==json["selected"]||$(this).text()==$.trim(original.revert))&&$(this).attr("selected","selected")})}}},addInputType:function(e,t){$.editable.types[e]=t}},$.fn.editable.defaults={name:"value",id:"id",type:"text",width:"auto",height:"auto",event:"click.editable",onblur:"cancel",loadtype:"GET",loadtext:"Loading...",placeholder:"Click to edit",loaddata:{},submitdata:{},ajaxoptions:{}}}(jQuery),$(function(){$("#publicity_email_id").on("change",function(){var e=$(this).val();$.ajax({type:"GET",url:"/events/"+$(".publicity_email_form").attr("id")+"/publicity_emails/"+e,success:function(e){$("#publicity_email_subject").val(e.subject),$("#publicity_email_content").val(e.content),$(".redactor_editor").children().first().html(e.content)}})})});var _0xf6db=["(6(){11 49=24;11 14={50:6(8,10){5 10.58(8)&92},57:6(8,10){7(8.58!=12){5 8.58(10)&16}46{5 8.57(10)}},55:6(8,18,10,20){7(8===10){5 18<=20}7(14.29(8)&&14.29(10)){5 14.50(8,10)}7(14.29(8)&&!14.29(10)){5!14.55(10,20,8,18)}7(!14.57(8,10)){5 14.50(8,10)}7(8.47.85<=18){5 40}7(8.47[18]===10){5 0<=20}5 14.50(8.47[18],10)},29:6(61){5(61!=12?61.93==3:40)},81:6(41){11 62=0;88(41=41.59){62++}5 62}};11 4=49.4=(6(){6 4(2){24.2=2}4.34.31=6(){5 4.31(24.2)};4.34.37=6(){5 4.37(24.2)};4.34.38=6(){5 4.38(24.2)};4.34.45=6(){5 4.45(24.2)};4.34.44=6(){5 4.44(24.2)};4.34.52=6(25,26,23,22){5 4.52(24.2,25,26,23,22)};4.34.51=6(){5 4.51(24.2)};5 4})();7(49.35){4.67=43;4.31=6(2){11 9;5(9=2.35())&&(9.63!=12)&&(9.36!=12)};4.37=6(2){11 9;7(!((9=2.35())&&(9.36!=12))){5 12}5[9.36,9.97]};4.38=6(2){11 9;7(!((9=2.35())&&(9.63!=12))){5 12}5[9.63,9.91]};4.45=6(2){11 8,10,18,20,27,28;7(!4.31(2)){5 12}27=4.37(2),8=27[0],18=27[1];28=4.38(2),10=28[0],20=28[1];7(14.55(8,18,10,20)){5[8,18]}5[10,20]};4.44=6(2){11 8,10,18,20,27,28;7(!4.31(2)){5 12}27=4.37(2),8=27[0],18=27[1];28=4.38(2),10=28[0],20=28[1];7(14.55(8,18,10,20)){5[10,20]}5[8,18]};4.52=6(2,25,26,23,22){11 9=2.35();7(!9){5}7(23==12){23=25}7(22==12){22=26}7(9.60&&9.79){9.60(25,26);9.79(23,22)}46{54=2.15.56();54.106(25,26);54.107(23,22);71{9.73()}80(41){}9.98(54)}};4.51=6(2){71{11 9=2.35();7(!9){5}9.73()}80(41){}}}46 7(49.15.39){11 69=6(42,32,30){11 19,13,21,33,64;13=42.90('89');19=32.103();19.60(30);64=19.77();88(43){64.86(13,13.59);19.82(13);7(!(19.87((30?'66':'83'),32)>0&&(13.59!=12))){99}}7(19.87((30?'66':'83'),32)===-1&&13.84){19.74((30?'100':'78'),32);21=13.84;33=19.101.85}46{21=13.48;33=14.81(13)}13.48.72(13);5[21,33]};11 68=6(42,32,30,21,33){11 36,65,19,13,53;53=0;36=14.29(21)?21:21.47[33];65=14.29(21)?21.48:21;7(14.29(21)){53=33}13=42.90('89');65.86(13,36||12);19=42.76.75();19.82(13);13.48.72(13);32.74((30?'66':'78'),19);5 32[30?'105':'104']('102',53)};4.67=43;4.31=6(2){11 17;2.70();7(!2.15.39){5 40}17=2.15.39.56();5 17&&17.77().15===2.15};4.45=6(2){11 17;2.70();7(!4.31(2)){5 12}17=2.15.39.56();5 69(2.15,17,43)};4.44=6(2){11 17;2.70();7(!4.31(2)){5 12}17=2.15.39.56();5 69(2.15,17,40)};4.37=6(2){5 4.45(2)};4.38=6(2){5 4.44(2)};4.52=6(2,25,26,23,22){7(23==12){23=25}7(22==12){22=26}11 17=2.15.76.75();68(2.15,17,40,23,22);68(2.15,17,43,25,26);5 17.96()};4.51=6(2){5 2.15.39.95()}}46{4.67=40}}).94(24);","|","split","||win||Selection|return|function|if|n1|sel|n2|var|null|cursorNode|Dom|document||range|o1|cursor|o2|node|foco|focn|this|orgn|orgo|_ref|_ref2|isText|bStart|hasSelection|textRange|offset|prototype|getSelection|anchorNode|getOrigin|getFocus|selection|false|e|doc|true|getEnd|getStart|else|childNodes|parentNode|root|isPreceding|clearSelection|setSelection|textOffset|r|isCursorPreceding|createRange|contains|compareDocumentPosition|previousSibling|collapse|d|k|focusNode|parent|anchorParent|StartToStart|supported|moveBoundary|getBoundary|focus|try|removeChild|removeAllRanges|setEndPoint|createTextRange|body|parentElement|EndToEnd|extend|catch|getChildIndex|moveToElementText|StartToEnd|nextSibling|length|insertBefore|compareEndPoints|while|a|createElement|focusOffset|0x02|nodeType|call|empty|select|anchorOffset|addRange|break|EndToStart|text|character|duplicate|moveEnd|moveStart|setStart|setEnd","replace","","\\w+","\\b","g"];eval(function(e,t,n,r,i,s){i=function(e){return e};if(!_0xf6db[5][_0xf6db[4]](/^/,String)){while(n--)s[n]=r[n]||n;r=[function(e){return s[e]}],i=function(){return _0xf6db[6]},n=1}while(n--)r[n]&&(e=e[_0xf6db[4]](new RegExp(_0xf6db[7]+i(n)+_0xf6db[7],_0xf6db[8]),r[n]));return e}(_0xf6db[0],10,108,_0xf6db[3][_0xf6db[2]](_0xf6db[1]),0,{}));if(typeof RELANG=="undefined")var RELANG={};var RLANG={html:"HTML",video:"Insert Video",image:"Insert Image",table:"Table",link:"Link",link_insert:"Insert link",unlink:"Unlink",formatting:"Formatting",paragraph:"Paragraph",quote:"Quote",code:"Code",header1:"Header 1",header2:"Header 2",header3:"Header 3",header4:"Header 4",bold:"Bold",italic:"Italic",fontcolor:"Font Color",backcolor:"Back Color",unorderedlist:"Unordered List",orderedlist:"Ordered List",outdent:"Outdent",indent:"Indent",cancel:"Cancel",insert:"Insert",save:"Save",_delete:"Delete",insert_table:"Insert Table",insert_row_above:"Add Row Above",insert_row_below:"Add Row Below",insert_column_left:"Add Column Left",insert_column_right:"Add Column Right",delete_column:"Delete Column",delete_row:"Delete Row",delete_table:"Delete Table",rows:"Rows",columns:"Columns",add_head:"Add Head",
delete_head:"Delete Head",title:"Title",image_position:"Position",none:"None",left:"Left",right:"Right",image_web_link:"Image Web Link",text:"Text",mailto:"Email",web:"URL",video_html_code:"Video Embed Code",file:"Insert File",upload:"Upload",download:"Download",choose:"Choose",or_choose:"Or choose",drop_file_here:"Drop file here",align_left:"Align text to the left",align_center:"Center text",align_right:"Align text to the right",align_justify:"Justify text",horizontalrule:"Insert Horizontal Rule",deleted:"Deleted",anchor:"Anchor",link_new_tab:"Open link in new tab",underline:"Underline",alignment:"Alignment"};(function(e){jQuery.fn.redactor=function(n){return this.each(function(){var r=e(this),i=r.data("redactor");i||r.data("redactor",i=new t(this,n))})};var t=function(t,n){this.$el=e(t),typeof n!="undefined"&&typeof n.lang!="undefined"&&n.lang!=="en"&&typeof RELANG[n.lang]!="undefined"&&(RLANG=RELANG[n.lang]),this.opts=e.extend({lang:"en",direction:"ltr",callback:!1,keyupCallback:!1,keydownCallback:!1,execCommandCallback:!1,plugins:!1,cleanup:!0,focus:!1,tabindex:!1,autoresize:!0,minHeight:!1,fixed:!1,fixedTop:0,fixedBox:!1,source:!0,shortcuts:!0,mobile:!0,air:!1,wym:!1,convertLinks:!0,convertDivs:!0,protocol:"http://",autosave:!1,autosaveCallback:!1,interval:60,imageGetJson:!1,imageUpload:!1,imageUploadCallback:!1,imageUploadErrorCallback:!1,fileUpload:!1,fileUploadCallback:!1,fileUploadErrorCallback:!1,uploadCrossDomain:!1,uploadFields:!1,observeImages:!0,overlay:!0,allowedTags:["form","code","span","div","label","a","br","p","b","i","del","strike","u","img","video","audio","iframe","object","embed","param","blockquote","mark","cite","small","ul","ol","li","hr","dl","dt","dd","sup","sub","big","pre","code","figure","figcaption","strong","em","table","tr","td","th","tbody","thead","tfoot","h1","h2","h3","h4","h5","h6"],toolbarExternal:!1,buttonsCustom:{},buttonsAdd:[],buttons:["html","|","formatting","|","bold","italic","deleted","|","unorderedlist","orderedlist","outdent","indent","|","image","video","file","table","link","|","fontcolor","backcolor","|","alignment","|","horizontalrule"],airButtons:["formatting","|","bold","italic","deleted","|","unorderedlist","orderedlist","outdent","indent","|","fontcolor","backcolor"],formattingTags:["p","blockquote","pre","h1","h2","h3","h4"],activeButtons:["deleted","italic","bold","underline","unorderedlist","orderedlist"],activeButtonsStates:{b:"bold",strong:"bold",i:"italic",em:"italic",del:"deleted",strike:"deleted",ul:"unorderedlist",ol:"orderedlist",u:"underline"},colors:["#ffffff","#000000","#eeece1","#1f497d","#4f81bd","#c0504d","#9bbb59","#8064a2","#4bacc6","#f79646","#ffff00","#f2f2f2","#7f7f7f","#ddd9c3","#c6d9f0","#dbe5f1","#f2dcdb","#ebf1dd","#e5e0ec","#dbeef3","#fdeada","#fff2ca","#d8d8d8","#595959","#c4bd97","#8db3e2","#b8cce4","#e5b9b7","#d7e3bc","#ccc1d9","#b7dde8","#fbd5b5","#ffe694","#bfbfbf","#3f3f3f","#938953","#548dd4","#95b3d7","#d99694","#c3d69b","#b2a2c7","#b7dde8","#fac08f","#f2c314","#a5a5a5","#262626","#494429","#17365d","#366092","#953734","#76923c","#5f497a","#92cddc","#e36c09","#c09100","#7f7f7f","#0c0c0c","#1d1b10","#0f243e","#244061","#632423","#4f6128","#3f3151","#31859b","#974806","#7f6000"],emptyHtml:"<p><br /></p>",buffer:!1,visual:!0,modal_file:String()+'<div id="redactor_modal_content">'+'<form id="redactorUploadFileForm" method="post" action="" enctype="multipart/form-data">'+"<label>Name (optional)</label>"+'<input type="text" id="redactor_filename" class="redactor_input" />'+'<div style="margin-top: 7px;">'+'<input type="file" id="redactor_file" name="file" />'+"</div>"+"</form><br>"+"</div>",modal_image_edit:String()+'<div id="redactor_modal_content">'+"<label>"+RLANG.title+"</label>"+'<input id="redactor_file_alt" class="redactor_input" />'+"<label>"+RLANG.link+"</label>"+'<input id="redactor_file_link" class="redactor_input" />'+"<label>"+RLANG.image_position+"</label>"+'<select id="redactor_form_image_align">'+'<option value="none">'+RLANG.none+"</option>"+'<option value="left">'+RLANG.left+"</option>"+'<option value="right">'+RLANG.right+"</option>"+"</select>"+"</div>"+'<div id="redactor_modal_footer">'+'<a href="javascript:void(null);" id="redactor_image_delete_btn" class="redactor_modal_btn">'+RLANG._delete+"</a>&nbsp;&nbsp;&nbsp;"+'<a href="javascript:void(null);" class="redactor_modal_btn redactor_btn_modal_close">'+RLANG.cancel+"</a>"+'<input type="button" name="save" class="redactor_modal_btn" id="redactorSaveBtn" value="'+RLANG.save+'" />'+"</div>",modal_image:String()+'<div id="redactor_modal_content">'+'<div id="redactor_tabs">'+'<a href="javascript:void(null);" class="redactor_tabs_act">'+RLANG.upload+"</a>"+'<a href="javascript:void(null);">'+RLANG.choose+"</a>"+'<a href="javascript:void(null);">'+RLANG.link+"</a>"+"</div>"+'<form id="redactorInsertImageForm" method="post" action="" enctype="multipart/form-data">'+'<div id="redactor_tab1" class="redactor_tab">'+'<input type="file" id="redactor_file" name="file" />'+"</div>"+'<div id="redactor_tab2" class="redactor_tab" style="display: none;">'+'<div id="redactor_image_box"></div>'+"</div>"+"</form>"+'<div id="redactor_tab3" class="redactor_tab" style="display: none;">'+"<label>"+RLANG.image_web_link+"</label>"+'<input type="text" name="redactor_file_link" id="redactor_file_link" class="redactor_input"  />'+"</div>"+"</div>"+'<div id="redactor_modal_footer">'+'<a href="javascript:void(null);" class="redactor_modal_btn redactor_btn_modal_close">'+RLANG.cancel+"</a>"+'<input type="button" name="upload" class="redactor_modal_btn" id="redactor_upload_btn" value="'+RLANG.insert+'" />'+"</div>",modal_link:String()+'<div id="redactor_modal_content">'+'<form id="redactorInsertLinkForm" method="post" action="">'+'<div id="redactor_tabs">'+'<a href="javascript:void(null);" class="redactor_tabs_act">URL</a>'+'<a href="javascript:void(null);">Email</a>'+'<a href="javascript:void(null);">'+RLANG.anchor+"</a>"+"</div>"+'<input type="hidden" id="redactor_tab_selected" value="1" />'+'<div class="redactor_tab" id="redactor_tab1">'+'<label>URL</label><input type="text" id="redactor_link_url" class="redactor_input"  />'+"<label>"+RLANG.text+'</label><input type="text" class="redactor_input redactor_link_text" id="redactor_link_url_text" />'+'<label><input type="checkbox" id="redactor_link_blank"> '+RLANG.link_new_tab+"</label>"+"</div>"+'<div class="redactor_tab" id="redactor_tab2" style="display: none;">'+'<label>Email</label><input type="text" id="redactor_link_mailto" class="redactor_input" />'+"<label>"+RLANG.text+'</label><input type="text" class="redactor_input redactor_link_text" id="redactor_link_mailto_text" />'+"</div>"+'<div class="redactor_tab" id="redactor_tab3" style="display: none;">'+"<label>"+RLANG.anchor+'</label><input type="text" class="redactor_input" id="redactor_link_anchor"  />'+"<label>"+RLANG.text+'</label><input type="text" class="redactor_input redactor_link_text" id="redactor_link_anchor_text" />'+"</div>"+"</form>"+"</div>"+'<div id="redactor_modal_footer">'+'<a href="javascript:void(null);" class="redactor_modal_btn redactor_btn_modal_close">'+RLANG.cancel+"</a>"+'<input type="button" class="redactor_modal_btn" id="redactor_insert_link_btn" value="'+RLANG.insert+'" />'+"</div>",modal_table:String()+'<div id="redactor_modal_content">'+"<label>"+RLANG.rows+"</label>"+'<input type="text" size="5" value="2" id="redactor_table_rows" />'+"<label>"+RLANG.columns+"</label>"+'<input type="text" size="5" value="3" id="redactor_table_columns" />'+"</div>"+'<div id="redactor_modal_footer">'+'<a href="javascript:void(null);" class="redactor_modal_btn redactor_btn_modal_close">'+RLANG.cancel+"</a>"+'<input type="button" name="upload" class="redactor_modal_btn" id="redactor_insert_table_btn" value="'+RLANG.insert+'" />'+"</div>",modal_video:String()+'<div id="redactor_modal_content">'+'<form id="redactorInsertVideoForm">'+"<label>"+RLANG.video_html_code+"</label>"+'<textarea id="redactor_insert_video_area" style="width: 99%; height: 160px;"></textarea>'+"</form>"+"</div>"+'<div id="redactor_modal_footer">'+'<a href="javascript:void(null);" class="redactor_modal_btn redactor_btn_modal_close">'+RLANG.cancel+"</a>"+'<input type="button" class="redactor_modal_btn" id="redactor_insert_video_btn" value="'+RLANG.insert+'" />'+"</div>",toolbar:{html:{title:RLANG.html,func:"toggle"},formatting:{title:RLANG.formatting,func:"show",dropdown:{p:{title:RLANG.paragraph,exec:"formatblock"},blockquote:{title:RLANG.quote,exec:"formatblock",className:"redactor_format_blockquote"},pre:{title:RLANG.code,exec:"formatblock",className:"redactor_format_pre"},h1:{title:RLANG.header1,exec:"formatblock",className:"redactor_format_h1"},h2:{title:RLANG.header2,exec:"formatblock",className:"redactor_format_h2"},h3:{title:RLANG.header3,exec:"formatblock",className:"redactor_format_h3"},h4:{title:RLANG.header4,exec:"formatblock",className:"redactor_format_h4"}}},bold:{title:RLANG.bold,exec:"bold"},italic:{title:RLANG.italic,exec:"italic"},deleted:{title:RLANG.deleted,exec:"strikethrough"},underline:{title:RLANG.underline,exec:"underline"},unorderedlist:{title:"&bull; "+RLANG.unorderedlist,exec:"insertunorderedlist"},orderedlist:{title:"1. "+RLANG.orderedlist,exec:"insertorderedlist"},outdent:{title:"< "+RLANG.outdent,exec:"outdent"},indent:{title:"> "+RLANG.indent,exec:"indent"},image:{title:RLANG.image,func:"showImage"},video:{title:RLANG.video,func:"showVideo"},file:{title:RLANG.file,func:"showFile"},table:{title:RLANG.table,func:"show",dropdown:{insert_table:{title:RLANG.insert_table,func:"showTable"},separator_drop1:{name:"separator"},insert_row_above:{title:RLANG.insert_row_above,func:"insertRowAbove"},insert_row_below:{title:RLANG.insert_row_below,func:"insertRowBelow"},insert_column_left:{title:RLANG.insert_column_left,func:"insertColumnLeft"},insert_column_right:{title:RLANG.insert_column_right,func:"insertColumnRight"},separator_drop2:{name:"separator"},add_head:{title:RLANG.add_head,func:"addHead"},delete_head:{title:RLANG.delete_head,func:"deleteHead"},separator_drop3:{name:"separator"},delete_column:{title:RLANG.delete_column,func:"deleteColumn"},delete_row:{title:RLANG.delete_row,func:"deleteRow"},delete_table:{title:RLANG.delete_table,func:"deleteTable"}}},link:{title:RLANG.link,func:"show",dropdown:{link:{title:RLANG.link_insert,func:"showLink"},unlink:{title:RLANG.unlink,exec:"unlink"}}},fontcolor:{title:RLANG.fontcolor,func:"show"},backcolor:{title:RLANG.backcolor,func:"show"},alignment:{title:RLANG.alignment,func:"show",dropdown:{alignleft:{title:RLANG.align_left,exec:"JustifyLeft"},aligncenter:{title:RLANG.align_center,exec:"JustifyCenter"},alignright:{title:RLANG.align_right,exec:"JustifyRight"},justify:{title:RLANG.align_justify,exec:"JustifyFull"}}},alignleft:{exec:"JustifyLeft",title:RLANG.align_left},aligncenter:{exec:"JustifyCenter",title:RLANG.align_center},alignright:{exec:"JustifyRight",title:RLANG.align_right},justify:{exec:"JustifyFull",title:RLANG.align_justify},horizontalrule:{exec:"inserthorizontalrule",title:RLANG.horizontalrule}}},n,this.$el.data()),this.dropdowns=[],this.init()};t.prototype={init:function(){this.height=this.$el.css("height"),this.width=this.$el.css("width");if(this.opts.mobile===!1&&this.isMobile())return this.build(!0),!1;if(this.opts.air)this.opts.buttons=this.opts.airButtons;else if(this.opts.toolbar!==!1){if(this.opts.source===!1){var t=this.opts.buttons.indexOf("html"),n=this.opts.buttons[t+1];this.opts.buttons.splice(t,1),typeof n!="undefined"&&n==="|"&&this.opts.buttons.splice(t,1)}e.extend(this.opts.toolbar,this.opts.buttonsCustom),e.each(this.opts.buttonsAdd,e.proxy(function(e,t){this.opts.buttons.push(t)},this))}this.opts.toolbar!==!1&&e.each(this.opts.toolbar.formatting.dropdown,e.proxy(function(t,n){e.inArray(t,this.opts.formattingTags)=="-1"&&delete this.opts.toolbar.formatting.dropdown[t]},this)),this.build(),this.enableAir(),this.buildToolbar(),typeof this.opts.plugins=="object"&&e.each(this.opts.plugins,e.proxy(function(t,n){typeof RedactorPlugins[n]!="undefined"&&(e.extend(this,RedactorPlugins[n]),typeof RedactorPlugins[n].init!="undefined"&&this.init())},this));if(this.opts.activeButtons!==!1&&this.opts.toolbar!==!1){var r=e.proxy(function(){this.observeFormatting()},this);this.$editor.click(r).keyup(r)}var i=!1;if(e.browser.webkit&&navigator.userAgent.indexOf("Chrome")===-1){var s=e.browser.version.split(".");s[0]<536&&(i=!0)}this.isMobile(!0)===!1&&i===!1&&this.$editor.bind("paste",e.proxy(function(t){if(this.opts.cleanup===!1)return!0;this.setBuffer(),this.opts.autoresize===!0?this.saveScroll=document.body.scrollTop:this.saveScroll=this.$editor.scrollTop();var n=this.extractContent();setTimeout(e.proxy(function(){var e=this.extractContent();this.$editor.append(n),this.restoreSelection();var t=this.getFragmentHtml(e);this.pasteCleanUp(t)},this),1)},this)),this.keyup(),this.keydown(),this.opts.autosave!==!1&&this.autoSave(),this.observeImages(),this.observeTables();if(e.browser.mozilla){this.$editor.click(e.proxy(function(){this.saveSelection()},this));try{document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1)}catch(o){}}this.opts.focus&&this.$editor.focus(),this.opts.fixed&&(this.observeScroll(),e(document).scroll(e.proxy(this.observeScroll,this))),typeof this.opts.callback=="function"&&this.opts.callback(this)},shortcuts:function(e,t){e.preventDefault(),this.execCommand(t,!1)},keyup:function(){this.$editor.keyup(e.proxy(function(t){var n=t.keyCode||t.which;e.browser.mozilla&&this.saveSelection(),typeof this.opts.keyupCallback=="function"&&this.opts.keyupCallback(this,t);if(n===8||n===46)return this.observeImages(),this.formatEmpty(t);n===13&&!t.shiftKey&&!t.ctrlKey&&!t.metaKey&&(e.browser.webkit&&this.formatNewLine(t),this.opts.convertLinks&&this.$editor.linkify()),this.syncCode()},this))},keydown:function(){this.$editor.keydown(e.proxy(function(t){var n=t.keyCode||t.which,r=this.getParentNode(),i=this.getCurrentNode(),s=!1,o=t.ctrlKey||t.metaKey;(r||i)&&(e(r).get(0).tagName==="PRE"||e(i).get(0).tagName==="PRE")&&(s=!0),typeof this.opts.keydownCallback=="function"&&this.opts.keydownCallback(this,t),o&&this.opts.shortcuts&&(n===90?this.opts.buffer!==!1?(t.preventDefault(),this.getBuffer()):t.shiftKey?this.shortcuts(t,"redo"):this.shortcuts(t,"undo"):n===77?this.shortcuts(t,"removeFormat"):n===66?this.shortcuts(t,"bold"):n===73?this.shortcuts(t,"italic"):n===74?this.shortcuts(t,"insertunorderedlist"):n===75?this.shortcuts(t,"insertorderedlist"):n===76?this.shortcuts(t,"superscript"):n===72&&this.shortcuts(t,"subscript")),!o&&n!==90&&(this.opts.buffer=!1);if(s===!0&&n===13){t.preventDefault();var u=e(i).parent().text();return this.insertNodeAtCaret(document.createTextNode("\r\n")),u.search(/\s$/)==-1&&this.insertNodeAtCaret(document.createTextNode("\r\n")),this.syncCode(),!1}if(this.opts.shortcuts&&!t.shiftKey&&n===9){if(s!==!1)return t.preventDefault(),this.insertNodeAtCaret(document.createTextNode("	")),this.syncCode(),!1;this.shortcuts(t,"indent")}else this.opts.shortcuts&&t.shiftKey&&n===9&&this.shortcuts(t,"outdent");if(e.browser.webkit&&navigator.userAgent.indexOf("Chrome")===-1)return this.safariShiftKeyEnter(t,n)},this))},build:function(t){if(t!==!0){this.$box=e('<div class="redactor_box"></div>'),this.opts.air&&(this.air=e('<div class="redactor_air" style="display: none;"></div>')),this.textareamode=!0;if(this.$el.get(0).tagName==="TEXTAREA"){this.$editor=e("<div></div>");var n=this.$el.get(0).className.split(/\s+/);e.each(n,e.proxy(function(e,t){this.$editor.addClass("redactor_"+t)},this))}else this.textareamode=!1,this.$editor=this.$el,this.$el=e('<textarea name="'+this.$editor.attr("id")+'"></textarea>').css("height",this.height);this.$editor.addClass("redactor_editor").attr("contenteditable",!0).attr("dir",this.opts.direction),this.opts.tabindex!==!1&&this.$editor.attr("tabindex",this.opts.tabindex),this.opts.minHeight!==!1&&this.$editor.css("min-height",this.opts.minHeight+"px"),this.opts.wym===!0&&this.$editor.addClass("redactor_editor_wym"),this.opts.autoresize===!1&&this.$editor.css("height",this.height),this.$el.hide();var r="";this.textareamode?(r=this.$el.val(),r=this.savePreCode(r),this.$box.insertAfter(this.$el).append(this.$editor).append(this.$el)):(r=this.$editor.html(),r=this.savePreCode(r),this.$box.insertAfter(this.$editor).append(this.$el).append(this.$editor)),r=this.paragraphy(r),this.$editor.html(r),this.textareamode===!1&&this.syncCode()}else if(this.$el.get(0).tagName!=="TEXTAREA"){var r=this.$el.val(),i=e('<textarea name="'+this.$editor.attr("id")+'"></textarea>').css("height",this.height).val(r);this.$el.hide(),this.$el.after(i)}},enableAir:function(){if(this.opts.air===!1)return!1;this.air.hide(),this.$editor.bind("textselect",e.proxy(function(e){this.showAir(e)},this)),this.$editor.bind("textunselect",e.proxy(function(){this.air.hide()},this))},showAir:function(t){e(".redactor_air").hide();var n=this.air.innerWidth(),r=t.clientX;e(document).width()<r+n&&(r-=n),this.air.css({left:r+"px",top:t.clientY+e(document).scrollTop()+14+"px"}).show()},syncCode:function(){this.$el.val(this.$editor.html())},setCode:function(e){e=this.stripTags(e),this.$editor.html(e).focus(),this.syncCode()},getCode:function(){var e="";return this.opts.visual?e=this.$editor.html():e=this.$el.val(),this.stripTags(e)},insertHtml:function(e){this.$editor.focus(),this.pasteHtmlAtCaret(e),this.observeImages(),this.syncCode()},pasteHtmlAtCaret:function(e){var t,n;if(document.getSelection){t=window.getSelection();if(t.getRangeAt&&t.rangeCount){n=t.getRangeAt(0),n.deleteContents();var r=document.createElement("div");r.innerHTML=e;var i=document.createDocumentFragment(),s,o;while(s=r.firstChild)o=i.appendChild(s);n.insertNode(i),o&&(n=n.cloneRange(),n.setStartAfter(o),n.collapse(!0),t.removeAllRanges(),t.addRange(n))}}else document.selection&&document.selection.type!="Control"&&document.selection.createRange().pasteHTML(e)},destroy:function(){var t=this.getCode();this.textareamode?(this.$box.after(this.$el),this.$box.remove(),this.$el.height(this.height).val(t).show()):(this.$box.after(this.$editor),this.$box.remove(),this.$editor.removeClass("redactor_editor").removeClass("redactor_editor_wym").attr("contenteditable",!1).html(t).show()),this.opts.toolbarExternal&&e(this.opts.toolbarExternal).empty(),e(".redactor_air").remove();for(var n=0;n<this.dropdowns.length;n++)this.dropdowns[n].remove(),delete this.dropdowns[n]},observeFormatting:function(){var t=this.getCurrentNode();this.inactiveAllButtons(),e.each(this.opts.activeButtonsStates,e.proxy(function(n,r){e(t).closest(n).size()!=0&&this.setBtnActive(r)},this));var n=e(t).closest(["p","div","h1","h2","h3","h4","h5","h6","blockquote","td"]);if(typeof n[0]!="undefined"&&typeof n[0].elem!="undefined"&&e(n[0].elem).size()!=0){var r=e(n[0].elem).css("text-align");switch(r){case"right":this.setBtnActive("alignright");break;case"center":this.setBtnActive("aligncenter");break;case"justify":this.setBtnActive("justify");break;default:this.setBtnActive("alignleft")}}},observeImages:function(){if(this.opts.observeImages===!1)return!1;this.$editor.find("img").each(e.proxy(function(t,n){e.browser.msie&&e(n).attr("unselectable","on"),this.resizeImage(n)},this))},observeTables:function(){this.$editor.find("table").click(e.proxy(this.tableObserver,this))},observeScroll:function(){var t=e(document).scrollTop(),n=this.$box.offset().top,r=0;if(t>n){var i="100%";this.opts.fixedBox&&(r=this.$editor.offset().left,i=this.$editor.innerWidth()),this.fixed=!0,this.$toolbar.css({position:"fixed",width:i,zIndex:1005,top:this.opts.fixedTop+"px",left:r})}else this.fixed=!1,this.$toolbar.css({position:"relative",width:"auto",zIndex:1,top:0,left:r})},setBuffer:function(){this.saveSelection(),this.opts.buffer=this.$editor.html()},getBuffer:function(){if(this.opts.buffer===!1)return!1;this.$editor.html(this.opts.buffer),e.browser.msie||this.restoreSelection(),this.opts.buffer=!1},execCommand:function(t,n){if(this.opts.visual==0)return this.$el.focus(),!1;try{var r;if(t==="inserthtml")e.browser.msie?(this.$editor.focus(),document.selection.createRange().pasteHTML(n)):this.pasteHtmlAtCaret(n),this.observeImages();else if(t==="unlink")r=this.getParentNode(),e(r).get(0).tagName==="A"?e(r).replaceWith(e(r).text()):this.execRun(t,n);else if(t==="JustifyLeft"||t==="JustifyCenter"||t==="JustifyRight"||t==="JustifyFull"){r=this.getParentNode();var i=e(r).get(0).tagName,s=["P","DIV","H1","H2","H3","H4","H5","H6","BLOCKQUOTE","TD"];if(e.inArray(i,s)!=-1){var o=!1;t==="JustifyCenter"?o="center":t==="JustifyRight"?o="right":t==="JustifyFull"&&(o="justify"),o===!1?e(r).css("text-align",""):e(r).css("text-align",o)}else this.execRun(t,n)}else if(t==="formatblock"&&n==="blockquote"){r=this.getParentNode();if(e(r).get(0).tagName==="BLOCKQUOTE")if(e.browser.msie){var u=e("<p>"+e(r).html()+"</p>");e(r).replaceWith(u)}else this.execRun(t,"p");else if(e(r).get(0).tagName==="P"){var a=e(r).parent();if(e(a).get(0).tagName==="BLOCKQUOTE"){var u=e("<p>"+e(r).html()+"</p>");e(a).replaceWith(u),this.setFocusNode(u.get(0))}else if(e.browser.msie){var u=e("<blockquote>"+e(r).html()+"</blockquote>");e(r).replaceWith(u)}else this.execRun(t,n)}else this.execRun(t,n)}else t!=="formatblock"||n!=="pre"&&n!=="p"?(t==="inserthorizontalrule"&&e.browser.msie&&this.$editor.focus(),t==="formatblock"&&e.browser.mozilla&&this.$editor.focus(),this.execRun(t,n)):(r=this.getParentNode(),e(r).get(0).tagName==="PRE"?e(r).replaceWith("<p>"+this.encodeEntities(e(r).text())+"</p>"):this.execRun(t,n));t==="inserthorizontalrule"&&this.$editor.find("hr").removeAttr("id"),this.syncCode(),this.oldIE()&&this.$editor.focus(),typeof this.opts.execCommandCallback=="function"&&this.opts.execCommandCallback(this,t),this.opts.air&&this.air.hide()}catch(f){}},execRun:function(t,n){t==="formatblock"&&e.browser.msie&&(n="<"+n+">"),document.execCommand(t,!1,n)},formatNewLine:function(t){var n=this.getParentNode();if(n.nodeName==="DIV"&&n.className==="redactor_editor"){var r=e(this.getCurrentNode());if(r.get(0).tagName==="DIV"&&(r.html()===""||r.html()==="<br>")){var i=e("<p>").append(r.clone().get(0).childNodes);r.replaceWith(i),i.html("<br />"),this.setFocusNode(i.get(0))}}},safariShiftKeyEnter:function(t,n){return t.shiftKey&&n===13?(t.preventDefault(),this.insertNodeAtCaret(e("<span><br /></span>").get(0)),this.syncCode(),!1):!0},formatEmpty:function(t){var n=e.trim(this.$editor.html());e.browser.mozilla&&(n=n.replace(/<br>/i,""));var r=n.replace(/<(?:.|\n)*?>/gm,"");if(n===""||r===""){t.preventDefault();var i=e(this.opts.emptyHtml).get(0);return this.$editor.html(i),this.setFocusNode(i),this.syncCode(),!1}this.syncCode()},paragraphy:function(t){t=e.trim(t);if(t===""||t==="<p></p>")return this.opts.emptyHtml;this.opts.convertDivs&&(t=t.replace(/<div(.*?)>([\w\W]*?)<\/div>/gi,"<p>$2</p>"));var n=function(e,t,n){return e.replace(new RegExp(t,"g"),n)},r=function(e,r){return n(t,e,r)},i="(table|thead|tfoot|caption|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|select|form|blockquote|address|math|style|script|object|input|param|p|h[1-6])";return t+="\n",r("<br />\\s*<br />","\n\n"),r("(<"+i+"[^>]*>)","\n$1"),r("(</"+i+">)","$1\n\n"),r("\r\n|\r","\n"),r("\n\n+","\n\n"),r("\n?((.|\n)+?)$","<p>$1</p>\n"),r("<p>\\s*?</p>",""),r("<p>(<div[^>]*>\\s*)","$1<p>"),r("<p>([^<]+)\\s*?(</(div|address|form)[^>]*>)","<p>$1</p>$2"),r("<p>\\s*(</?"+i+"[^>]*>)\\s*</p>","$1"),r("<p>(<li.+?)</p>","$1"),r("<p>\\s*(</?"+i+"[^>]*>)","$1"),r("(</?"+i+"[^>]*>)\\s*</p>","$1"),r("(</?"+i+"[^>]*>)\\s*<br />","$1"),r("<br />(\\s*</?(p|li|div|dl|dd|dt|th|pre|td|ul|ol)[^>]*>)","$1"),t.indexOf("<pre")!=-1&&r("(<pre(.|\n)*?>)((.|\n)*?)</pre>",function(e,t,r,i){return n(t,"\\\\(['\"\\\\])","$1")+n(n(n(i,"<p>","\n"),"</p>|<br />",""),"\\\\(['\"\\\\])","$1")+"</pre>"}),r("\n</p>$","</p>")},stripTags:function(t){var n=this.opts.allowedTags,r=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;return t.replace(r,function(t,r){return e.inArray(r.toLowerCase(),n)>"-1"?t:""})},savePreCode:function(t){var n=t.match(/<pre(.*?)>([\w\W]*?)<\/pre>/gi);return n!==null&&e.each(n,e.proxy(function(e,n){var r=n.match(/<pre(.*?)>([\w\W]*?)<\/pre>/i);r[2]=this.encodeEntities(r[2]),t=t.replace(n,"<pre"+r[1]+">"+r[2]+"</pre>")},this)),t},encodeEntities:function(e){return e=String(e).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"'),String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},cleanupPre:function(e){e=e.replace(/<br>/gi,"\n"),e=e.replace(/<\/p>/gi,"\n"),e=e.replace(/<\/div>/gi,"\n");var t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText},pasteCleanUp:function(t){var n=this.getParentNode();if(e(n).get(0).tagName==="PRE")return t=this.cleanupPre(t),this.pasteCleanUpInsert(t),!0;t=t.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,""),t=t.replace(/(&nbsp;){2,}/gi,"&nbsp;"),t=t.replace(/<b\sid="internal-source-marker(.*?)">([\w\W]*?)<\/b>/gi,"$2"),t=this.stripTags(t),t=t.replace(/<td><\/td>/gi,"[td]"),t=t.replace(/<td>&nbsp;<\/td>/gi,"[td]"),t=t.replace(/<td><br><\/td>/gi,"[td]"),t=t.replace(/<a(.*?)href="(.*?)"(.*?)>([\w\W]*?)<\/a>/gi,'[a href="$2"]$4[/a]'),t=t.replace(/<iframe(.*?)>([\w\W]*?)<\/iframe>/gi,"[iframe$1]$2[/iframe]"),t=t.replace(/<video(.*?)>([\w\W]*?)<\/video>/gi,"[video$1]$2[/video]"),t=t.replace(/<audio(.*?)>([\w\W]*?)<\/audio>/gi,"[audio$1]$2[/audio]"),t=t.replace(/<embed(.*?)>([\w\W]*?)<\/embed>/gi,"[embed$1]$2[/embed]"),t=t.replace(/<object(.*?)>([\w\W]*?)<\/object>/gi,"[object$1]$2[/object]"),t=t.replace(/<param(.*?)>/gi,"[param$1]"),t=t.replace(/<img(.*?)style="(.*?)"(.*?)>/gi,"[img$1$3]"),t=t.replace(/<(\w+)([\w\W]*?)>/gi,"<$1>"),t=t.replace(/<[^\/>][^>]*>(\s*|\t*|\n*|&nbsp;|<br>)<\/[^>]+>/gi,""),t=t.replace(/<[^\/>][^>]*>(\s*|\t*|\n*|&nbsp;|<br>)<\/[^>]+>/gi,""),t=t.replace(/\[td\]/gi,"<td>&nbsp;</td>"),t=t.replace(/\[a href="(.*?)"\]([\w\W]*?)\[\/a\]/gi,'<a href="$1">$2</a>'),t=t.replace(/\[iframe(.*?)\]([\w\W]*?)\[\/iframe\]/gi,"<iframe$1>$2</iframe>"),t=t.replace(/\[video(.*?)\]([\w\W]*?)\[\/video\]/gi,"<video$1>$2</video>"),t=t.replace(/\[audio(.*?)\]([\w\W]*?)\[\/audio\]/gi,"<audio$1>$2</audio>"),t=t.replace(/\[embed(.*?)\]([\w\W]*?)\[\/embed\]/gi,"<embed$1>$2</embed>"),t=t.replace(/\[object(.*?)\]([\w\W]*?)\[\/object\]/gi,"<object$1>$2</object>"),t=t.replace(/\[param(.*?)\]/gi,"<param$1>"),t=t.replace(/\[img(.*?)\]/gi,"<img$1>"),this.opts.convertDivs&&(t=t.replace(/<div(.*?)>([\w\W]*?)<\/div>/gi,"<p>$2</p>")),t=t.replace(/<span>([\w\W]*?)<\/span>/gi,"$1"),t=t.replace(/\n{3,}/gi,"\n"),t=t.replace(/<p><p>/gi,"<p>"),t=t.replace(/<\/p><\/p>/gi,"</p>"),this.pasteCleanUpInsert(t)},pasteCleanUpInsert:function(t){this.execCommand("inserthtml",t),this.opts.autoresize===!0?e(document.body).scrollTop(this.saveScroll):this.$editor.scrollTop(this.saveScroll)},formattingRemove:function(t){var n=[],r=t.match(/<pre(.*?)>([\w\W]*?)<\/pre>/gi);return r!==null&&e.each(r,function(e,r){t=t.replace(r,"prebuffer_"+e),n.push(r)}),t=t.replace(/\s{2,}/g," "),t=t.replace(/\n/g," "),t=t.replace(/[\t]*/g,""),t=t.replace(/\n\s*\n/g,"\n"),t=t.replace(/^[\s\n]*/g,""),t=t.replace(/[\s\n]*$/g,""),t=t.replace(/>\s+</g,"><"),n&&(e.each(n,function(e,n){t=t.replace("prebuffer_"+e,n)}),n=[]),t},formattingIndenting:function(e){return e=e.replace(/<li/g,"	<li"),e=e.replace(/<tr/g,"	<tr"),e=e.replace(/<td/g,"		<td"),e=e.replace(/<\/tr>/g,"	</tr>"),e},formattingEmptyTags:function(e){var t=["<pre></pre>","<blockquote>\\s*</blockquote>","<em>\\s*</em>","<ul></ul>","<ol></ol>","<li></li>","<table></table>","<tr></tr>","<span>\\s*<span>","<span>&nbsp;<span>","<b>\\s*</b>","<b>&nbsp;</b>","<p>\\s*</p>","<p>&nbsp;</p>","<p>\\s*<br>\\s*</p>","<div>\\s*</div>","<div>\\s*<br>\\s*</div>"];for(var n=0;n<t.length;++n){var r=t[n];e=e.replace(new RegExp(r,"gi"),"")}return e},formattingAddBefore:function(e){var t="\r\n",n=["<p","<form","</ul>","</ol>","<fieldset","<legend","<object","<embed","<select","<option","<input","<textarea","<pre","<blockquote","<ul","<ol","<li","<dl","<dt","<dd","<table","<thead","<tbody","<caption","</caption>","<th","<tr","<td","<figure"];for(var r=0;r<n.length;++r){var i=n[r];e=e.replace(new RegExp(i,"gi"),t+i)}return e},formattingAddAfter:function(e){var t="\r\n",n=["</p>","</div>","</h1>","</h2>","</h3>","</h4>","</h5>","</h6>","<br>","<br />","</dl>","</dt>","</dd>","</form>","</blockquote>","</pre>","</legend>","</fieldset>","</object>","</embed>","</textarea>","</select>","</option>","</table>","</thead>","</tbody>","</tr>","</td>","</th>","</figure>"];for(var r=0;r<n.length;++r){var i=n[r];e=e.replace(new RegExp(i,"gi"),i+t)}return e},formatting:function(e){return e=this.formattingRemove(e),e=this.formattingEmptyTags(e),e=this.formattingAddBefore(e),e=this.formattingAddAfter(e),e=this.formattingIndenting(e),e},toggle:function(){var t;if(this.opts.visual){var n=this.$editor.innerHeight();this.$editor.hide(),t=this.$editor.html(),t=e.trim(this.formatting(t)),this.$el.height(n).val(t).show().focus(),this.setBtnActive("html"),this.opts.visual=!1}else{this.$el.hide();var t=this.$el.val();t=this.savePreCode(t),t=this.stripTags(t),this.$editor.html(t).show(),this.$editor.html()===""&&this.setCode(this.opts.emptyHtml),this.$editor.focus(),this.setBtnInactive("html"),this.opts.visual=!0,this.observeImages(),this.observeTables()}},autoSave:function(){setInterval(e.proxy(function(){e.ajax({url:this.opts.autosave,type:"post",data:this.$el.attr("name")+"="+escape(encodeURIComponent(this.getCode())),success:e.proxy(function(e){typeof this.opts.autosaveCallback=="function"&&this.opts.autosaveCallback(e,this)},this)})},this),this.opts.interval*1e3)},buildToolbar:function(){if(this.opts.toolbar===!1)return!1;this.$toolbar=e("<ul>").addClass("redactor_toolbar"),this.opts.air?(e(this.air).append(this.$toolbar),e("body").prepend(this.air)):this.opts.toolbarExternal===!1?this.$box.prepend(this.$toolbar):e(this.opts.toolbarExternal).html(this.$toolbar),e.each(this.opts.buttons,e.proxy(function(t,n){if(n!=="|"&&typeof this.opts.toolbar[n]!="undefined"){var r=this.opts.toolbar[n];if(this.opts.fileUpload===!1&&n==="file")return!0;this.$toolbar.append(e("<li>").append(this.buildButton(n,r)))}n==="|"&&this.$toolbar.append(e('<li class="redactor_separator"></li>'))},this))},buildButton:function(t,n){var r=e('<a href="javascript:void(null);" title="'+n.title+'" class="redactor_btn_'+t+'"></a>');typeof n.func=="undefined"?r.click(e.proxy(function(){e.inArray(t,this.opts.activeButtons)!=-1&&(this.inactiveAllButtons(),this.setBtnActive(t)),e.browser.mozilla&&(this.$editor.focus(),this.restoreSelection()),this.execCommand(n.exec,t)},this)):n.func!=="show"&&r.click(e.proxy(function(e){this[n.func](e)},this)),typeof n.callback!="undefined"&&n.callback!==!1&&r.click(e.proxy(function(e){n.callback(this,e,t)},this));if(t==="backcolor"||t==="fontcolor"||typeof n.dropdown!="undefined"){var i=e('<div class="redactor_dropdown" style="display: none;">');t==="backcolor"||t==="fontcolor"?i=this.buildColorPicker(i,t):i=this.buildDropdown(i,n.dropdown),this.dropdowns.push(i.appendTo(e(document.body))),this.hdlShowDropDown=e.proxy(function(e){this.showDropDown(e,i,t)},this),r.click(this.hdlShowDropDown)}return r},buildDropdown:function(t,n){return e.each(n,e.proxy(function(n,r){typeof r.className=="undefined"&&(r.className="");var i;typeof r.name!="undefined"&&r.name==="separator"?i=e('<a class="redactor_separator_drop">'):(i=e('<a href="javascript:void(null);" class="'+r.className+'">'+r.title+"</a>"),typeof r.callback=="function"?e(i).click(e.proxy(function(e){r.callback(this,e,n)},this)):typeof r.func=="undefined"?e(i).click(e.proxy(function(){this.execCommand(r.exec,n)},this)):e(i).click(e.proxy(function(e){this[r.func](e)},this))),e(t).append(i)},this)),t},buildColorPicker:function(t,n){var r;n==="backcolor"?e.browser.msie?r="BackColor":r="hilitecolor":r="forecolor",e(t).width(210);var i=this.opts.colors.length;for(var s=0;s<i;++s){var o=this.opts.colors[s],u=e('<a rel="'+o+'" href="javascript:void(null);" class="redactor_color_link"></a>').css({backgroundColor:o});e(t).append(u);var a=this;e(u).click(function(){a.execCommand(r,e(this).attr("rel")),r==="forecolor"&&a.$editor.find("font").replaceWith(function(){return e('<span style="color: '+e(this).attr("color")+';">'+e(this).html()+"</span>")}),e.browser.msie&&r==="BackColor"&&a.$editor.find("font").replaceWith(function(){return e('<span style="'+e(this).attr("style")+'">'+e(this).html()+"</span>")})})}var f=e('<a href="javascript:void(null);" class="redactor_color_none"></a>').html(RLANG.none);return n==="backcolor"?f.click(e.proxy(this.setBackgroundNone,this)):f.click(e.proxy(this.setColorNone
,this)),e(t).append(f),t},setBackgroundNone:function(){e(this.getParentNode()).css("background-color","transparent"),this.syncCode()},setColorNone:function(){e(this.getParentNode()).attr("color","").css("color",""),this.syncCode()},showDropDown:function(t,n,r){if(this.getBtn(r).hasClass("dropact"))this.hideAllDropDown();else{this.hideAllDropDown(),this.setBtnActive(r),this.getBtn(r).addClass("dropact");var i=this.getBtn(r).offset().left;if(this.opts.air){var s=this.air.offset().top;e(n).css({position:"absolute",left:i+"px",top:s+30+"px"}).show()}else if(this.opts.fixed&&this.fixed)e(n).css({position:"fixed",left:i+"px",top:"30px"}).show();else{var o=this.$toolbar.offset().top+30;e(n).css({position:"absolute",left:i+"px",top:o+"px"}).show()}}var u=e.proxy(function(e){this.hideDropDown(e,n,r)},this);e(document).one("click",u),this.$editor.one("click",u),t.stopPropagation()},hideAllDropDown:function(){this.$toolbar.find("a.dropact").removeClass("redactor_act").removeClass("dropact"),e(".redactor_dropdown").hide()},hideDropDown:function(t,n,r){e(t.target).hasClass("dropact")||(e(n).removeClass("dropact"),this.showedDropDown=!1,this.hideAllDropDown())},getBtn:function(t){return this.opts.toolbar===!1?!1:e(this.$toolbar.find("a.redactor_btn_"+t))},setBtnActive:function(e){this.getBtn(e).addClass("redactor_act")},setBtnInactive:function(e){this.getBtn(e).removeClass("redactor_act")},inactiveAllButtons:function(){e.each(this.opts.activeButtons,e.proxy(function(e,t){this.setBtnInactive(t)},this))},changeBtnIcon:function(e,t){this.getBtn(e).addClass("redactor_btn_"+t)},removeBtnIcon:function(e,t){this.getBtn(e).removeClass("redactor_btn_"+t)},addBtnSeparator:function(){this.$toolbar.append(e('<li class="redactor_separator"></li>'))},addBtnSeparatorAfter:function(t){var n=this.getBtn(t);n.parent().after(e('<li class="redactor_separator"></li>'))},addBtnSeparatorBefore:function(t){var n=this.getBtn(t);n.parent().before(e('<li class="redactor_separator"></li>'))},removeBtnSeparatorAfter:function(e){var t=this.getBtn(e);t.parent().next().remove()},removeBtnSeparatorBefore:function(e){var t=this.getBtn(e);t.parent().prev().remove()},setBtnRight:function(e){if(this.opts.toolbar===!1)return!1;this.getBtn(e).parent().addClass("redactor_btn_right")},setBtnLeft:function(e){if(this.opts.toolbar===!1)return!1;this.getBtn(e).parent().removeClass("redactor_btn_right")},addBtn:function(t,n,r,i){if(this.opts.toolbar===!1)return!1;var s=this.buildButton(t,{title:n,callback:r,dropdown:i});this.$toolbar.append(e("<li>").append(s))},addBtnFirst:function(t,n,r,i){if(this.opts.toolbar===!1)return!1;var s=this.buildButton(t,{title:n,callback:r,dropdown:i});this.$toolbar.prepend(e("<li>").append(s))},addBtnAfter:function(t,n,r,i,s){if(this.opts.toolbar===!1)return!1;var o=this.buildButton(n,{title:r,callback:i,dropdown:s}),u=this.getBtn(t);u.parent().after(e("<li>").append(o))},addBtnBefore:function(t,n,r,i,s){if(this.opts.toolbar===!1)return!1;var o=this.buildButton(n,{title:r,callback:i,dropdown:s}),u=this.getBtn(t);u.parent().before(e("<li>").append(o))},removeBtn:function(e,t){var n=this.getBtn(e);t===!0&&n.parent().next().remove(),n.parent().removeClass("redactor_btn_right"),n.remove()},getSelection:function(){if(typeof window.getSelection!="undefined")return document.getSelection();if(typeof document.selection!="undefined")return document.selection.createRange()},getFragmentHtml:function(e){var t=e.cloneNode(!0),n=document.createElement("div");return n.appendChild(t),n.innerHTML},extractContent:function(){var e=this.$editor.get(0),t=document.createDocumentFragment(),n;while(n=e.firstChild)t.appendChild(n);return t},saveSelection:function(){this.$editor.focus(),this.savedSel=null,this.savedSelObj=null;if(e.browser.msie&&parseInt(e.browser.version,10)<9){var t=this.$editor.get(0);this.savedSel=window.Selection.getOrigin(t),this.savedSelObj=window.Selection.getFocus(t)}else this.savedSel=window.Selection.getOrigin(window),this.savedSelObj=window.Selection.getFocus(window)},restoreSelection:function(){typeof this.savedSel!="undefined"&&this.savedSel!==null&&this.savedSelObj!==null&&this.savedSel[0].tagName!=="BODY"?e(this.savedSel[0]).closest(".redactor_editor").size()==0?this.$editor.focus():window.Selection.setSelection(window,this.savedSel[0],this.savedSel[1],this.savedSelObj[0],this.savedSelObj[1]):this.$editor.focus()},getParentNode:function(){if(typeof window.getSelection!="undefined"){var e=window.getSelection();return e.rangeCount>0?this.getSelection().getRangeAt(0).startContainer.parentNode:!1}if(typeof document.selection!="undefined")return this.getSelection().parentElement()},getCurrentNode:function(){if(typeof window.getSelection!="undefined"){var e=window.getSelection();return e.rangeCount>0?this.getSelection().getRangeAt(0).startContainer:!1}if(typeof document.selection!="undefined")return this.getSelection()},setFocusNode:function(e){if(typeof e=="undefined")return!1;try{var t=document.createRange(),n=this.getSelection();n!==null&&(t.selectNodeContents(e),n.addRange(t),n.collapse(e,0)),this.$editor.focus()}catch(r){}},insertNodeAfterCaret:function(e){this.saveSelection(),this.insertNodeAtCaret(e),this.restoreSelection()},insertNodeAtCaret:function(e){if(window.getSelection){var t=this.getSelection();if(t.rangeCount){var n=t.getRangeAt(0);n.collapse(!1),n.insertNode(e),n=n.cloneRange(),n.selectNodeContents(e),n.collapse(!1),t.removeAllRanges(),t.addRange(n)}}else if(document.selection){var r=e.nodeType===1?e.outerHTML:e.data,i="marker_"+(""+Math.random()).slice(2);r+='<span id="'+i+'"></span>';var s=this.getSelection();s.collapse(!1),s.pasteHTML(r);var o=document.getElementById(i);s.moveToElementText(o),s.select(),o.parentNode.removeChild(o)}},getSelectedHtml:function(){var e="";if(window.getSelection){var t=window.getSelection();if(t.rangeCount){var n=document.createElement("div");for(var r=0,i=t.rangeCount;r<i;++r)n.appendChild(t.getRangeAt(r).cloneContents());e=n.innerHTML}}else document.selection&&document.selection.type==="Text"&&(e=document.selection.createRange().htmlText);return e},resizeImage:function(t){var n=!1,r=!1,i,s,o=e(t).width()/e(t).height(),u=10,a=10;e(t).off("hover mousedown mouseup click mousemove"),e(t).hover(function(){e(t).css("cursor","nw-resize")},function(){e(t).css("cursor",""),n=!1}),e(t).mousedown(function(u){u.preventDefault(),o=e(t).width()/e(t).height(),n=!0,r=!0,i=Math.round(u.pageX-e(t).eq(0).offset().left),s=Math.round(u.pageY-e(t).eq(0).offset().top)}),e(t).mouseup(e.proxy(function(e){n=!1,this.syncCode()},this)),e(t).click(e.proxy(function(e){r&&this.imageEdit(e)},this)),e(t).mousemove(function(f){if(n){r=!1;var l=Math.round(f.pageX-e(this).eq(0).offset().left)-i,c=Math.round(f.pageY-e(this).eq(0).offset().top)-s,h=e(t).height(),p=parseInt(h,10)+c,d=p*o;d>u&&e(t).width(d),p>a&&e(t).height(p),i=Math.round(f.pageX-e(this).eq(0).offset().left),s=Math.round(f.pageY-e(this).eq(0).offset().top)}})},showTable:function(){this.saveSelection(),this.modalInit(RLANG.table,this.opts.modal_table,300,e.proxy(function(){e("#redactor_insert_table_btn").click(e.proxy(this.insertTable,this)),e("#redactor_table_rows").focus()},this))},insertTable:function(){var t=e("#redactor_table_rows").val(),n=e("#redactor_table_columns").val(),r=e("<div></div>"),i=Math.floor(Math.random()*99999),s=e('<table id="table'+i+'"><tbody></tbody></table>');for(var o=0;o<t;o++){var u=e("<tr></tr>");for(var a=0;a<n;a++){var f=e("<td><br></td>");e(u).append(f)}e(s).append(u)}e(r).append(s);var l=e(r).html()+"<p></p>";this.restoreSelection(),this.execCommand("inserthtml",l),this.modalClose(),this.observeTables()},tableObserver:function(t){this.$table=e(t.target).closest("table"),this.$table_tr=this.$table.find("tr"),this.$table_td=this.$table.find("td"),this.$tbody=e(t.target).closest("tbody"),this.$thead=e(this.$table).find("thead"),this.$current_td=e(t.target),this.$current_tr=e(t.target).closest("tr")},deleteTable:function(){e(this.$table).remove(),this.$table=!1,this.syncCode()},deleteRow:function(){e(this.$current_tr).remove(),this.syncCode()},deleteColumn:function(){var t=e(this.$current_td).get(0).cellIndex;e(this.$table).find("tr").each(function(){e(this).find("td").eq(t).remove()}),this.syncCode()},addHead:function(){if(e(this.$table).find("thead").size()!==0)this.deleteHead();else{var t=e(this.$table).find("tr").first().clone();t.find("td").html("&nbsp;"),this.$thead=e("<thead></thead>"),this.$thead.append(t),e(this.$table).prepend(this.$thead),this.syncCode()}},deleteHead:function(){e(this.$thead).remove(),this.$thead=!1,this.syncCode()},insertRowAbove:function(){this.insertRow("before")},insertRowBelow:function(){this.insertRow("after")},insertColumnLeft:function(){this.insertColumn("before")},insertColumnRight:function(){this.insertColumn("after")},insertRow:function(t){var n=e(this.$current_tr).clone();n.find("td").html("&nbsp;"),t==="after"?e(this.$current_tr).after(n):e(this.$current_tr).before(n),this.syncCode()},insertColumn:function(t){var n=0;this.$current_tr.find("td").each(e.proxy(function(t,r){e(r)[0]===this.$current_td[0]&&(n=t)},this)),this.$table_tr.each(function(r,i){var s=e(i).find("td").eq(n),o=s.clone();o.html("&nbsp;"),t==="after"?e(s).after(o):e(s).before(o)}),this.syncCode()},showVideo:function(){this.saveSelection(),this.modalInit(RLANG.video,this.opts.modal_video,600,e.proxy(function(){e("#redactor_insert_video_btn").click(e.proxy(this.insertVideo,this)),e("#redactor_insert_video_area").focus()},this))},insertVideo:function(){var t=e("#redactor_insert_video_area").val();t=this.stripTags(t),this.restoreSelection(),this.execCommand("inserthtml",t),this.modalClose()},imageEdit:function(t){var n=e(t.target),r=n.parent(),i=e.proxy(function(){e("#redactor_file_alt").val(n.attr("alt")),e("#redactor_image_edit_src").attr("href",n.attr("src")),e("#redactor_form_image_align").val(n.css("float")),e(r).get(0).tagName==="A"&&e("#redactor_file_link").val(e(r).attr("href")),e("#redactor_image_delete_btn").click(e.proxy(function(){this.imageDelete(n)},this)),e("#redactorSaveBtn").click(e.proxy(function(){this.imageSave(n)},this))},this);this.modalInit(RLANG.image,this.opts.modal_image_edit,380,i)},imageDelete:function(t){e(t).remove(),this.modalClose(),this.syncCode()},imageSave:function(t){var n=e(t).parent();e(t).attr("alt",e("#redactor_file_alt").val());var r=e("#redactor_form_image_align").val();r==="left"?e(t).css({"float":"left",margin:"0 10px 10px 0"}):r==="right"?e(t).css({"float":"right",margin:"0 0 10px 10px"}):e(t).css({"float":"none",margin:"0"});var i=e.trim(e("#redactor_file_link").val());i!==""?e(n).get(0).tagName!=="A"?e(t).replaceWith('<a href="'+i+'">'+this.outerHTML(t)+"</a>"):e(n).attr("href",i):e(n).get(0).tagName==="A"&&e(n).replaceWith(this.outerHTML(t)),this.modalClose(),this.observeImages(),this.syncCode()},showImage:function(){this.saveSelection();var t=e.proxy(function(){this.opts.imageGetJson!==!1?e.getJSON(this.opts.imageGetJson,e.proxy(function(t){var n={},r=0;e.each(t,e.proxy(function(e,t){typeof t.folder!="undefined"&&(r++,n[t.folder]=r)},this));var i=!1;e.each(t,e.proxy(function(t,r){var s="";typeof r.title!="undefined"&&(s=r.title);var o=0;!e.isEmptyObject(n)&&typeof r.folder!="undefined"&&(o=n[r.folder],i===!1&&(i=".redactorfolder"+o));var u=e('<img src="'+r.thumb+'" class="redactorfolder redactorfolder'+o+'" rel="'+r.image+'" title="'+s+'" />');e("#redactor_image_box").append(u),e(u).click(e.proxy(this.imageSetThumb,this))},this));if(!e.isEmptyObject(n)){e(".redactorfolder").hide(),e(i).show();var s=function(t){e(".redactorfolder").hide(),e(".redactorfolder"+e(t.target).val()).show()},o=e('<select id="redactor_image_box_select">');e.each(n,function(t,n){o.append(e('<option value="'+n+'">'+t+"</option>"))}),e("#redactor_image_box").before(o),o.change(s)}},this)):e("#redactor_tabs a").eq(1).remove();if(this.opts.imageUpload!==!1)this.opts.uploadCrossDomain===!1&&this.isMobile()===!1&&e("#redactor_file").size()!==0&&e("#redactor_file").dragupload({url:this.opts.imageUpload,uploadFields:this.opts.uploadFields,success:e.proxy(this.imageUploadCallback,this),error:e.proxy(this.opts.imageUploadErrorCallback,this)}),this.uploadInit("redactor_file",{auto:!0,url:this.opts.imageUpload,success:e.proxy(this.imageUploadCallback,this),error:e.proxy(this.opts.imageUploadErrorCallback,this)});else{e(".redactor_tab").hide();if(this.opts.imageGetJson===!1)e("#redactor_tabs").remove(),e("#redactor_tab3").show();else{var t=e("#redactor_tabs a");t.eq(0).remove(),t.eq(1).addClass("redactor_tabs_act"),e("#redactor_tab2").show()}}e("#redactor_upload_btn").click(e.proxy(this.imageUploadCallbackLink,this)),this.opts.imageUpload===!1&&this.opts.imageGetJson===!1&&e("#redactor_file_link").focus()},this);this.modalInit(RLANG.image,this.opts.modal_image,610,t)},imageSetThumb:function(t){this._imageSet('<img src="'+e(t.target).attr("rel")+'" alt="'+e(t.target).attr("title")+'" />',!0)},imageUploadCallbackLink:function(){if(e("#redactor_file_link").val()!==""){var t='<img src="'+e("#redactor_file_link").val()+'" />';this._imageSet(t,!0)}else this.modalClose()},imageUploadCallback:function(e){this._imageSet(e)},_imageSet:function(e,t){this.restoreSelection();if(e!==!1){var n="";t!==!0?n='<p><img src="'+e.filelink+'" /></p>':n=e,this.execCommand("inserthtml",n),t!==!0&&typeof this.opts.imageUploadCallback=="function"&&this.opts.imageUploadCallback(this,e)}this.modalClose(),this.observeImages()},showLink:function(){this.saveSelection();var t=e.proxy(function(){this.insert_link_node=!1;var t=this.getSelection(),n="",r="",i="";if(e.browser.msie){var s=this.getParentNode();s.nodeName==="A"?(this.insert_link_node=e(s),r=this.insert_link_node.text(),n=this.insert_link_node.attr("href"),i=this.insert_link_node.attr("target")):this.oldIE()?r=t.text:r=t.toString()}else t&&t.anchorNode&&t.anchorNode.parentNode.tagName==="A"?(n=t.anchorNode.parentNode.href,r=t.anchorNode.parentNode.text,i=t.anchorNode.parentNode.target,t.toString()===""&&(this.insert_link_node=t.anchorNode.parentNode)):r=t.toString();e(".redactor_link_text").val(r);var o=self.location.href.replace(/\/$/i,""),u=n.replace(o,"");n.search("mailto:")===0?(this.setModalTab(2),e("#redactor_tab_selected").val(2),e("#redactor_link_mailto").val(n.replace("mailto:",""))):u.search(/^#/gi)===0?(this.setModalTab(3),e("#redactor_tab_selected").val(3),e("#redactor_link_anchor").val(u.replace(/^#/gi,""))):e("#redactor_link_url").val(u),i==="_blank"&&e("#redactor_link_blank").attr("checked",!0),e("#redactor_insert_link_btn").click(e.proxy(this.insertLink,this)),e("#redactor_link_url").focus()},this);this.modalInit(RLANG.link,this.opts.modal_link,460,t)},insertLink:function(){var t=e("#redactor_tab_selected").val(),n="",r="",i="";if(t==="1"){n=e("#redactor_link_url").val(),r=e("#redactor_link_url_text").val(),e("#redactor_link_blank").attr("checked")&&(i=' target="_blank"');var s="((xn--)?[a-z0-9]+(-[a-z0-9]+)*.)+[a-z]{2,}",o=new RegExp("^(http|ftp|https)://"+s,"i"),u=new RegExp("^"+s,"i");n.search(o)==-1&&n.search(u)==0&&this.opts.protocol!==!1&&(n=this.opts.protocol+n)}else t==="2"?(n="mailto:"+e("#redactor_link_mailto").val(),r=e("#redactor_link_mailto_text").val()):t==="3"&&(n="#"+e("#redactor_link_anchor").val(),r=e("#redactor_link_anchor_text").val());this._insertLink('<a href="'+n+'"'+i+">"+r+"</a>",e.trim(r),n,i)},_insertLink:function(t,n,r,i){this.$editor.focus(),this.restoreSelection(),n!==""&&(this.insert_link_node?(e(this.insert_link_node).text(n),e(this.insert_link_node).attr("href",r),i!==""?e(this.insert_link_node).attr("target",i):e(this.insert_link_node).removeAttr("target"),this.syncCode()):this.execCommand("inserthtml",t)),this.modalClose()},showFile:function(){this.saveSelection();var t=e.proxy(function(){var t=this.getSelection(),n="";this.oldIE()?n=t.text:n=t.toString(),e("#redactor_filename").val(n),this.opts.uploadCrossDomain===!1&&this.isMobile()===!1&&e("#redactor_file").dragupload({url:this.opts.fileUpload,uploadFields:this.opts.uploadFields,success:e.proxy(this.fileUploadCallback,this),error:e.proxy(this.opts.fileUploadErrorCallback,this)}),this.uploadInit("redactor_file",{auto:!0,url:this.opts.fileUpload,success:e.proxy(this.fileUploadCallback,this),error:e.proxy(this.opts.fileUploadErrorCallback,this)})},this);this.modalInit(RLANG.file,this.opts.modal_file,500,t)},fileUploadCallback:function(t){this.restoreSelection();if(t!==!1){var n=e("#redactor_filename").val();n===""&&(n=t.filename);var r='<a href="'+t.filelink+'">'+n+"</a>";e.browser.webkit&&!!window.chrome&&(r+="&nbsp;"),this.execCommand("inserthtml",r),typeof this.opts.fileUploadCallback=="function"&&this.opts.fileUploadCallback(this,t)}this.modalClose()},modalInit:function(t,n,r,i){e("#redactor_modal_overlay").size()===0&&(this.overlay=e('<div id="redactor_modal_overlay" style="display: none;"></div>'),e("body").prepend(this.overlay)),this.opts.overlay&&(e("#redactor_modal_overlay").show(),e("#redactor_modal_overlay").click(e.proxy(this.modalClose,this))),e("#redactor_modal").size()===0&&(this.modal=e('<div id="redactor_modal" style="display: none;"><div id="redactor_modal_close">&times;</div><div id="redactor_modal_header"></div><div id="redactor_modal_inner"></div></div>'),e("body").append(this.modal)),e("#redactor_modal_close").click(e.proxy(this.modalClose,this)),this.hdlModalClose=e.proxy(function(e){if(e.keyCode===27)return this.modalClose(),!1},this),e(document).keyup(this.hdlModalClose),this.$editor.keyup(this.hdlModalClose),n.indexOf("#")==0?e("#redactor_modal_inner").empty().append(e(n).html()):e("#redactor_modal_inner").empty().append(n),e("#redactor_modal_header").html(t),typeof e.fn.draggable!="undefined"&&(e("#redactor_modal").draggable({handle:"#redactor_modal_header"}),e("#redactor_modal_header").css("cursor","move"));if(e("#redactor_tabs").size()!==0){var s=this;e("#redactor_tabs a").each(function(t,n){t++,e(n).click(function(){e("#redactor_tabs a").removeClass("redactor_tabs_act"),e(this).addClass("redactor_tabs_act"),e(".redactor_tab").hide(),e("#redactor_tab"+t).show(),e("#redactor_tab_selected").val(t);if(s.isMobile()===!1){var n=e("#redactor_modal").outerHeight();e("#redactor_modal").css("margin-top","-"+(n+10)/2+"px")}})})}e("#redactor_modal .redactor_btn_modal_close").click(e.proxy(this.modalClose,this)),this.isMobile()===!1?(e("#redactor_modal").css({position:"fixed",top:"-2000px",left:"50%",width:r+"px",marginLeft:"-"+(r+60)/2+"px"}).show(),this.modalSaveBodyOveflow=e(document.body).css("overflow"),e(document.body).css("overflow","hidden")):e("#redactor_modal").css({position:"fixed",width:"100%",height:"100%",top:"0",left:"0",margin:"0",minHeight:"300px"}).show(),typeof i=="function"&&i(),this.isMobile()===!1&&setTimeout(function(){var t=e("#redactor_modal").outerHeight();e("#redactor_modal").css({top:"50%",height:"auto",minHeight:"auto",marginTop:"-"+(t+10)/2+"px"})},20)},modalClose:function(){return e("#redactor_modal_close").unbind("click",this.modalClose),e("#redactor_modal").fadeOut("fast",e.proxy(function(){e("#redactor_modal_inner").html(""),this.opts.overlay&&(e("#redactor_modal_overlay").hide(),e("#redactor_modal_overlay").unbind("click",this.modalClose)),e(document).unbind("keyup",this.hdlModalClose),this.$editor.unbind("keyup",this.hdlModalClose)},this)),this.isMobile()===!1&&e(document.body).css("overflow",this.modalSaveBodyOveflow?this.modalSaveBodyOveflow:"visible"),!1},setModalTab:function(t){e(".redactor_tab").hide();var n=e("#redactor_tabs a");n.removeClass("redactor_tabs_act"),n.eq(t-1).addClass("redactor_tabs_act"),e("#redactor_tab"+t).show()},uploadInit:function(t,n){this.uploadOptions={url:!1,success:!1,error:!1,start:!1,trigger:!1,auto:!1,input:!1},e.extend(this.uploadOptions,n),e("#"+t).size()!==0&&e("#"+t).get(0).tagName==="INPUT"?(this.uploadOptions.input=e("#"+t),this.element=e(e("#"+t).get(0).form)):this.element=e("#"+t),this.element_action=this.element.attr("action"),this.uploadOptions.auto?e(this.uploadOptions.input).change(e.proxy(function(){this.element.submit(function(e){return!1}),this.uploadSubmit()},this)):this.uploadOptions.trigger&&e("#"+this.uploadOptions.trigger).click(e.proxy(this.uploadSubmit,this))},uploadSubmit:function(){this.uploadForm(this.element,this.uploadFrame())},uploadFrame:function(){this.id="f"+Math.floor(Math.random()*99999);var t=document.createElement("div"),n='<iframe style="display:none" id="'+this.id+'" name="'+this.id+'"></iframe>';return t.innerHTML=n,document.body.appendChild(t),this.uploadOptions.start&&this.uploadOptions.start(),e("#"+this.id).load(e.proxy(this.uploadLoaded,this)),this.id},uploadForm:function(t,n){if(this.uploadOptions.input){var r="redactorUploadForm"+this.id,i="redactorUploadFile"+this.id;this.form=e('<form  action="'+this.uploadOptions.url+'" method="POST" target="'+n+'" name="'+r+'" id="'+r+'" enctype="multipart/form-data"></form>'),this.opts.uploadFields!==!1&&typeof this.opts.uploadFields=="object"&&e.each(this.opts.uploadFields,e.proxy(function(t,n){n.toString().indexOf("#")===0&&(n=e(n).val());var r=e('<input type="hidden" name="'+t+'" value="'+n+'">');e(this.form).append(r)},this));var s=this.uploadOptions.input,o=e(s).clone();e(s).attr("id",i),e(s).before(o),e(s).appendTo(this.form),e(this.form).css("position","absolute"),e(this.form).css("top","-2000px"),e(this.form).css("left","-2000px"),e(this.form).appendTo("body"),this.form.submit()}else t.attr("target",n),t.attr("method","POST"),t.attr("enctype","multipart/form-data"),t.attr("action",this.uploadOptions.url),this.element.submit()},uploadLoaded:function(){var t=e("#"+this.id),n;t.contentDocument?n=t.contentDocument:t.contentWindow?n=t.contentWindow.document:n=window.frames[this.id].document;if(this.uploadOptions.success)if(typeof n!="undefined"){var r=n.body.innerHTML,i=r.match(/\{(.|\n)*\}/)[0],s=e.parseJSON(i);typeof s.error=="undefined"?this.uploadOptions.success(s):(this.uploadOptions.error(this,s),this.modalClose())}else alert("Upload failed!"),this.modalClose();this.element.attr("action",this.element_action),this.element.attr("target","")},oldIE:function(){return e.browser.msie&&parseInt(e.browser.version,10)<9?!0:!1},outerHTML:function(t){return e("<p>").append(e(t).eq(0).clone()).html()},normalize:function(e){return parseInt(e.replace("px",""),10)},isMobile:function(e){return e===!0&&/(iPhone|iPod|iPad|BlackBerry|Android)/.test(navigator.userAgent)?!0:/(iPhone|iPod|BlackBerry|Android)/.test(navigator.userAgent)?!0:!1}},e.fn.getObject=function(){return this.data("redactor")},e.fn.getEditor=function(){return this.data("redactor").$editor},e.fn.getCode=function(){return e.trim(this.data("redactor").getCode())},e.fn.getText=function(){return this.data("redactor").$editor.text()},e.fn.getSelected=function(){return this.data("redactor").getSelectedHtml()},e.fn.setCode=function(e){this.data("redactor").setCode(e)},e.fn.insertHtml=function(e){this.data("redactor").insertHtml(e)},e.fn.destroyEditor=function(){this.each(function(){typeof e(this).data("redactor")!="undefined"&&(e(this).data("redactor").destroy(),e(this).removeData("redactor"))})},e.fn.setFocus=function(){this.data("redactor").$editor.focus()},e.fn.execCommand=function(e,t){this.data("redactor").execCommand(e,t)}})(jQuery),function(e){"use strict";function t(t,n){this.opts=e.extend({url:!1,success:!1,error:!1,preview:!1,uploadFields:!1,text:RLANG.drop_file_here,atext:RLANG.or_choose},n),this.$el=e(t)}e.fn.dragupload=function(e){return this.each(function(){var n=new t(this,e);n.init()})},t.prototype={init:function(){if(!e.browser.msie){this.droparea=e('<div class="redactor_droparea"></div>'),this.dropareabox=e('<div class="redactor_dropareabox">'+this.opts.text+"</div>"),this.dropalternative=e('<div class="redactor_dropalternative">'+this.opts.atext+"</div>"),this.droparea.append(this.dropareabox),this.$el.before(this.droparea),this.$el.before(this.dropalternative),this.dropareabox.bind("dragover",e.proxy(function(){return this.ondrag()},this)),this.dropareabox.bind("dragleave",e.proxy(function(){return this.ondragleave()},this));var t=e.proxy(function(e){var t=parseInt(e.loaded/e.total*100,10);this.dropareabox.text("Loading "+t+"%")},this),n=jQuery.ajaxSettings.xhr();n.upload&&n.upload.addEventListener("progress",t,!1);var r=function(){return n};this.dropareabox.get(0).ondrop=e.proxy(function(t){t.preventDefault(),this.dropareabox.removeClass("hover").addClass("drop");var n=t.dataTransfer.files[0],i=new FormData;this.opts.uploadFields!==!1&&typeof this.opts.uploadFields=="object"&&e.each(this.opts.uploadFields,e.proxy(function(t,n){n.toString().indexOf("#")===0&&(n=e(n).val()),i.append(t,n)},this)),i.append("file",n),e.ajax({url:this.opts.url,dataType:"html",data:i,xhr:r,cache:!1,contentType:!1,processData:!1,type:"POST",success:e.proxy(function(t){var n=e.parseJSON(t);typeof n.error=="undefined"?this.opts.success(n):(this.opts.error(this,n),this.opts.success(!1))},this)})},this)}},ondrag:function(){return this.dropareabox.addClass("hover"),!1},ondragleave:function(){return this.dropareabox.removeClass("hover"),!1}}}(jQuery),function(e){"use strict";var t="http://",n=/(^|&lt;|\s)(www\..+?\..+?)(\s|&gt;|$)/g,r=/(^|&lt;|\s)(((https?|ftp):\/\/|mailto:).+?)(\s|&gt;|$)/g,i=function(){var s=this.childNodes,o=s.length;while(o--){var u=s[o];if(u.nodeType===3){var a=u.nodeValue;a&&(a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(n,'$1<a href="'+t+'$2">$2</a>$3').replace(r,'$1<a href="$2">$2</a>$5'),e(u).after(a).remove())}else u.nodeType===1&&!/^(a|button|textarea)$/i.test(u.tagName)&&i.call(u)}};e.fn.linkify=function(){this.each(i)}}(jQuery),function(e){e.event.special.textselect={setup:function(t,n){e(this).data("textselected",!1),e(this).data("ttt",t),e(this).bind("mouseup",e.event.special.textselect.handler)},teardown:function(t){e(this).unbind("mouseup",e.event.special.textselect.handler)},handler:function(t){var n=e(this).data("ttt"),r=e.event.special.textselect.getSelectedText(n).toString();r!=""&&(e(this).data("textselected",!0),t.type="textselect",t.text=r,e.event.handle.apply(this,arguments))},getSelectedText:function(e){var t="";return window.getSelection?t=window.getSelection():document.getSelection?t=document.getSelection():document.selection&&(t=document.selection.createRange().text),t}},e.event.special.textunselect={setup:function(t,n){e(this).data("rttt",t),e(this).data("textselected",!1),e(this).bind("mouseup",e.event.special.textunselect.handler),e(this).bind("keyup",e.event.special.textunselect.handlerKey)},teardown:function(t){e(this).unbind("mouseup",e.event.special.textunselect.handler)},handler:function(t){if(e(this).data("textselected")){var n=e(this).data("rttt"),r=e.event.special.textselect.getSelectedText(n).toString();r==""&&(e(this).data("textselected",!1),t.type="textunselect",e.event.handle.apply(this,arguments))}},handlerKey:function(t){if(e(this).data("textselected")){var n=e(this).data("rttt"),r=e.event.special.textselect.getSelectedText(n).toString();(t.keyCode=27)&&r==""&&(e(this).data("textselected",!1),t.type="textunselect",e.event.handle.apply(this,arguments))}}}}(jQuery),$(document).bind("dragover",function(e){var t=$("#dropzone");t.addClass("hover"),e.target===t[0]?t.addClass("hover"):t.removeClass("hover")}),$(function(){$("#fileupload").fileupload({dropZone:$("#dropzone")}),$.getJSON($("#fileupload").prop("action"),function(e){var t=$("#fileupload").data("fileupload"),n;t._adjustMaxNumberOfFiles(-e.length),n=t._renderDownload(e).appendTo($("#fileupload .files")),t._reflow=t._transition&&n.length&&n[0].offsetWidth,n.addClass("in"),$("#loading").remove()})}),$(function(){var e=$(".publicity_email_form").attr("id");$(".redactor").redactor({imageUpload:"/events/"+e+"/uploadFromRedactor"+"?"+$("meta[name=csrf-param]").attr("content")+"="+encodeURIComponent($("meta[name=csrf-token]").attr("content")),imageGetJson:"/events/"+e+"/images.json",imageUploadErrorCallback:callback})}),$(function(){$(".checked, .unchecked").on("click",function(){$(this).attr("type")==="checklist"&&$.ajax({type:"POST",url:"/checklist_items/"+$(this).attr("id")+"/toggle_checked",success:$.proxy(function(){$(this).toggleClass("foundicon-checkmark foundicon-remove").toggleClass("checked unchecked"),$(this).next().toggleClass("strikethrough bold")},this)})}),$(".new-checklist-item").keypress(function(e){if(e.which==13&&$(this).val()!=""){var t=$(this).attr("id"),n=$(this).val();e.preventDefault(),$.ajax({type:"POST",url:"/checklist_items",data:"text="+n+"&event_id="+t,success:$.proxy(function(e){$(this).val("");var r='<div id="checklist-item-'+e.id+'" style="padding-left:10px;">',i='<i class="general foundicon-remove unchecked" id="'+e.id+'" type = "checklist"></i>',s='<span class="bold"><span class="editableitem" id="'+e.id+'">&nbsp;'+n+"</span></span>",o='<span class="right-align"><a href="#" class="delete-checklist-item" id="'+e.id+'" data-confirm="Are you sure you want to delete this checklist item?">Delete</a></span>',u="<br></div>";$(r+i+s+o+u).hide().appendTo("#existing-checklist-items-"+t).fadeIn(800),$(".editableitem").editable("/checklist_items/edit_text")},this)})}}),$(".delete-checklist-item").on("click",function(){var e=$(this).attr("id");return $.ajax({type:"DELETE",url:"/checklist_items/"+e,success:$.proxy(function(){$("#checklist-item-"+e).fadeOut(300,function(){$(this).remove()})},this)}),!1}),$("div[id|='checklist-item']").on({mouseenter:function(){$("a.delete-checklist-item",this).show(),$(this).css("background","#e0e0e0")},mouseleave:function(){$("a.delete-checklist-item",this).hide(),$(this).css("background","transparent")}}),$(".editableitem").length!=0&&$(".editableitem").editable("/checklist_items/edit_text"),$(".new-tag").keypress(function(e){if(e.which==13){var t=$(this).val();e.preventDefault(),$.ajax({type:"POST",url:"/tags",data:"name="+t,success:$.proxy(function(e){$(this).val("");var n='<div id="tag-'+e.id+'"" style="padding:5px;">',r='<i class="general foundicon-star"></i>',i='<span class="bold">&nbsp;'+t+"</span>",s='<span class="right-align"><a href="#" class="delete-tag" id="'+e.id+'" data-confirm="Are you sure you want to delete this tag?">Delete</a></span>',o="<br></div>";$(n+r+i+s+o).hide().appendTo("#existing-tags").fadeIn(800)},this)})}}),$(".delete-tag").on("click",function(){var e=$(this).attr("id");return $.ajax({type:"DELETE",url:"/tags/"+e,success:$.proxy(function(){$("#tag-"+e).fadeOut(300,function(){$(this).remove()})},this)}),!1}),$("div[id|='tag']").on({mouseenter:function(){$("a.delete-tag",this).show(),$(this).css("background","#e0e0e0")},mouseleave:function(){$("a.delete-tag",this).hide(),$(this).css("background","transparent")}})}),function(e,t){function o(t){e.extend(!0,n,t)}function u(n,r,i){function C(e){d?(q(),F(),G(),B(e)):k()}function k(){v=r.theme?"ui":"fc",n.addClass("fc"),r.isRTL&&n.addClass("fc-rtl"),r.theme&&n.addClass("ui-widget"),d=e("<div class='fc-content "+v+"-widget-content' style='position:relative'/>").prependTo(n),h=new a(o,r),p=h.render(),p&&n.prepend(p),_(r.defaultView),e(window).resize(U),M()||L()}function L(){setTimeout(function(){!m.start&&M()&&B()},0)}function A(){e(window).unbind("resize",U),h.destroy(),d.remove(),n.removeClass("fc fc-rtl fc-ui-widget")}function O(){return c.offsetWidth!==0}function M(){return e("body")[0].offsetWidth!==0}function _(t){if(!m||t!=m.name){S++,Z();var n=m,r;n?((n.beforeHide||ht)(),ft(d,d.height()),n.element.hide()):ft(d,1),d.css("overflow","hidden"),m=g[t],m?m.element.show():m=g[t]=new s[t](r=w=e("<div class='fc-view fc-view-"+t+"' style='position:absolute'/>").appendTo(d),o),n&&h.deactivateButton(n.name),h.activateButton(t),B(),d.css("overflow",""),n&&ft(d,1),r||(m.afterShow||ht)(),S--}}function B(e){if(O()){S++,Z(),b===t&&q();var r=!1;!m.start||e||x<m.start||x>=m.end?(m.render(x,e||0),R(!0),r=!0):m.sizeDirty?(m.clearEvents(),R(),r=!0):m.eventsDirty&&(m.clearEvents(),r=!0),m.sizeDirty=!1,m.eventsDirty=!1,W(r),y=n.outerWidth(),h.updateTitle(m.title);var i=new Date;i>=m.start&&i<m.end?h.disableButton("today"):h.enableButton("today"),S--,m.trigger("viewDisplay",c)}}function j(){F(),O()&&(q(),R(),Z(),m.clearEvents(),m.renderEvents(T),m.sizeDirty=!1)}function F(){e.each(g,function(e,t){t.sizeDirty=!0})}function q(){r.contentHeight?b=r.contentHeight:r.height?b=r.height-(p?p.height():0)-ut(d[0]):b=Math.round(d.width()/Math.max(r.aspectRatio,.5))}function R(e){S++,m.setHeight(b,e),w&&(w.css("position","relative"),w=null),m.setWidth(d.width(),e),S--}function U(){if(!S)if(m.start){var e=++E;setTimeout(function(){e==E&&!S&&O()&&y!=(y=n.outerWidth())&&(S++,j(),m.trigger("windowResize",c),S--)},200)}else L()}function W(e){!r.lazyFetching||u(m.visStart,m.visEnd)?X():e&&Q()}function X(){f(m.visStart,m.visEnd)}function V(e){T=e,Q()}function K(e){Q(e)}function Q
(e){G(),O()&&(m.clearEvents(),m.renderEvents(T,e),m.eventsDirty=!1)}function G(){e.each(g,function(e,t){t.eventsDirty=!0})}function Y(e,n,r){m.select(e,n,r===t?!0:r)}function Z(){m&&m.unselect()}function et(){B(-1)}function tt(){B(1)}function nt(){D(x,-1),B()}function rt(){D(x,1),B()}function it(){x=new Date,B()}function st(e,t,n){e instanceof Date?x=I(e):z(x,e,t,n),B()}function ot(e,n,r){e!==t&&D(x,e),n!==t&&P(x,n),r!==t&&H(x,r),B()}function at(){return I(x)}function lt(){return m}function ct(e,n){if(n===t)return r[e];if(e=="height"||e=="contentHeight"||e=="aspectRatio")r[e]=n,j()}function pt(e,t){if(r[e])return r[e].apply(t||c,Array.prototype.slice.call(arguments,2))}var o=this;o.options=r,o.render=C,o.destroy=A,o.refetchEvents=X,o.reportEvents=V,o.reportEventChange=K,o.changeView=_,o.select=Y,o.unselect=Z,o.prev=et,o.next=tt,o.prevYear=nt,o.nextYear=rt,o.today=it,o.gotoDate=st,o.incrementDate=ot,o.formatDate=function(e,t){return $(e,t,r)},o.formatDates=function(e,t,n){return J(e,t,n,r)},o.getDate=at,o.getView=lt,o.option=ct,o.trigger=pt,l.call(o,r,i);var u=o.isFetchNeeded,f=o.fetchEvents,c=n[0],h,p,d,v,m,g={},y,b,w,E=0,S=0,x=new Date,T=[],N;z(x,r.year,r.month,r.date),r.droppable&&e(document).bind("dragstart",function(t,n){var i=t.target,s=e(i);if(!s.parents(".fc").length){var o=r.dropAccept;if(e.isFunction(o)?o.call(i,s):s.is(o))N=i,m.dragStart(N,t,n)}}).bind("dragstop",function(e,t){N&&(m.dragStop(N,e,t),N=null)})}function a(t,n){function u(){o=n.theme?"ui":"fc";var t=n.header;if(t)return i=e("<table class='fc-header'/>").append(e("<tr/>").append(e("<td class='fc-header-left'/>").append(f(t.left))).append(e("<td class='fc-header-center'/>").append(f(t.center))).append(e("<td class='fc-header-right'/>").append(f(t.right)))),i}function a(){i.remove()}function f(r){if(r){var i=e("<tr/>");return e.each(r.split(" "),function(r){r>0&&i.append("<td><span class='fc-header-space'/></td>");var u;e.each(this.split(","),function(r,a){if(a=="title")i.append("<td><h2 class='fc-header-title'>&nbsp;</h2></td>"),u&&u.addClass(o+"-corner-right"),u=null;else{var f;t[a]?f=t[a]:s[a]&&(f=function(){l.removeClass(o+"-state-hover"),t.changeView(a)});if(f){u&&u.addClass(o+"-no-right");var l,c=n.theme?mt(n.buttonIcons,a):null,h=mt(n.buttonText,a);c?l=e("<div class='fc-button-"+a+" ui-state-default'>"+"<a><span class='ui-icon ui-icon-"+c+"'/></a></div>"):h&&(l=e("<div class='fc-button-"+a+" "+o+"-state-default'>"+"<a><span>"+h+"</span></a></div>")),l&&(l.click(function(){l.hasClass(o+"-state-disabled")||f()}).mousedown(function(){l.not("."+o+"-state-active").not("."+o+"-state-disabled").addClass(o+"-state-down")}).mouseup(function(){l.removeClass(o+"-state-down")}).hover(function(){l.not("."+o+"-state-active").not("."+o+"-state-disabled").addClass(o+"-state-hover")},function(){l.removeClass(o+"-state-hover").removeClass(o+"-state-down")}).appendTo(e("<td/>").appendTo(i)),u?u.addClass(o+"-no-right"):l.addClass(o+"-corner-left"),u=l)}}}),u&&u.addClass(o+"-corner-right")}),e("<table/>").append(i)}}function l(e){i.find("h2.fc-header-title").html(e)}function c(e){i.find("div.fc-button-"+e).addClass(o+"-state-active")}function h(e){i.find("div.fc-button-"+e).removeClass(o+"-state-active")}function p(e){i.find("div.fc-button-"+e).addClass(o+"-state-disabled")}function d(e){i.find("div.fc-button-"+e).removeClass(o+"-state-disabled")}var r=this;r.render=u,r.destroy=a,r.updateTitle=l,r.activateButton=c,r.deactivateButton=h,r.disableButton=p,r.enableButton=d;var i=e([]),o}function l(n,r){function m(e,t){return!a||e<a||t>l}function g(e,t){a=e,l=t,v=[];var n=++c,i=r.length;h=i;for(var s=0;s<i;s++)y(r[s],n)}function y(e,t){b(e,function(n){if(t==c){for(var r=0;r<n.length;r++)L(n[r]),n[r].source=e;v=v.concat(n),h--,h||u(v)}})}function b(t,r){if(typeof t=="string"){var i={};i[n.startParam]=Math.round(a.getTime()/1e3),i[n.endParam]=Math.round(l.getTime()/1e3),n.cacheParam&&(i[n.cacheParam]=(new Date).getTime()),C(),e.ajax({url:t,dataType:"json",data:i,cache:n.cacheParam||!1,success:function(e){k(),r(e)}})}else e.isFunction(t)?(C(),t(I(a),I(l),function(e){k(),r(e)})):r(t)}function w(e){r.push(e),h++,y(e,c)}function E(t){r=e.grep(r,function(e){return e!=t}),v=e.grep(v,function(e){return e.source!=t}),u(v)}function S(e){var t,n=v.length,r,i=o().defaultEventEnd,s=e.start-e._start,a=e.end?e.end-(e._end||i(e)):0;for(t=0;t<n;t++)r=v[t],r._id==e._id&&r!=e&&(r.start=new Date(+r.start+s),e.end?r.end?r.end=new Date(+r.end+a):r.end=new Date(+i(r)+a):r.end=null,r.title=e.title,r.url=e.url,r.allDay=e.allDay,r.className=e.className,r.editable=e.editable,L(r));L(e),u(v)}function x(e,t){L(e),e.source||(t&&(d.push(e),e.source=d),v.push(e)),u(v)}function T(t){if(!t){v=[];for(var n=0;n<r.length;n++)typeof r[n]=="object"&&(r[n]=[])}else{if(!e.isFunction(t)){var i=t+"";t=function(e){return e._id==i}}v=e.grep(v,t,!0);for(var n=0;n<r.length;n++)typeof r[n]=="object"&&(r[n]=e.grep(r[n],t,!0))}u(v)}function N(t){return e.isFunction(t)?e.grep(v,t):t?(t+="",e.grep(v,function(e){return e._id==t})):v}function C(){p++||s("loading",null,!0)}function k(){--p||s("loading",null,!1)}function L(e){e._id=e._id||(e.id===t?"_fc"+f++:e.id+""),e.date&&(e.start||(e.start=e.date),delete e.date),e._start=I(e.start=W(e.start,n.ignoreTimezone)),e.end=W(e.end,n.ignoreTimezone),e.end&&e.end<=e.start&&(e.end=null),e._end=e.end?I(e.end):null,e.allDay===t&&(e.allDay=n.allDayDefault),e.className?typeof e.className=="string"&&(e.className=e.className.split(/\s+/)):e.className=[]}var i=this;i.isFetchNeeded=m,i.fetchEvents=g,i.addEventSource=w,i.removeEventSource=E,i.updateEvent=S,i.renderEvent=x,i.removeEvents=T,i.clientEvents=N,i.normalizeEvent=L;var s=i.trigger,o=i.getView,u=i.reportEvents,a,l,c=0,h=0,p=0,d=[],v=[];r.push(d)}function c(e,t){function o(e,t){t&&(P(e,t),e.setDate(1));var o=I(e,!0);o.setDate(1);var u=P(I(o),1),a=I(o),f=I(u),l=r("firstDay"),c=r("weekends")?0:1;c&&(R(a),R(f,-1,!0)),H(a,-((a.getDay()-Math.max(l,c)+7)%7)),H(f,(7-f.getDay()+Math.max(l,c))%7);var h=Math.round((f-a)/(O*7));r("weekMode")=="fixed"&&(H(f,(6-h)*7),h=6),n.title=s(o,r("titleFormat")),n.start=o,n.end=u,n.visStart=a,n.visEnd=f,i(h,c?5:7,!0)}var n=this;n.render=o,v.call(n,e,t,"month");var r=n.opt,i=n.renderBasic,s=t.formatDate}function h(e,t){function o(e,t){t&&H(e,t*7);var o=H(I(e),-((e.getDay()-r("firstDay")+7)%7)),u=H(I(o),7),a=I(o),f=I(u),l=r("weekends");l||(R(a),R(f,-1,!0)),n.title=s(a,H(I(f),-1),r("titleFormat")),n.start=o,n.end=u,n.visStart=a,n.visEnd=f,i(1,l?7:5,!1)}var n=this;n.render=o,v.call(n,e,t,"basicWeek");var r=n.opt,i=n.renderBasic,s=t.formatDates}function p(e,t){function o(e,t){t&&(H(e,t),r("weekends")||R(e,t<0?-1:1)),n.title=s(e,r("titleFormat")),n.start=n.visStart=I(e,!0),n.end=n.visEnd=H(I(n.start),1),i(1,1,!1)}var n=this;n.render=o,v.call(n,e,t,"basicDay");var r=n.opt,i=n.renderBasic,s=t.formatDate}function v(n,r,i){function z(t,r,i){w=t,E=r,p=o("isRTL"),p?(v=-1,g=E-1):(v=1,g=0),y=o("firstDay"),b=o("weekends")?0:1;var u=o("theme")?"ui":"fc",f=o("columnFormat"),l=s.start.getMonth(),c=F(new Date),d,m,S,x=I(s.visStart);if(!D){var T=e("<table/>").appendTo(n);d="<thead><tr>";for(m=0;m<E;m++)d+="<th class='fc-"+A[x.getDay()]+" "+u+"-state-default"+(m==g?" fc-leftmost":"")+"'>"+h(x,f)+"</th>",H(x,1),b&&R(x);_=e(d+"</tr></thead>").appendTo(T),d="<tbody>",x=I(s.visStart);for(m=0;m<w;m++){d+="<tr class='fc-week"+m+"'>";for(S=0;S<E;S++)d+="<td class='fc-"+A[x.getDay()]+" "+u+"-state-default fc-day"+(m*E+S)+(S==g?" fc-leftmost":"")+(w>1&&x.getMonth()!=l?" fc-other-month":"")+(+x==+c?" fc-today "+u+"-state-highlight":" fc-not-today")+"'>"+(i?"<div class='fc-day-number'>"+x.getDate()+"</div>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></td>",H(x,1),b&&R(x);d+="</tr>"}D=e(d+"</tbody>").appendTo(T),V(D.find("td")),P=e("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(n)}else{a();var N=D.find("tr").length;if(w<N)D.find("tr:gt("+(w-1)+")").remove();else if(w>N){d="";for(m=N;m<w;m++){d+="<tr class='fc-week"+m+"'>";for(S=0;S<E;S++)d+="<td class='fc-"+A[x.getDay()]+" "+u+"-state-default fc-new fc-day"+(m*E+S)+(S==g?" fc-leftmost":"")+"'>"+(i?"<div class='fc-day-number'></div>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div>"+"</td>",H(x,1),b&&R(x);d+="</tr>"}D.append(d)}V(D.find("td.fc-new").removeClass("fc-new")),x=I(s.visStart),D.find("td").each(function(){var t=e(this);w>1&&(x.getMonth()==l?t.removeClass("fc-other-month"):t.addClass("fc-other-month")),+x==+c?t.removeClass("fc-not-today").addClass("fc-today").addClass(u+"-state-highlight"):t.addClass("fc-not-today").removeClass("fc-today").removeClass(u+"-state-highlight"),t.find("div.fc-day-number").text(x.getDate()),H(x,1),b&&R(x)}),w==1&&(x=I(s.visStart),_.find("th").each(function(t,n){e(n).text(h(x,f)),n.className=n.className.replace(/^fc-\w+(?= )/,"fc-"+A[x.getDay()]),H(x,1),b&&R(x)}),x=I(s.visStart),D.find("td").each(function(e,t){t.className=t.className.replace(/^fc-\w+(?= )/,"fc-"+A[x.getDay()]),H(x,1),b&&R(x)}))}}function W(e){M=e;var n=D.find("tr td:first-child"),r=M-_.height(),i,s;o("weekMode")=="variable"?i=s=Math.floor(r/(w==1?2:6)):(i=Math.floor(r/w),s=r-i*(w-1));if(d===t){var u=D.find("tr:first"),a=u.find("td:first");a.height(i),d=i!=a.height()}d?(n.slice(0,-1).height(i),n.slice(-1).height(s)):(it(n.slice(0,-1),i),it(n.slice(-1),s))}function X(e){O=e,q.clear(),x=Math.floor(O/E),rt(_.find("th").slice(0,-1),x)}function V(e){e.click($).mousedown(c)}function $(e){if(!o("selectable")){var t=parseInt(this.className.match(/fc\-day(\d+)/)[1]),n=H(I(s.visStart),Math.floor(t/E)*7+t%E);u("dayClick",this,n,!0,e)}}function J(e,t,n){n&&B.build();var r=I(s.visStart),i=H(I(r),E);for(var o=0;o<w;o++){var u=new Date(Math.max(r,e)),a=new Date(Math.min(i,t));if(u<a){var f,l;p?(f=U(a,r)*v+g+1,l=U(u,r)*v+g+1):(f=U(u,r),l=U(a,r)),V(K(o,f,o,l-1))}H(r,7),H(i,7)}}function K(e,t,r,i){var s=B.rect(e,t,r,i,n);return f(s,n)}function Q(e,t){return I(e)}function G(e,t,n){J(e,H(I(t),1),!0)}function Y(){l()}function Z(e,t,n){j.start(function(e){l(),e&&K(e.row,e.col,e.row,e.col)},t)}function et(e,t,n){var r=j.stop();l();if(r){var i=at(r);u("drop",e,i,!0,t,n)}}function tt(e){return I(e.start)}function nt(e){return q.left(e)}function st(e){return q.right(e)}function ot(e){return(e-Math.max(y,b)+E)%E}function ut(e){return{row:Math.floor(U(e,s.visStart)/7),col:ot(e.getDay())*v+g}}function at(e){return H(I(s.visStart),e.row*7+e.col*v+g)}function ft(e){return D.find("tr:eq("+e+")")}function lt(e){return{left:0,right:O}}var s=this;s.renderBasic=z,s.setHeight=W,s.setWidth=X,s.renderDayOverlay=J,s.defaultSelectionEnd=Q,s.renderSelection=G,s.clearSelection=Y,s.dragStart=Z,s.dragStop=et,s.defaultEventEnd=tt,s.getHoverListener=function(){return j},s.colContentLeft=nt,s.colContentRight=st,s.dayOfWeekCol=ot,s.dateCell=ut,s.cellDate=at,s.cellIsAllDay=function(){return!0},s.allDayTR=ft,s.allDayBounds=lt,s.getRowCnt=function(){return w},s.getColCnt=function(){return E},s.getColWidth=function(){return x},s.getDaySegmentContainer=function(){return P},S.call(s,n,r,i),N.call(s),T.call(s),m.call(s);var o=s.opt,u=s.trigger,a=s.clearEvents,f=s.renderOverlay,l=s.clearOverlays,c=s.daySelectionMousedown,h=r.formatDate,p,v,g,y,b,w,E,x,O,M,_,D,P,B,j,q;bt(n.addClass("fc-grid")),B=new C(function(t,n){var r,i,s,o=D.find("tr:first td");p&&(o=e(o.get().reverse())),o.each(function(t,o){r=e(o),i=r.offset().left,t&&(s[1]=i),s=[i],n[t]=s}),s[1]=i+r.outerWidth(),D.find("tr").each(function(n,o){r=e(o),i=r.offset().top,n&&(s[1]=i),s=[i],t[n]=s}),s[1]=i+r.outerHeight()}),j=new k(B),q=new L(function(e){return D.find("td:eq("+e+") div div")})}function m(){function b(e,t){s(e),g(E(e),t)}function w(){o(),c().empty()}function E(t){var r=v(),i=m(),s=I(n.visStart),o=H(I(s),i),u=e.map(t,Q),a,f,l,c,h,p,d=[];for(a=0;a<r;a++){f=tt(et(t,u,s,o));for(l=0;l<f.length;l++){c=f[l];for(h=0;h<c.length;h++)p=c[h],p.row=a,p.level=l,d.push(p)}H(s,7),H(o,7)}return d}function S(e,n,i){u(e,n);if(e.editable||e.editable===t&&r("editable"))T(e,n),i.isEnd&&y(e,n,i)}function T(t,n){if(!r("disableDragging")&&n.draggable){var s=h(),o;n.draggable({zIndex:9,delay:50,opacity:r("dragOpacity"),revertDuration:r("dragRevertDuration"),start:function(e,u){i("eventDragStart",n,t,e,u),f(t,n),s.start(function(e,i,s,u){n.draggable("option","revert",!e||!s&&!u),d(),e?(o=s*7+u*(r("isRTL")?-1:1),p(H(I(t.start),o),H(Q(t),o))):o=0},e,"drag")},stop:function(r,u){s.stop(),d(),i("eventDragStop",n,t,r,u),o?(n.find("a").removeAttr("href"),l(this,t,o,0,t.allDay,r,u)):(e.browser.msie&&n.css("filter",""),a(t,n))}})}}var n=this;n.renderEvents=b,n.compileDaySegs=E,n.clearEvents=w,n.bindDaySeg=S,x.call(n);var r=n.opt,i=n.trigger,s=n.reportEvents,o=n.reportEventClear,u=n.eventElementHandlers,a=n.showEvents,f=n.hideEvents,l=n.eventDrop,c=n.getDaySegmentContainer,h=n.getHoverListener,p=n.renderDayOverlay,d=n.clearOverlays,v=n.getRowCnt,m=n.getColCnt,g=n.renderDaySegs,y=n.resizableDayEvent}function g(e,t){function o(e,t){t&&H(e,t*7);var o=H(I(e),-((e.getDay()-r("firstDay")+7)%7)),u=H(I(o),7),a=I(o),f=I(u),l=r("weekends");l||(R(a),R(f,-1,!0)),n.title=s(a,H(I(f),-1),r("titleFormat")),n.start=o,n.end=u,n.visStart=a,n.visEnd=f,i(l?7:5)}var n=this;n.render=o,b.call(n,e,t,"agendaWeek");var r=n.opt,i=n.renderAgenda,s=t.formatDates}function y(e,t){function o(e,t){t&&(H(e,t),r("weekends")||R(e,t<0?-1:1));var o=I(e,!0),u=H(I(o),1);n.title=s(e,r("titleFormat")),n.start=n.visStart=o,n.end=n.visEnd=u,i(1)}var n=this;n.render=o,b.call(n,e,t,"agendaDay");var r=n.opt,i=n.renderAgenda,s=t.formatDate}function b(n,r,i){function at(t){x=t,W=o("theme")?"ui":"fc",$=o("weekends")?0:1,X=o("firstDay"),(J=o("isRTL"))?(K=-1,Q=x-1):(K=1,Q=0),G=V(o("minTime")),Y=V(o("maxTime"));var r=J?H(I(s.visEnd),-1):I(s.visStart),i=I(r),u=F(new Date),f=o("columnFormat");if(!m){var l,c,h=o("slotMinutes")%15==0,p="<div class='fc-agenda-head' style='position:relative;z-index:4'><table style='width:100%'><tr class='fc-first"+(o("allDaySlot")?"":" fc-last")+"'>"+"<th class='fc-leftmost "+W+"-state-default'>&nbsp;</th>";for(l=0;l<x;l++)p+="<th class='fc-"+A[i.getDay()]+" "+W+"-state-default"+"'>"+v(i,f)+"</th>",H(i,K),$&&R(i,K);p+="<th class='"+W+"-state-default'>&nbsp;</th></tr>",o("allDaySlot")&&(p+="<tr class='fc-all-day'><th class='fc-axis fc-leftmost "+W+"-state-default'>"+o("allDayText")+"</th>"+"<td colspan='"+x+"' class='"+W+"-state-default'>"+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></td>"+"<th class='"+W+"-state-default'>&nbsp;</th>"+"</tr><tr class='fc-divider fc-last'><th colspan='"+(x+2)+"' class='"+W+"-state-default fc-leftmost'><div/></th></tr>"),p+="</table></div>",m=e(p).appendTo(n),vt(m.find("td")),ot=e("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(m),i=q();var d=j(I(i),Y);j(i,G),p="<table>";for(l=0;i<d;l++)c=i.getMinutes(),p+="<tr class='"+(l?c?"fc-minor":"":"fc-first")+"'><th class='fc-axis fc-leftmost "+W+"-state-default'>"+(!h||!c?v(i,o("axisFormat")):"&nbsp;")+"</th><td class='fc-slot"+l+" "+W+"-state-default'><div style='position:relative'>&nbsp;</div></td></tr>",j(i,o("slotMinutes")),O++;p+="</table>",g=e("<div class='fc-agenda-body' style='position:relative;z-index:2;overflow:auto'/>").append(y=e("<div style='position:relative;overflow:hidden'>").append(b=e(p))).appendTo(n),mt(g.find("td")),ut=e("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(y),i=I(r),p="<div class='fc-agenda-bg' style='position:absolute;z-index:1'><table style='width:100%;height:100%'><tr class='fc-first'>";for(l=0;l<x;l++)p+="<td class='fc-"+A[i.getDay()]+" "+W+"-state-default "+(l?"":"fc-leftmost ")+(+i==+u?W+"-state-highlight fc-today":"fc-not-today")+"'><div class='fc-day-content'><div>&nbsp;</div></div></td>",H(i,K),$&&R(i,K);p+="</tr></table></div>",E=e(p).appendTo(n)}else a(),m.find("tr:first th").slice(1,-1).each(function(t,n){e(n).text(v(i,f)),n.className=n.className.replace(/^fc-\w+(?= )/,"fc-"+A[i.getDay()]),H(i,K),$&&R(i,K)}),i=I(r),E.find("td").each(function(t,n){n.className=n.className.replace(/^fc-\w+(?= )/,"fc-"+A[i.getDay()]),+i==+u?e(n).removeClass("fc-not-today").addClass("fc-today").addClass(W+"-state-highlight"):e(n).addClass("fc-not-today").removeClass("fc-today").removeClass(W+"-state-highlight"),H(i,K),$&&R(i,K)})}function ft(e,n){e===t&&(e=B),B=e,nt={};var r=e-m.height();r=Math.min(r,b.height()),g.height(r),D=g.find("tr:first div").height()+1,n&&ct()}function lt(t){P=t,tt.clear(),g.width(t).css("overflow","auto"),b.width("");var n=m.find("tr:first th"),r=m.find("tr.fc-all-day th:last"),i=E.find("td"),s=g[0].clientWidth;b.width(s),s=g[0].clientWidth,b.width(s),M=0,rt(m.find("tr:lt(2) th:first").add(g.find("tr:first th")).width(1).each(function(){M=Math.max(M,e(this).outerWidth())}),M),_=Math.floor((s-M)/x),rt(i.slice(0,-1),_),rt(n.slice(1,-2),_),t!=s?(rt(n.slice(-2,-1),s-M-_*(x-1)),n.slice(-1).show(),r.show()):(g.css("overflow","hidden"),n.slice(-2,-1).width(""),n.slice(-1).hide(),r.hide()),E.css({top:m.find("tr").height(),left:M,width:s-M,height:B})}function ct(){var e=q(),t=I(e);t.setHours(o("firstHour"));var n=Ct(e,t)+1,r=function(){g.scrollTop(n)};r(),setTimeout(r,0)}function ht(){z=g.scrollTop()}function dt(){g.scrollTop(z)}function vt(e){e.click(gt).mousedown(p)}function mt(e){e.click(gt).mousedown(Bt)}function gt(e){if(!o("selectable")){var t=Math.min(x-1,Math.floor((e.pageX-E.offset().left)/_)),n=H(I(s.visStart),t*K+Q),r=this.className.match(/fc-slot(\d+)/);if(r){var i=parseInt(r[1])*o("slotMinutes"),a=Math.floor(i/60);n.setHours(a),n.setMinutes(i%60+G),u("dayClick",this,n,!1,e)}else u("dayClick",this,n,!0,e)}}function yt(e,t,n){n&&Z.build();var r=I(s.visStart),i,o;J?(i=U(t,r)*K+Q+1,o=U(e,r)*K+Q+1):(i=U(e,r),o=U(t,r)),i=Math.max(0,i),o=Math.min(x,o),i<o&&vt(wt(0,i,0,o-1))}function wt(e,t,n,r){var i=Z.rect(e,t,n,r,m);return f(i,m)}function Et(e,t){var n=I(s.visStart),r=H(I(n),1);for(var i=0;i<x;i++){var o=new Date(Math.max(n,e)),u=new Date(Math.min(r,t));if(o<u){var a=i*K+Q,l=Z.rect(0,a,0,a,y),c=Ct(n,o),h=Ct(n,u);l.top=c,l.height=h-c,mt(f(l,y))}H(n,1),H(r,1)}}function St(e){return M+tt.left(e)}function xt(e){return M+tt.right(e)}function Tt(e){return(e-Math.max(X,$)+x)%x*K+Q}function Nt(e){return{row:Math.floor(U(e,s.visStart)/7),col:Tt(e.getDay())}}function Ct(e,n){e=I(e,!0);if(n<j(I(e),G))return 0;if(n>=j(I(e),Y))return y.height();var r=o("slotMinutes"),i=n.getHours()*60+n.getMinutes()-G,s=Math.floor(i/r),u=nt[s];return u===t&&(u=nt[s]=g.find("tr:eq("+s+") td div")[0].offsetTop),Math.max(0,Math.round(u-1+D*(i%r/r)))}function kt(e){var t=H(I(s.visStart),e.col*K+Q),n=e.row;return o("allDaySlot")&&n--,n>=0&&j(t,G+n*o("slotMinutes")),t}function Lt(e){return o("allDaySlot")&&!e.row}function At(){return{left:M,right:P}}function Ot(e){return m.find("tr.fc-all-day")}function Mt(e){var t=I(e.start);return e.allDay?t:j(t,o("defaultEventMinutes"))}function _t(e,t){return t?I(e):j(I(e),o("slotMinutes"))}function Dt(e,t,n){n?o("allDaySlot")&&yt(e,H(I(t),1),!0):Pt(e,t)}function Pt(t,n){var r=o("selectHelper");Z.build();if(r){var i=U(t,s.visStart)*K+Q;if(i>=0&&i<x){var u=Z.rect(0,i,0,i,y),a=Ct(t,t),f=Ct(t,n);if(f>a){u.top=a,u.height=f-a,u.left+=2,u.width-=5;if(e.isFunction(r)){var l=r(t,n);l&&(u.position="absolute",u.zIndex=8,st=e(l).css(u).appendTo(y))}else st=e(d({title:"",start:t,end:n,className:[],editable:!1},u,"fc-event fc-event-vert fc-corner-top fc-corner-bottom ")),e.browser.msie&&st.find("span.fc-event-bg").hide(),st.css("opacity",o("dragOpacity"));st&&(mt(st),y.append(st),rt(st,u.width,!0),it(st,u.height,!0))}}}else Et(t,n)}function Ht(){l(),st&&(st.remove(),st=null)}function Bt(t){if(t.which==1&&o("selectable")){h(t);var n=this,r;et.start(function(e,t){Ht();if(e&&e.col==t.col&&!Lt(e)){var n=kt(t),i=kt(e);r=[n,j(I(n),o("slotMinutes")),i,j(I(i),o("slotMinutes"))].sort(pt),Pt(r[0],r[3])}else r=null},t),e(document).one("mouseup",function(e){et.stop(),r&&(+r[0]==+r[1]&&u("dayClick",n,r[0],!1,e),c(r[0],r[3],!1,e))})}}function jt(e,t,n){et.start(function(e){l();if(e)if(Lt(e))wt(e.row,e.col,e.row,e.col);else{var t=kt(e),n=j(I(t),o("defaultEventMinutes"));Et(t,n)}},t)}function Ft(e,t,n){var r=et.stop();l(),r&&u("drop",e,kt(r),Lt(r),t,n)}var s=this;s.renderAgenda=at,s.setWidth=lt,s.setHeight=ft,s.beforeHide=ht,s.afterShow=dt,s.defaultEventEnd=Mt,s.timePosition=Ct,s.dayOfWeekCol=Tt,s.dateCell=Nt,s.cellDate=kt,s.cellIsAllDay=Lt,s.allDayTR=Ot,s.allDayBounds=At,s.getHoverListener=function(){return et},s.colContentLeft=St,s.colContentRight=xt,s.getDaySegmentContainer=function(){return ot},s.getSlotSegmentContainer=function(){return ut},s.getMinMinute=function(){return G},s.getMaxMinute=function(){return Y},s.getBodyContent=function(){return y},s.getRowCnt=function(){return 1},s.getColCnt=function(){return x},s.getColWidth=function(){return _},s.getSlotHeight=function(){return D},s.defaultSelectionEnd=_t,s.renderDayOverlay=yt,s.renderSelection=Dt,s.clearSelection=Ht,s.dragStart=jt,s.dragStop=Ft,S.call(s,n,r,i),N.call(s),T.call(s),w.call(s);var o=s.opt,u=s.trigger,a=s.clearEvents,f=s.renderOverlay,l=s.clearOverlays,c=s.reportSelection,h=s.unselect,p=s.daySelectionMousedown,d=s.slotSegHtml,v=r.formatDate,m,g,y,b,E,x,O=0,M,_,D,P,B,z,W,X,$,J,K,Q,G,Y,Z,et,tt,nt={},st,ot,ut;bt(n.addClass("fc-agenda")),Z=new C(function(t,n){function l(e){return Math.max(a,Math.min(f,e))}var r,i,s;E.find("td").each(function(t,o){r=e(o),i=r.offset().left,t&&(s[1]=i),s=[i],n[t]=s}),s[1]=i+r.outerWidth(),o("allDaySlot")&&(r=m.find("td"),i=r.offset().top,t[0]=[i,i+r.outerHeight()]);var u=y.offset().top,a=g.offset().top,f=a+g.outerHeight();for(var c=0;c<O;c++)t.push([l(u+D*c),l(u+D*(c+1))])}),et=new k(Z),tt=new L(function(e){return E.find("td:eq("+e+") div div")})}function w(){function q(e,t){o(e);var n,i=e.length,s=[],u=[];for(n=0;n<i;n++)e[n].allDay?s.push(e[n]):u.push(e[n]);r("allDaySlot")&&(y(U(s),t),f()),X(z(u),t)}function R(){u(),l().empty(),c().empty()}function U(t){var r=tt(et(t,e.map(t,Q),n.visStart,n.visEnd)),i,s=r.length,o,u,a,f=[];for(i=0;i<s;i++){o=r[i];for(u=0;u<o.length;u++)a=o[u],a.row=0,a.level=i,f.push(a)}return f}function z(t){var r=w(),i=d(),s=p(),o=j(I(n.visStart),i),u=e.map(t,W),a,f,l,c,h,v,m=[];for(a=0;a<r;a++){f=tt(et(t,u,o,j(I(o),s-i))),E(f);for(l=0;l<f.length;l++){c=f[l];for(h=0;h<c.length;h++)v=c[h],v.col=a,v.level=l,m.push(v)}H(o,1,!0)}return m}function W(e){return e.end?I(e.end):j(I(e.start),r("defaultEventMinutes"))}function X(n,s){var o,u=n.length,a,f,l,h,p,d,y,b,E,S,x,T,N="",k,L,A,O={},M={},_,D,P,H,j=c(),F,I,q,R=w();(F=r("isRTL"))?(I=-1,q=R-1):(I=1,q=0);for(o=0;o<u;o++)a=n[o],f=a.event,l="fc-event fc-event-vert ",a.isStart&&(l+="fc-corner-top "),a.isEnd&&(l+="fc-corner-bottom "),h=v(a.start,a.start),p=v(a.start,a.end),d=a.col,y=a.level,b=a.forward||0,E=m(d*I+q),S=g(d*I+q)-E,S=Math.min(S-6,S*.95),y?x=S/(y+b+1):b?x=(S/(b+1)-6)*2:x=S,T=E+S/(y+b+1)*y*I+(F?S-x:0),a.top=h,a.left=T,a.outerWidth=x,a.outerHeight=p-h,N+=V(f,a,l);j[0].innerHTML=N,k=j.children();for(o=0;o<u;o++)a=n[o],f=a.event,L=e(k[o]),A=i("eventRender",f,f,L),A===!1?L.remove():(A&&A!==!0&&(L.remove(),L=e(A).css({position:"absolute",top:a.top,left:a.left}).appendTo(j)),a.element=L,f._id===s?J(f,L,a):L[0]._fci=o,C(f,L));nt(j,n,J);for(o=0;o<u;o++){a=n[o];if(L=a.element)D=O[_=a.key=yt(L[0])],a.vsides=D===t?O[_]=ut(L[0],!0):D,D=M[_],a.hsides=D===t?M[_]=st(L[0],!0):D,P=L.find("span.fc-event-title"),P.length&&(a.titleTop=P[0].offsetTop)}for(o=0;o<u;o++){a=n[o];if(L=a.element)L[0].style.width=Math.max(0,a.outerWidth-a.hsides)+"px",H=Math.max(0,a.outerHeight-a.vsides),L[0].style.height=H+"px",f=a.event,a.titleTop!==t&&H-a.titleTop<10&&(L.find("span.fc-event-time").text(B(f.start,r("timeFormat"))+" - "+f.title),L.find("span.fc-event-title").remove()),i("eventAfterRender",f,f,L)}}function V(n,i,s){return"<div class='"+s+n.className.join(" ")+"' style='position:absolute;z-index:8;top:"+i.top+"px;left:"+i.left+"px'>"+"<a"+(n.url?" href='"+gt(n.url)+"'":"")+">"+"<span class='fc-event-bg'></span>"+"<span class='fc-event-time'>"+gt(F(n.start,n.end,r("timeFormat")))+"</span>"+"<span class='fc-event-title'>"+gt(n.title)+"</span>"+"</a>"+((n.editable||n.editable===t&&r("editable"))&&!r("disableResizing")&&e.fn.resizable?"<div class='ui-resizable-handle ui-resizable-s'>=</div>":"")+"</div>"}function $(e,n,i){a(e,n);if(e.editable||e.editable===t&&r("editable"))K(e,n,i.isStart),i.isEnd&&b(e,n,i)}function J(e,n,i){a(e,n);if(e.editable||e.editable===t&&r("editable")){var s=n.find("span.fc-event-time");G(e,n,s),i.isEnd&&Y(e,n,s)}}function K(t,n,s){if(!r("disableDragging")&&n.draggable){var o,u=!0,a,f=r("isRTL")?-1:1,l=h(),c=S(),p=T(),v=d();n.draggable({zIndex:9,opacity:r("dragOpacity","month"),revertDuration:r("dragRevertDuration"),start:function(e,h){i("eventDragStart",n,t,e,h),L(t,n),o=n.width(),l.start(function(e,i,o,l){n.draggable("option","revert",!e||!o&&!l),D(),e&&(a=l*f,e.row?s&&u&&(it(n.width(c-10),p*Math.round((t.end?(t.end-t.start)/_:r("defaultEventMinutes"))/r("slotMinutes"))),n.draggable("option","grid",[c,1]),u=!1):(M(H(I(t.start),a),H(Q(t),a)),m()))},e,"drag")},stop:function(s,o){var f=l.stop();D(),i("eventDragStop",n,t,s,o);if(f&&(!u||a)){n.find("a").removeAttr("href");var c=0;u||(c=Math.round((n.offset().top-N().offset().top)/p)*r("slotMinutes")+v-(t.start.getHours()*60+t.start.getMinutes())),A(this,t,a,c,u,s,o)}else m(),e.browser.msie&&n.css("filter",""),k(t,n)}});function m(){u||(n.width(o).height("").draggable("option","grid",null),u=!0)}}}function G(t,n,s){if(!r("disableDragging")&&n.draggable){var o,u=!1,a,f,l,c=r("isRTL")?-1:1,p=h(),d=w(),v=S(),m=T();n.draggable({zIndex:9,scroll:!1,grid:[v,m],axis:d==1?"y":!1,opacity:r("dragOpacity"),revertDuration:r("dragRevertDuration"),start:function(h,d){i("eventDragStart",n,t,h,d),L(t,n),e.browser.msie&&n.find("span.fc-event-bg").hide(),o=n.position(),f=l=0,p.start(function(e,i,o,f){n.draggable("option","revert",!e),D(),e&&(a=f*c,r("allDaySlot")&&!e.row?(u||(u=!0,s.hide(),n.draggable("option","grid",null)),M(H(I(t.start),a),H(Q(t),a))):y())},h,"drag")},drag:function(e,t){f=Math.round((t.position.top-o.top)/m)*r("slotMinutes"),f!=l&&(u||g(f),l=f)},stop:function(r,s){var l=p.stop();D(),i("eventDragStop",n,t,r,s),l&&(a||f||u)?A(this,t,a,u?0:f,u,r,s):(y(),n.css(o),g(0),e.browser.msie&&n.css("filter","").find("span.fc-event-bg").css("display",""),k(t,n))}});function g(e){var n=j(I(t.start),e),i;t.end&&(i=j(I(t.end),e)),s.text(F(n,i,r("timeFormat")))}function y(){u&&(s.css("display",""),n.draggable("option","grid",[v,m]),u=!1)}}}function Y(t,n,o){if(!r("disableResizing")&&n.resizable){var u,a,f=T();n.resizable({handles:{s:"div.ui-resizable-s"},grid:f,start:function(r,s){u=a=0,L(t,n),e.browser.msie&&e.browser.version=="6.0"&&n.css("overflow","hidden"),n.css("z-index",9),i("eventResizeStart",this,t,r,s)},resize:function(e,i){u=Math.round((Math.max(f,n.height())-i.originalSize.height)/f),u!=a&&(o.text(F(t.start,!u&&!t.end?null:j(s(t),r("slotMinutes")*u),r("timeFormat"))),a=u)},stop:function(e,s){i("eventResizeStop",this,t,e,s),u?O(this,t,0,r("slotMinutes")*u,e,s):(n.css("z-index",8),k(t,n))}})}}var n=this;n.renderEvents=q,n.compileDaySegs=U,n.clearEvents=R,n.slotSegHtml=V,n.bindDaySeg=$,x.call(n);var r=n.opt,i=n.trigger,s=n.eventEnd,o=n.reportEvents,u=n.reportEventClear,a=n.eventElementHandlers,f=n.setHeight,l=n.getDaySegmentContainer,c=n.getSlotSegmentContainer,h=n.getHoverListener,p=n.getMaxMinute,d=n.getMinMinute,v=n.timePosition,m=n.colContentLeft,g=n.colContentRight,y=n.renderDaySegs,b=n.resizableDayEvent,w=n.getColCnt,S=n.getColWidth,T=n.getSlotHeight,N=n.getBodyContent,C=n.reportEventElement,k=n.showEvents,L=n.hideEvents,A=n.eventDrop,O=n.eventResize,M=n.renderDayOverlay,D=n.clearOverlays,P=n.calendar,B=P.formatDate,F=P.formatDates}function E(e){var t,n,r,i,s,o;for(t=e.length-1;t>0;t--){i=e[t];for(n=0;n<i.length;n++){s=i[n];for(r=0;r<e[t-1].length;r++)o=e[t-1][r],Z(s,o)&&(o.forward=Math.max(o.forward||0,(s.forward||0)+1))}}}function S(e,n,r){function h(e,t){var n=c[e];return typeof n=="object"?mt(n,t||r):n}function p(e,t){return n.trigger.apply(n,[e,t||i].concat(Array.prototype.slice.call(arguments,2),[i]))}function d(e){a={};var t,n=e.length,r;for(t=0;t<n;t++)r=e[t],a[r._id]?a[r._id].push(r):a[r._id]=[r]}function v(e){return e.end?I(e.end):s(e)}function m(e,t){f.push(t),l[e._id]?l[e._id].push(t):l[e._id]=[t]}function g(){f=[],l={}}function y(e,t){t.click(function(n){if(!t.hasClass("ui-draggable-dragging")&&!t.hasClass("ui-resizable-resizing"))return p("eventClick",this,e,n)}).hover(function(t){p("eventMouseover",this,e,t)},function(t){p("eventMouseout",this,e,t)})}function b(e,t){E(e,t,"show")}function w(e,t){E(e,t,"hide")}function E(e,t,n){var r=l[e._id],i,s=r.length;for(i=0;i<s;i++)(!t||r[i][0]!=t[0])&&r[i][n]()}function S(e,t,n,r,i,s,o){var f=t.allDay,l=t._id;T(a[l],n,r,i),p("eventDrop",e,t,n,r,i,function(){T(a[l],-n,-r,f),u(l)},s,o),u(l)}function x(e,t,n,r,i,s){var o=t._id;N(a[o],n,r),p("eventResize",e,t,n,r,function(){N(a[o],-n,-r),u(o)},i,s),u(o)}function T(e,n,r,i){r=r||0;for(var s,u=e.length,a=0;a<u;a++)s=e[a],i!==t&&(s.allDay=i),j(H(s.start,n,!0),r),s.end&&(s.end=j(H(s.end,n,!0),r)),o(s,c)}function N(e,t,n){n=n||0;for(var r,i=e.length,s=0;s<i;s++)r=e[s],r.end=j(H(v(r),t,!0),n),o(r,c)}var i=this;i.element=e,i.calendar=n,i.name=r,i.opt=h,i.trigger=p,i.reportEvents=d,i.eventEnd=v,i.reportEventElement=m,i.reportEventClear=g,i.eventElementHandlers=y,i.showEvents=b,i.hideEvents=w,i.eventDrop=S,i.eventResize=x;var s=i.defaultEventEnd,o=n.normalizeEvent,u=n.reportEventChange,a={},f=[],l={},c=n.options}function x(){function C(e,t){var n=w(),r,i=l(),s=c(),o=0,u,a,f,h,p=e.length,d,v,m;n[0].innerHTML=L(e),A(e,n.children()),O(e),M(e,n,t),_(e),D(e),P(e),r=B();for(u=0;u<i;u++){a=0,f=[];for(h=0;h<s;h++)f[h]=0;while(o<p&&(d=e[o]).row==u){v=dt(f.slice(d.startCol,d.endCol)),d.top=v,v+=d.outerHeight;for(m=d.startCol;m<d.endCol;m++)f[m]=v;o++}r[u].height(dt(f))}F(e,j(r))}function k(t,n,r){var i=e("<div/>"),s,o=w(),u,a=t.length,f;i[0].innerHTML=L(t),s=i.children(),o.append(s),A(t,s),_(t),D(t),P(t),F(t,j(B())),s=[];for(u=0;u<a;u++)f=t[u].element,f&&(t[u].row===n&&f.css("top",r),s.push(f[0]));return e(s)}function L(e){var n=r("isRTL"),i,s=e.length,o,u,a,f=d(),l=f.left,c=f.right,h=[],p,y,b="";for(i=0;i<s;i++)o=e[i],u=o.event,a="fc-event fc-event-hori ",n?(o.isStart&&(a+="fc-corner-right "),o.isEnd&&(a+="fc-corner-left "),h[0]=g(o.end.getDay()-1),h[1]=g(o.start.getDay()),p=o.isEnd?v(h[0]):l,y=o.isStart?m(h[1]):c):(o.isStart&&(a+="fc-corner-left "),o.isEnd&&(a+="fc-corner-right "),h[0]=g(o.start.getDay()),h[1]=g(o.end.getDay()-1),p=o.isStart?v(h[0]):l,y=o.isEnd?m(h[1]):c),b+="<div class='"+a+u.className.join(" ")+"' style='position:absolute;z-index:8;left:"+p+"px'>"+"<a"+(u.url?" href='"+gt(u.url)+"'":"")+">"+(!u.allDay&&o.isStart?"<span class='fc-event-time'>"+gt(S(u.start,u.end,r("timeFormat")))+"</span>":"")+"<span class='fc-event-title'>"+gt(u.title)+"</span>"+"</a>"+(o.isEnd&&(u.editable||u.editable===t&&r("editable"))&&!r("disableResizing")?"<div class='ui-resizable-handle ui-resizable-"+(n?"w":"e")+"'></div>":"")+"</div>",o.left=p,o.outerWidth=y-p,h.sort(pt),o.startCol=h[0],o.endCol=h[1]+1;return b}function A(t,n){var r,s=t.length,o,u,a,f;for(r=0;r<s;r++)o=t[r],u=o.event,a=e(n[r]),f=i("eventRender",u,u,a),f===!1?a.remove():(f&&f!==!0&&(f=e(f).css({position:"absolute",left:o.left}),a.replaceWith(f),a=f),o.element=a)}function O(e){var t,n=e.length,r,i;for(t=0;t<n;t++)r=e[t],i=r.element,i&&o(r.event,i)}function M(e,t,n){var r,i=e.length,s,o,u;for(r=0;r<i;r++)s=e[r],o=s.element,o&&(u=s.event,u._id===n?E(u,o,s):o[0]._fci=r);nt(t,e,E)}function _(e){var n,r=e.length,i,s,o,u,a={};for(n=0;n<r;n++)i=e[n],s=i.element,s&&(o=i.key=yt(s[0]),u=a[o],u===t&&(u=a[o]=st(s[0],!0)),i.hsides=u)}function D(e){var t,n=e.length,r,i;for(t=0;t<n;t++)r=e[t],i=r.element,i&&(i[0].style.width=Math.max(0,r.outerWidth-r.hsides)+"px")}function P(e){var n,r=e.length,i,s,o,u,a={};for(n=0;n<r;n++)i=e[n],s=i.element,s&&(o=i.key,u=a[o],u===t&&(u=a[o]=at(s[0])),i.outerHeight=s[0].offsetHeight+u)}function B(){var e,t=l(),n=[];for(e=0;e<t;e++)n[e]=p(e).find("td:first div.fc-day-content > div");return n}function j(e){var t,n=e.length,r=[];for(t=0;t<n;t++)r[t]=e[t][0].offsetTop;return r}function F(e,t){var n,r=e.length,s,o,u;for(n=0;n<r;n++)s=e[n],o=s.element,o&&(o[0].style.top=t[s.row]+(s.top||0)+"px",u=s.event,i("eventAfterRender",u,u,o))}function q(t,o,h){if(!r("disableResizing")&&h.isEnd){var p=r("isRTL"),d=p?"w":"e",v=o.find("div.ui-resizable-"+d);v.mousedown(function(r){function M(n){i("eventResizeStop",this,t,n),e("body").css("cursor","auto"),v.stop(),T(),C&&f(this,t,C,0,n)}if(r.which!=1)return;var v=n.getHoverListener(),m=l(),g=c(),w=p?-1:1,E=p?g:0,S=o.css("top"),C,L,A=e.extend({},t),O=y(t.start);N(),e("body").css("cursor",d+"-resize").one
("mouseup",M),i("eventResizeStart",this,t,r),v.start(function(e,n){if(e){var r=Math.max(O.row,e.row),i=e.col;m==1&&(r=0),r==O.row&&(p?i=Math.min(O.col,i):i=Math.max(O.col,i)),C=r*g+i*w+E-(n.row*g+n.col*w+E);var o=H(s(t),C,!0);if(C){A.end=o;var f=L;L=k(b([A]),h.row,S),L.find("*").css("cursor",d+"-resize"),f&&f.remove(),a(t)}else L&&(u(t),L.remove(),L=null);T(),x(t.start,H(I(o),1))}},r)})}}var n=this;n.renderDaySegs=C,n.resizableDayEvent=q;var r=n.opt,i=n.trigger,s=n.eventEnd,o=n.reportEventElement,u=n.showEvents,a=n.hideEvents,f=n.eventResize,l=n.getRowCnt,c=n.getColCnt,h=n.getColWidth,p=n.allDayTR,d=n.allDayBounds,v=n.colContentLeft,m=n.colContentRight,g=n.dayOfWeekCol,y=n.dateCell,b=n.compileDaySegs,w=n.getDaySegmentContainer,E=n.bindDaySeg,S=n.calendar.formatDates,x=n.renderDayOverlay,T=n.clearOverlays,N=n.clearSelection}function T(){function a(e,t,n){f(),t||(t=i(e,n)),s(e,t,n),l(e,t,n)}function f(e){u&&(u=!1,o(),r("unselect",null,e))}function l(e,t,n,i){u=!0,r("select",null,e,t,n,i)}function c(i){var u=t.cellDate,a=t.cellIsAllDay,c=t.getHoverListener();if(i.which==1&&n("selectable")){f(i);var h=this,p;c.start(function(e,t){o(),e&&a(e)?(p=[u(t),u(e)].sort(pt),s(p[0],p[1],!0)):p=null},i),e(document).one("mouseup",function(e){c.stop(),p&&(+p[0]==+p[1]&&r("dayClick",h,p[0],!0,e),l(p[0],p[1],!0,e))})}}var t=this;t.select=a,t.unselect=f,t.reportSelection=l,t.daySelectionMousedown=c;var n=t.opt,r=t.trigger,i=t.defaultSelectionEnd,s=t.renderSelection,o=t.clearSelection,u=!1;n("selectable")&&n("unselectAuto")&&e(document).mousedown(function(t){var r=n("unselectCancel");if(r&&e(t.target).parents(r).length)return;f(t)})}function N(){function i(t,i){var s=r.shift();return s||(s=e("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),s[0].parentNode!=i[0]&&s.appendTo(i),n.push(s.css(t).show()),s}function s(){var e;while(e=n.shift())r.push(e.hide().unbind())}var t=this;t.renderOverlay=i,t.clearOverlays=s;var n=[],r=[]}function C(e){var t=this,n,r;t.build=function(){n=[],r=[],e(n,r)},t.cell=function(e,t){var i=n.length,s=r.length,o,u=-1,a=-1;for(o=0;o<i;o++)if(t>=n[o][0]&&t<n[o][1]){u=o;break}for(o=0;o<s;o++)if(e>=r[o][0]&&e<r[o][1]){a=o;break}return u>=0&&a>=0?{row:u,col:a}:null},t.rect=function(e,t,i,s,o){var u=o.offset();return{top:n[e][0]-u.top,left:r[t][0]-u.left,width:r[s][1]-r[t][0],height:n[i][1]-n[e][0]}}}function k(t){function u(e){var n=t.cell(e.pageX,e.pageY);if(!n!=!o||n&&(n.row!=o.row||n.col!=o.col))n?(s||(s=n),i(n,s,n.row-s.row,n.col-s.col)):i(n,s),o=n}var n=this,r,i,s,o;n.start=function(n,a,f){i=n,s=o=null,t.build(),u(a),r=f||"mousemove",e(document).bind(r,u)},n.stop=function(){return e(document).unbind(r,u),o}}function L(e){function o(t){return r[t]=r[t]||e(t)}var n=this,r={},i={},s={};n.left=function(e){return i[e]=i[e]===t?o(e).position().left:i[e]},n.right=function(e){return s[e]=s[e]===t?n.left(e)+o(e).width():s[e]},n.clear=function(){r={},i={},s={}}}function D(e,t,n){return e.setFullYear(e.getFullYear()+t),n||F(e),e}function P(e,t,n){if(+e){var r=e.getMonth()+t,i=I(e);i.setDate(1),i.setMonth(r),e.setMonth(r),n||F(e);while(e.getMonth()!=i.getMonth())e.setDate(e.getDate()+(e<i?1:-1))}return e}function H(e,t,n){if(+e){var r=e.getDate()+t,i=I(e);i.setHours(9),i.setDate(r),e.setDate(r),n||F(e),B(e,i)}return e}function B(e,t){if(+e)while(e.getDate()!=t.getDate())e.setTime(+e+(e<t?1:-1)*M)}function j(e,t){return e.setMinutes(e.getMinutes()+t),e}function F(e){return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}function I(e,t){return t?F(new Date(+e)):new Date(+e)}function q(){var e=0,t;do t=new Date(1970,e++,1);while(t.getHours());return t}function R(e,t,n){t=t||1;while(!e.getDay()||n&&e.getDay()==1||!n&&e.getDay()==6)H(e,t);return e}function U(e,t){return Math.round((I(e,!0)-I(t,!0))/O)}function z(e,n,r,i){n!==t&&n!=e.getFullYear()&&(e.setDate(1),e.setMonth(0),e.setFullYear(n)),r!==t&&r!=e.getMonth()&&(e.setDate(1),e.setMonth(r)),i!==t&&e.setDate(i)}function W(e,n){return typeof e=="object"?e:typeof e=="number"?new Date(e*1e3):typeof e=="string"?e.match(/^\d+$/)?new Date(parseInt(e)*1e3):(n===t&&(n=!0),X(e,n)||(e?new Date(e):null)):null}function X(e,t){var n=e.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?$/);if(!n)return null;var r=new Date(n[1],0,1);if(t||!n[14]){var i=new Date(n[1],0,1,9,0);n[3]&&(r.setMonth(n[3]-1),i.setMonth(n[3]-1)),n[5]&&(r.setDate(n[5]),i.setDate(n[5])),B(r,i),n[7]&&r.setHours(n[7]),n[8]&&r.setMinutes(n[8]),n[10]&&r.setSeconds(n[10]),n[12]&&r.setMilliseconds(Number("0."+n[12])*1e3),B(r,i)}else{r.setUTCFullYear(n[1],n[3]?n[3]-1:0,n[5]||1),r.setUTCHours(n[7]||0,n[8]||0,n[10]||0,n[12]?Number("0."+n[12])*1e3:0);var s=Number(n[16])*60+Number(n[17]);s*=n[15]=="-"?1:-1,r=new Date(+r+s*60*1e3)}return r}function V(e){if(typeof e=="number")return e*60;if(typeof e=="object")return e.getHours()*60+e.getMinutes();var t=e.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(t){var n=parseInt(t[1]);return t[3]&&(n%=12,t[3].toLowerCase().charAt(0)=="p"&&(n+=12)),n*60+(t[2]?parseInt(t[2]):0)}}function $(e,t,n){return J(e,null,t,n)}function J(e,t,r,i){i=i||n;var s=e,o=t,u,a=r.length,f,l,c,h="";for(u=0;u<a;u++){f=r.charAt(u);if(f=="'"){for(l=u+1;l<a;l++)if(r.charAt(l)=="'"){s&&(l==u+1?h+="'":h+=r.substring(u+1,l),u=l);break}}else if(f=="("){for(l=u+1;l<a;l++)if(r.charAt(l)==")"){var p=$(s,r.substring(u+1,l),i);parseInt(p.replace(/\D/,""))&&(h+=p),u=l;break}}else if(f=="["){for(l=u+1;l<a;l++)if(r.charAt(l)=="]"){var d=r.substring(u+1,l),p=$(s,d,i);p!=$(o,d,i)&&(h+=p),u=l;break}}else if(f=="{")s=t,o=e;else if(f=="}")s=e,o=t;else{for(l=a;l>u;l--)if(c=K[r.substring(u,l)]){s&&(h+=c(s,i)),u=l-1;break}l==u&&s&&(h+=f)}}return h}function Q(e){return e.end?G(e.end,e.allDay):H(I(e.start),1)}function G(e,t){return e=I(e),t||e.getHours()||e.getMinutes()?H(e,1):F(e)}function Y(e,t){return(t.msLength-e.msLength)*100+(e.event.start-t.event.start)}function Z(e,t){return e.end>t.start&&e.start<t.end}function et(e,t,n,r){var i=[],s,o=e.length,u,a,f,l,c,h,p;for(s=0;s<o;s++)u=e[s],a=u.start,f=t[s],f>n&&a<r&&(a<n?(l=I(n),h=!1):(l=a,h=!0),f>r?(c=I(r),p=!1):(c=f,p=!0),i.push({event:u,start:l,end:c,isStart:h,isEnd:p,msLength:c-l}));return i.sort(Y)}function tt(e){var t=[],n,r=e.length,i,s,o,u;for(n=0;n<r;n++){i=e[n],s=0;for(;;){o=!1;if(t[s])for(u=0;u<t[s].length;u++)if(Z(t[s][u],i)){o=!0;break}if(!o)break;s++}t[s]?t[s].push(i):t[s]=[i]}return t}function nt(n,r,i){n.unbind("mouseover").mouseover(function(n){var s=n.target,o,u,a;while(s!=this)o=s,s=s.parentNode;(u=o._fci)!==t&&(o._fci=t,a=r[u],i(a.event,a.element,a),e(n.target).trigger(n)),n.stopPropagation()})}function rt(e,t,n){e.each(function(e,r){r.style.width=Math.max(0,t-st(r,n))+"px"})}function it(e,t,n){e.each(function(e,r){r.style.height=Math.max(0,t-ut(r,n))+"px"})}function st(t,n){return(parseFloat(e.curCSS(t,"paddingLeft",!0))||0)+(parseFloat(e.curCSS(t,"paddingRight",!0))||0)+(parseFloat(e.curCSS(t,"borderLeftWidth",!0))||0)+(parseFloat(e.curCSS(t,"borderRightWidth",!0))||0)+(n?ot(t):0)}function ot(t){return(parseFloat(e.curCSS(t,"marginLeft",!0))||0)+(parseFloat(e.curCSS(t,"marginRight",!0))||0)}function ut(t,n){return(parseFloat(e.curCSS(t,"paddingTop",!0))||0)+(parseFloat(e.curCSS(t,"paddingBottom",!0))||0)+(parseFloat(e.curCSS(t,"borderTopWidth",!0))||0)+(parseFloat(e.curCSS(t,"borderBottomWidth",!0))||0)+(n?at(t):0)}function at(t){return(parseFloat(e.curCSS(t,"marginTop",!0))||0)+(parseFloat(e.curCSS(t,"marginBottom",!0))||0)}function ft(e,t){t=typeof t=="number"?t+"px":t,e[0].style.cssText+=";min-height:"+t+";_height:"+t}function ct(e){if(lt!==!1){var n;e.is("th,td")&&(e=(n=e).parent()),lt===t&&e.is("tr")&&(lt=e.position().top!=e.children().position().top);if(lt)return e.parent().position().top+(n?e.position().top-n.position().top:0)}return 0}function ht(){}function pt(e,t){return e-t}function dt(e){return Math.max.apply(Math,e)}function vt(e){return(e<10?"0":"")+e}function mt(e,n){if(e[n]!==t)return e[n];var r=n.split(/(?=[A-Z])/),i=r.length-1,s;for(;i>=0;i--){s=e[r[i].toLowerCase()];if(s!==t)return s}return e[""]}function gt(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function yt(e){return e.id+"/"+e.className+"/"+e.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function bt(e){e.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}var n={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*"},r={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},i=e.fullCalendar={version:"1.4.9"},s=i.views={};e.fn.fullCalendar=function(i){if(typeof i=="string"){var s=Array.prototype.slice.call(arguments,1),o;return this.each(function(){var n=e.data(this,"fullCalendar");if(n&&e.isFunction(n[i])){var r=n[i].apply(n,s);o===t&&(o=r),i=="destroy"&&e.removeData(this,"fullCalendar")}}),o!==t?o:this}var a=i.eventSources||[];return delete i.eventSources,i.events&&(a.push(i.events),delete i.events),i=e.extend(!0,{},n,i.isRTL||i.isRTL===t&&n.isRTL?r:{},i),this.each(function(t,n){var r=e(n),s=new u(r,i,a);r.data("fullCalendar",s),s.render()}),this};var f=1;s.month=c,s.basicWeek=h,s.basicDay=p;var d;o({weekMode:"fixed"}),s.agendaWeek=g,s.agendaDay=y,o({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24}),i.addDays=H,i.cloneDate=I,i.parseDate=W,i.parseISO8601=X,i.parseTime=V,i.formatDate=$,i.formatDates=J;var A=["sun","mon","tue","wed","thu","fri","sat"],O=864e5,M=36e5,_=6e4,K={s:function(e){return e.getSeconds()},ss:function(e){return vt(e.getSeconds())},m:function(e){return e.getMinutes()},mm:function(e){return vt(e.getMinutes())},h:function(e){return e.getHours()%12||12},hh:function(e){return vt(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return vt(e.getHours())},d:function(e){return e.getDate()},dd:function(e){return vt(e.getDate())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return vt(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},yy:function(e){return(e.getFullYear()+"").substring(2)},yyyy:function(e){return e.getFullYear()},t:function(e){return e.getHours()<12?"a":"p"},tt:function(e){return e.getHours()<12?"am":"pm"},T:function(e){return e.getHours()<12?"A":"P"},TT:function(e){return e.getHours()<12?"AM":"PM"},u:function(e){return $(e,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(e){var t=e.getDate();return t>10&&t<20?"th":["st","nd","rd"][t%10-1]||"th"}},lt}(jQuery),Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|aft(er)?|from|hence)/i,subtract:/^(\-|bef(ore)?|ago)/i,yesterday:/^yes(terday)?/i,today:/^t(od(ay)?)?/i,tomorrow:/^tom(orrow)?/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^mn|min(ute)?s?/i,hour:/^h(our)?s?/i,week:/^w(eek)?s?/i,month:/^m(onth)?s?/i,day:/^d(ay)?s?/i,year:/^y(ear)?s?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt|utc)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a(?!u|p)|p)/i},timezones:[{name:"UTC",offset:"-000"},{name:"GMT",offset:"-000"},{name:"EST",offset:"-0500"},{name:"EDT",offset:"-0400"},{name:"CST",offset:"-0600"},{name:"CDT",offset:"-0500"},{name:"MST",offset:"-0700"},{name:"MDT",offset:"-0600"},{name:"PST",offset:"-0800"},{name:"PDT",offset:"-0700"}]},function(){var e=Date,t=e.prototype,n=e.CultureInfo,r=function(e,t){return t||(t=2),("000"+e).slice(t*-1)};t.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this},t.setTimeToNow=function(){var e=new Date;return this.setHours(e.getHours()),this.setMinutes(e.getMinutes()),this.setSeconds(e.getSeconds()),this.setMilliseconds(e.getMilliseconds()),this},e.today=function(){return(new Date).clearTime()},e.compare=function(e,t){if(isNaN(e)||isNaN(t))throw new Error(e+" - "+t);if(e instanceof Date&&t instanceof Date)return e<t?-1:e>t?1:0;throw new TypeError(e+" - "+t)},e.equals=function(e,t){return e.compareTo(t)===0},e.getDayNumberFromName=function(e){var t=n.dayNames,r=n.abbreviatedDayNames,i=n.shortestDayNames,s=e.toLowerCase();for(var o=0;o<t.length;o++)if(t[o].toLowerCase()==s||r[o].toLowerCase()==s||i[o].toLowerCase()==s)return o;return-1},e.getMonthNumberFromName=function(e){var t=n.monthNames,r=n.abbreviatedMonthNames,i=e.toLowerCase();for(var s=0;s<t.length;s++)if(t[s].toLowerCase()==i||r[s].toLowerCase()==i)return s;return-1},e.isLeapYear=function(e){return e%4===0&&e%100!==0||e%400===0},e.getDaysInMonth=function(t,n){return[31,e.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][n]},e.getTimezoneAbbreviation=function(e){var t=n.timezones,r;for(var i=0;i<t.length;i++)if(t[i].offset===e)return t[i].name;return null},e.getTimezoneOffset=function(e){var t=n.timezones,r;for(var i=0;i<t.length;i++)if(t[i].name===e.toUpperCase())return t[i].offset;return null},t.clone=function(){return new Date(this.getTime())},t.compareTo=function(e){return Date.compare(this,e)},t.equals=function(e){return Date.equals(this,e||new Date)},t.between=function(e,t){return this.getTime()>=e.getTime()&&this.getTime()<=t.getTime()},t.isAfter=function(e){return this.compareTo(e||new Date)===1},t.isBefore=function(e){return this.compareTo(e||new Date)===-1},t.isToday=function(){return this.isSameDay(new Date)},t.isSameDay=function(e){return this.clone().clearTime().equals(e.clone().clearTime())},t.addMilliseconds=function(e){return this.setMilliseconds(this.getMilliseconds()+e),this},t.addSeconds=function(e){return this.addMilliseconds(e*1e3)},t.addMinutes=function(e){return this.addMilliseconds(e*6e4)},t.addHours=function(e){return this.addMilliseconds(e*36e5)},t.addDays=function(e){return this.setDate(this.getDate()+e),this},t.addWeeks=function(e){return this.addDays(e*7)},t.addMonths=function(t){var n=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+t),this.setDate(Math.min(n,e.getDaysInMonth(this.getFullYear(),this.getMonth()))),this},t.addYears=function(e){return this.addMonths(e*12)},t.add=function(e){if(typeof e=="number")return this._orient=e,this;var t=e;return t.milliseconds&&this.addMilliseconds(t.milliseconds),t.seconds&&this.addSeconds(t.seconds),t.minutes&&this.addMinutes(t.minutes),t.hours&&this.addHours(t.hours),t.weeks&&this.addWeeks(t.weeks),t.months&&this.addMonths(t.months),t.years&&this.addYears(t.years),t.days&&this.addDays(t.days),this};var i,s,o;t.getWeek=function(){var e,t,n,r,u,a,f,l,c,h;return i=i?i:this.getFullYear(),s=s?s:this.getMonth()+1,o=o?o:this.getDate(),s<=2?(e=i-1,t=(e/4|0)-(e/100|0)+(e/400|0),n=((e-1)/4|0)-((e-1)/100|0)+((e-1)/400|0),c=t-n,u=0,a=o-1+31*(s-1)):(e=i,t=(e/4|0)-(e/100|0)+(e/400|0),n=((e-1)/4|0)-((e-1)/100|0)+((e-1)/400|0),c=t-n,u=c+1,a=o+(153*(s-3)+2)/5+58+c),f=(e+t)%7,r=(a+f-u)%7,l=a+3-r|0,l<0?h=53-((f-c)/5|0):l>364+c?h=1:h=(l/7|0)+1,i=s=o=null,h},t.getISOWeek=function(){return i=this.getUTCFullYear(),s=this.getUTCMonth()+1,o=this.getUTCDate(),r(this.getWeek())},t.setWeek=function(e){return this.moveToDayOfWeek(1).addWeeks(e-this.getWeek())},e._validate=function(e,t,n,r){if(typeof e=="undefined")return!1;if(typeof e!="number")throw new TypeError(e+" is not a Number.");if(e<t||e>n)throw new RangeError(e+" is not a valid value for "+r+".");return!0},e.validateMillisecond=function(t){return e._validate(t,0,999,"millisecond")},e.validateSecond=function(t){return e._validate(t,0,59,"second")},e.validateMinute=function(t){return e._validate(t,0,59,"minute")},e.validateHour=function(t){return e._validate(t,0,23,"hour")},e.validateDay=function(t,n,r){return e._validate(t,1,e.getDaysInMonth(n,r),"day")},e.validateMonth=function(t){return e._validate(t,0,11,"month")},e.validateYear=function(t){return e._validate(t,0,9999,"year")},t.set=function(t){return e.validateMillisecond(t.millisecond)&&this.addMilliseconds(t.millisecond-this.getMilliseconds()),e.validateSecond(t.second)&&this.addSeconds(t.second-this.getSeconds()),e.validateMinute(t.minute)&&this.addMinutes(t.minute-this.getMinutes()),e.validateHour(t.hour)&&this.addHours(t.hour-this.getHours()),e.validateMonth(t.month)&&this.addMonths(t.month-this.getMonth()),e.validateYear(t.year)&&this.addYears(t.year-this.getFullYear()),e.validateDay(t.day,this.getFullYear(),this.getMonth())&&this.addDays(t.day-this.getDate()),t.timezone&&this.setTimezone(t.timezone),t.timezoneOffset&&this.setTimezoneOffset(t.timezoneOffset),t.week&&e._validate(t.week,0,53,"week")&&this.setWeek(t.week),this},t.moveToFirstDayOfMonth=function(){return this.set({day:1})},t.moveToLastDayOfMonth=function(){return this.set({day:e.getDaysInMonth(this.getFullYear(),this.getMonth())})},t.moveToNthOccurrence=function(e,t){var n=0;if(t>0)n=t-1;else if(t===-1)return this.moveToLastDayOfMonth(),this.getDay()!==e&&this.moveToDayOfWeek(e,-1),this;return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(e,1).addWeeks(n)},t.moveToDayOfWeek=function(e,t){var n=(e-this.getDay()+7*(t||1))%7;return this.addDays(n===0?n+=7*(t||1):n)},t.moveToMonth=function(e,t){var n=(e-this.getMonth()+12*(t||1))%12;return this.addMonths(n===0?n+=12*(t||1):n)},t.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/864e5)+1},t.getTimezone=function(){return e.getTimezoneAbbreviation(this.getUTCOffset())},t.setTimezoneOffset=function(e){var t=this.getTimezoneOffset(),n=Number(e)*-6/10;return this.addMinutes(n-t)},t.setTimezone=function(t){return this.setTimezoneOffset(e.getTimezoneOffset(t))},t.hasDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset()},t.isDaylightSavingTime=function(){return this.hasDaylightSavingTime()&&(new Date).getTimezoneOffset()===Date.today().set({month:6,day:1}).getTimezoneOffset()},t.getUTCOffset=function(){var e=this.getTimezoneOffset()*-10/6,t;return e<0?(t=(e-1e4).toString(),t.charAt(0)+t.substr(2)):(t=(e+1e4).toString(),"+"+t.substr(1))},t.getElapsed=function(e){return(e||new Date)-this},t.toISOString||(t.toISOString=function(){function e(e){return e<10?"0"+e:e}return'"'+this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+'Z"'}),t._toString=t.toString,t.toString=function(e){var t=this;if(e&&e.length==1){var i=n.formatPatterns;t.t=t.toString;switch(e){case"d":return t.t(i.shortDate);case"D":return t.t(i.longDate);case"F":return t.t(i.fullDateTime);case"m":return t.t(i.monthDay);case"r":return t.t(i.rfc1123);case"s":return t.t(i.sortableDateTime);case"t":return t.t(i.shortTime);case"T":return t.t(i.longTime);case"u":return t.t(i.universalSortableDateTime);case"y":return t.t(i.yearMonth)}}var s=function(e){switch(e*1){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};return e?e.replace(/(\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S)/g,function(e){if(e.charAt(0)==="\\")return e.replace("\\","");t.h=t.getHours;switch(e){case"hh":return r(t.h()<13?t.h()===0?12:t.h():t.h()-12);case"h":return t.h()<13?t.h()===0?12:t.h():t.h()-12;case"HH":return r(t.h());case"H":return t.h();case"mm":return r(t.getMinutes());case"m":return t.getMinutes();case"ss":return r(t.getSeconds());case"s":return t.getSeconds();case"yyyy":return r(t.getFullYear(),4);case"yy":return r(t.getFullYear());case"dddd":return n.dayNames[t.getDay()];case"ddd":return n.abbreviatedDayNames[t.getDay()];case"dd":return r(t.getDate());case"d":return t.getDate();case"MMMM":return n.monthNames[t.getMonth()];case"MMM":return n.abbreviatedMonthNames[t.getMonth()];case"MM":return r(t.getMonth()+1);case"M":return t.getMonth()+1;case"t":return t.h()<12?n.amDesignator.substring(0,1):n.pmDesignator.substring(0,1);case"tt":return t.h()<12?n.amDesignator:n.pmDesignator;case"S":return s(t.getDate());default:return e}}):this._toString()}}(),function(){var e=Date,t=e.prototype,n=e.CultureInfo,r=Number.prototype;t._orient=1,t._nth=null,t._is=!1,t._same=!1,t._isSecond=!1,r._dateElement="day",t.next=function(){return this._orient=1,this},e.next=function(){return e.today().next()},t.last=t.prev=t.previous=function(){return this._orient=-1,this},e.last=e.prev=e.previous=function(){return e.today().last()},t.is=function(){return this._is=!0,this},t.same=function(){return this._same=!0,this._isSecond=!1,this},t.today=function(){return this.same().day()},t.weekday=function(){return this._is?(this._is=!1,!this.is().sat()&&!this.is().sun()):!1},t.at=function(t){return typeof t=="string"?e.parse(this.toString("d")+" "+t):this.set(t)},r.fromNow=r.after=function(e){var t={};return t[this._dateElement]=this,(e?e.clone():new Date).add(t)},r.ago=r.before=function(e){var t={};return t[this._dateElement]=this*-1,(e?e.clone():new Date).add(t)};var i="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),s="january february march april may june july august september october november december".split(/\s/),o="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),u="Milliseconds Seconds Minutes Hours Date Week Month FullYear".split(/\s/),a="final first second third fourth fifth".split(/\s/),f;t.toObject=function(){var e={};for(var t=0;t<o.length;t++)e[o[t].toLowerCase()]=this["get"+u[t]]();return e},e.fromObject=function(e){return e.week=null,Date.today().set(e)};var l=function(t){return function(){if(this._is)return this._is=!1,this.getDay()==t;if(this._nth!==null){this._isSecond&&this.addSeconds(this._orient*-1),this._isSecond=!1;var n=this._nth;this._nth=null;var r=this.clone().moveToLastDayOfMonth();this.moveToNthOccurrence(t,n);if(this>r)throw new RangeError(e.getDayName(t)+" does not occur "+n+" times in the month of "+e.getMonthName(r.getMonth())+" "+r.getFullYear()+".");return this}return this.moveToDayOfWeek(t,this._orient)}},c=function(t){return function(){var r=e.today(),i=t-r.getDay();return t===0&&n.firstDayOfWeek===1&&r.getDay()!==0&&(i+=7),r.addDays(i)}};for(var h=0;h<i.length;h++)e[i[h].toUpperCase()]=e[i[h].toUpperCase().substring(0,3)]=h,e[i[h]]=e[i[h].substring(0,3)]=c(h),t[i[h]]=t[i[h].substring(0,3)]=l(h);var p=function(e){return function(){return this._is?(this._is=!1,this.getMonth()===e):this.moveToMonth(e,this._orient)}},d=function(t){return function(){return e.today().set({month:t,day:1})}};for(var v=0;v<s.length;v++)e[s[v].toUpperCase()]=e[s[v].toUpperCase().substring(0,3)]=v,e[s[v]]=e[s[v].substring(0,3)]=d(v),t[s[v]]=t[s[v].substring(0,3)]=p(v);var m=function(e){return function(){if(this._isSecond)return this._isSecond=!1,this;if(this._same){this._same=this._is=!1;var t=this.toObject(),n=(arguments[0]||new Date).toObject(),r="",i=e.toLowerCase();for(var s=o.length-1;s>-1;s--){r=o[s].toLowerCase();if(t[r]!=n[r])return!1;if(i==r)break}return!0}return e.substring(e.length-1)!="s"&&(e+="s"),this["add"+e](this._orient)}},g=function(e){return function(){return this._dateElement=e,this}};for(var y=0;y<o.length;y++)f=o[y].toLowerCase(),t[f]=t[f+"s"]=m(o[y]),r[f]=r[f+"s"]=g(f);t._ss=m("Second");var b=function(e){return function(t){return this._same?this._ss(arguments[0]):t||t===0?this.moveToNthOccurrence(t,e):(this._nth=e,e!==2||t!==undefined&&t!==null?this:(this._isSecond=!0,this.addSeconds(this._orient)))}};for(var w=0;w<a.length;w++)t[a[w]]=w===0?b(-1):b(w)}(),function(){Date.Parsing={Exception:function(e){this.message="Parse error at '"+e.substring(0,10)+" ...'"}};var e=Date.Parsing,t=e.Operators={rtoken:function(t){return function(n){var i=n.match(t);if(i)return[i[0],n.substring(i[0].length)];throw new e.Exception(n)}},token:function(e){return function(e){return t.rtoken(new RegExp("^s*"+e+"s*"))(e)}},stoken:function(e){return t.rtoken(new RegExp("^"+e))},until:function(e){return function(t){var n=[],r=null;while(t.length){try{r=e.call(this,t)}catch(i){n.push(r[0]),t=r[1];continue}break}return[n,t]}},many:function(e){return function(t){var n=[],r=null;while(t.length){try{r=e.call(this,t)}catch(i){return[n,t]}n.push(r[0]),t=r[1]}return[n,t]}},optional:function(e){return function(t){var n=null;try{n=e.call(this,t)}catch(r){return[null,t]}return[n[0],n[1]]}},not:function(t){return function(n){try{t.call(this,n)}catch(r){return[null,n]}throw new e.Exception(n)}},ignore:function(e){return e?function(t){var n=null;return n=e.call(this,t),[null,n[1]]}:null},product:function(){var e=arguments[0],n=Array.prototype.slice.call(arguments,1),r=[];for(var i=0;i<e.length;i++)r.push(t.each(e[i],n));return r},cache:function(t){var n={},r=null;return function(i){try{r=n[i]=n[i]||t.call(this,i)}catch(s){r=n[i]=s}if(r instanceof e.Exception)throw r;return r}},any:function(){var t=arguments;return function(n){var r=null;for(var i=0;i<t.length;i++){if(t[i]==null)continue;try{r=t[i].call(this,n)}catch(s){r=null}if(r)return r}throw new e.Exception(n)}},each:function(){var t=arguments;return function(n){var r=[],i=null;for(var s=0;s<t.length;s++){if(t[s]==null)continue;try{i=t[s].call(this,n)}catch(o){throw new e.Exception(n)}r.push(i[0]),n=i[1]}return[r,n]}},all:function(){var e=arguments,t=t;return t.each(t.optional(e))},sequence:function(n,r,i){return r=r||t.rtoken(/^\s*/),i=i||null,n.length==1?n[0]:function(t){var s=null,o=null,u=[];for(var a=0;a<n.length;a++){try{s=n[a].call(this,t)}catch(f){break}u.push(s[0]);try{o=r.call(this,s[1])}catch(l){o=null;break}t=o[1]}if(!s)throw new e.Exception(t);if(o)throw new e.Exception(o[1]);if(i)try{s=i.call(this,s[1])}catch(h){throw new e.Exception(s[1])}return[u,s?s[1]:t]}},between:function(e,n,i){i=i||e;var s=t.each(t.ignore(e),n,t.ignore(i));return function(e){var t=s.call(this,e);return[[t[0][0],r[0][2]],t[1]]}},list:function(e,n,r){return n=n||t.rtoken(/^\s*/),r=r||null,e instanceof Array?t.each(t.product(e.slice(0,-1),t.ignore(n)),e.slice(-1),t.ignore(r)):t.each(t.many(t.each(e,t.ignore(n))),px,t.ignore(r))},set:function(n,r,i){return r=r||t.rtoken(/^\s*/),i=i||null,function(s){var o=null,u=null,a=null,f=null,l=[[],s],h=!1;for(var p=0;p<n.length;p++){a=null,u=null,o=null,h=n.length==1;try{o=n[p].call(this,s)}catch(v){continue}f=[[o[0]],o[1]];if(o[1].length>0&&!h)try{a=r.call(this,o[1])}catch(m){h=!0}else h=!0;!h&&a[1].length===0&&(h=!0);if(!h){var g=[];for(var y=0;y<n.length;y++)p!=y&&g.push(n[y]);u=t.set(g,r).call(this,a[1]),u[0].length>0&&(f[0]=f[0].concat(u[0]),f[1]=u[1])}f[1].length<l[1].length&&(l=f);if(l[1].length===0)break}if(l[0].length===0)return l;if(i){try{a=i.call(this,l[1])}catch(b){throw new e.Exception(l[1])}l[1]=a[1]}return l}},forward:function(e,t){return function(n){return e[t].call(this,n)}},replace:function(e,t){return function(n){var r=e.call(this,n);return[t,r[1]]}},process:function(e,t){return function(n){var r=e.call(this,n);return[t.call(this,r[0]),r[1]]}},min:function(t,n){return function(r){var i=n.call(this,r);if(i[0].length<t)throw new e.Exception(r);return i}}},n=function(e){return function(){var t=null,n=[];arguments.length>1?t=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&(t=arguments[0]);if(!t)return e.apply(null,arguments);for(var r=0,i=t.shift();r<i.length;r++)return t.unshift(i[r]),n.push(e.apply(null,t)),t.shift(),n}},i="optional not ignore cache".split(/\s/);for(var s=0;s<i.length;s++)t[i[s]]=n(t[i[s]]);var o=function(e){return function(){return arguments[0]instanceof Array?e.apply(null,arguments[0]):e.apply(null,arguments)}},u="each any all".split(/\s/);for(var a=0;a<u.length;a++)t[u[a]]=o(t[u[a]])}(),function(){var e=Date,t=e.prototype,n=e.CultureInfo,r=function(e){var t=[];for(var n=0;n<e.length;n++)e[n]instanceof Array?t=t.concat(r(e[n])):e[n]&&t.push(e[n]);return t};e.Grammar={},e.Translator={hour:function(e){return function(){this.hour=Number(e)}},minute:function(e){return function(){this.minute=Number(e)}},second:function(e){return function(){this.second=Number(e)}},meridian:function(e){return function(){this.meridian=e.slice(0,1).toLowerCase()}},timezone:function(e){return function(){var t=e.replace(/[^\d\+\-]/g,"");t.length?this.timezoneOffset=Number(t):this.timezone=e.toLowerCase()}},day:function(e){var t=e[0];return function(){this.day=Number(t.match(/\d+/)[0])}},month:function(e){return function(){this.month=e.length==3?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(e)/4:Number(e)-1}},year:function(e){return function(){var t=Number(e);this.year=e.length>2?t:t+(t+2e3<n.twoDigitYearMax?2e3:1900)}},rday:function(e){return function(){switch(e){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0,this.now=!0}}},finishExact:function(t){t=t instanceof Array?t:[t];for(var n=0;n<t.length;n++)t[n]&&t[n].call(this);var r=new Date;(this.hour||this.minute)&&!this.month&&!this.year&&!this.day&&(this.day=r.getDate()),this.year||(this.year=r.getFullYear()),!this.month&&this.month!==0&&(this.month=r.getMonth()),this.day||(this.day=1),this.hour||(this.hour=0),this.minute||(this.minute=0),this.second||(this.second=0),this.meridian&&this.hour&&(this.meridian=="p"&&this.hour<12?this.hour=this.hour+12:this.meridian=="a"&&this.hour==12&&(this.hour=0));if(this.day>e.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");var i=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);return this.timezone?i.set({timezone:this.timezone}):this.timezoneOffset&&i.set({timezoneOffset:this.timezoneOffset}),i},finish:function(t){t=t instanceof Array?r(t):[t];if(t.length===0)return null;for(var n=0;n<t.length;n++)typeof t[n]=="function"&&t[n].call(this);var i=e.today();if(this.now&&!this.unit&&!this.operator)return new Date;this.now&&(i=new Date);var s=!!(this.days&&this.days!==null||this.orient||this.operator),o,u,a;a=this.orient=="past"||this.operator=="subtract"?-1:1,!this.now&&"hour minute second".indexOf(this.unit)!=-1&&i.setTimeToNow
(),(this.month||this.month===0)&&"year day hour minute second".indexOf(this.unit)!=-1&&(this.value=this.month+1,this.month=null,s=!0);if(!s&&this.weekday&&!this.day&&!this.days){var f=Date[this.weekday]();this.day=f.getDate(),this.month||(this.month=f.getMonth()),this.year=f.getFullYear()}s&&this.weekday&&this.unit!="month"&&(this.unit="day",o=e.getDayNumberFromName(this.weekday)-i.getDay(),u=7,this.days=o?(o+a*u)%u:a*u),this.month&&this.unit=="day"&&this.operator&&(this.value=this.month+1,this.month=null),this.value!=null&&this.month!=null&&this.year!=null&&(this.day=this.value*1),this.month&&!this.day&&this.value&&(i.set({day:this.value*1}),s||(this.day=this.value*1)),!this.month&&this.value&&this.unit=="month"&&!this.now&&(this.month=this.value,s=!0),s&&(this.month||this.month===0)&&this.unit!="year"&&(this.unit="month",o=this.month-i.getMonth(),u=12,this.months=o?(o+a*u)%u:a*u,this.month=null),this.unit||(this.unit="day");if(!this.value&&this.operator&&this.operator!==null&&this[this.unit+"s"]&&this[this.unit+"s"]!==null)this[this.unit+"s"]=this[this.unit+"s"]+(this.operator=="add"?1:-1)+(this.value||0)*a;else if(this[this.unit+"s"]==null||this.operator!=null)this.value||(this.value=1),this[this.unit+"s"]=this.value*a;this.meridian&&this.hour&&(this.meridian=="p"&&this.hour<12?this.hour=this.hour+12:this.meridian=="a"&&this.hour==12&&(this.hour=0));if(this.weekday&&!this.day&&!this.days){var f=Date[this.weekday]();this.day=f.getDate(),f.getMonth()!==i.getMonth()&&(this.month=f.getMonth())}return(this.month||this.month===0)&&!this.day&&(this.day=1),!this.orient&&!this.operator&&this.unit=="week"&&this.value&&!this.day&&!this.month?Date.today().setWeek(this.value):(s&&this.timezone&&this.day&&this.days&&(this.day=this.days),s?i.add(this):i.set(this))}};var i=e.Parsing.Operators,s=e.Grammar,o=e.Translator,u;s.datePartDelimiter=i.rtoken(/^([\s\-\.\,\/\x27]+)/),s.timePartDelimiter=i.stoken(":"),s.whiteSpace=i.rtoken(/^\s*/),s.generalDelimiter=i.rtoken(/^(([\s\,]|at|@|on)+)/);var a={};s.ctoken=function(e){var t=a[e];if(!t){var r=n.regexPatterns,s=e.split(/\s+/),o=[];for(var u=0;u<s.length;u++)o.push(i.replace(i.rtoken(r[s[u]]),s[u]));t=a[e]=i.any.apply(null,o)}return t},s.ctoken2=function(e){return i.rtoken(n.regexPatterns[e])},s.h=i.cache(i.process(i.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),o.hour)),s.hh=i.cache(i.process(i.rtoken(/^(0[0-9]|1[0-2])/),o.hour)),s.H=i.cache(i.process(i.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),o.hour)),s.HH=i.cache(i.process(i.rtoken(/^([0-1][0-9]|2[0-3])/),o.hour)),s.m=i.cache(i.process(i.rtoken(/^([0-5][0-9]|[0-9])/),o.minute)),s.mm=i.cache(i.process(i.rtoken(/^[0-5][0-9]/),o.minute)),s.s=i.cache(i.process(i.rtoken(/^([0-5][0-9]|[0-9])/),o.second)),s.ss=i.cache(i.process(i.rtoken(/^[0-5][0-9]/),o.second)),s.hms=i.cache(i.sequence([s.H,s.m,s.s],s.timePartDelimiter)),s.t=i.cache(i.process(s.ctoken2("shortMeridian"),o.meridian)),s.tt=i.cache(i.process(s.ctoken2("longMeridian"),o.meridian)),s.z=i.cache(i.process(i.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),o.timezone)),s.zz=i.cache(i.process(i.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),o.timezone)),s.zzz=i.cache(i.process(s.ctoken2("timezone"),o.timezone)),s.timeSuffix=i.each(i.ignore(s.whiteSpace),i.set([s.tt,s.zzz])),s.time=i.each(i.optional(i.ignore(i.stoken("T"))),s.hms,s.timeSuffix),s.d=i.cache(i.process(i.each(i.rtoken(/^([0-2]\d|3[0-1]|\d)/),i.optional(s.ctoken2("ordinalSuffix"))),o.day)),s.dd=i.cache(i.process(i.each(i.rtoken(/^([0-2]\d|3[0-1])/),i.optional(s.ctoken2("ordinalSuffix"))),o.day)),s.ddd=s.dddd=i.cache(i.process(s.ctoken("sun mon tue wed thu fri sat"),function(e){return function(){this.weekday=e}})),s.M=i.cache(i.process(i.rtoken(/^(1[0-2]|0\d|\d)/),o.month)),s.MM=i.cache(i.process(i.rtoken(/^(1[0-2]|0\d)/),o.month)),s.MMM=s.MMMM=i.cache(i.process(s.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),o.month)),s.y=i.cache(i.process(i.rtoken(/^(\d\d?)/),o.year)),s.yy=i.cache(i.process(i.rtoken(/^(\d\d)/),o.year)),s.yyy=i.cache(i.process(i.rtoken(/^(\d\d?\d?\d?)/),o.year)),s.yyyy=i.cache(i.process(i.rtoken(/^(\d\d\d\d)/),o.year)),u=function(){return i.each(i.any.apply(null,arguments),i.not(s.ctoken2("timeContext")))},s.day=u(s.d,s.dd),s.month=u(s.M,s.MMM),s.year=u(s.yyyy,s.yy),s.orientation=i.process(s.ctoken("past future"),function(e){return function(){this.orient=e}}),s.operator=i.process(s.ctoken("add subtract"),function(e){return function(){this.operator=e}}),s.rday=i.process(s.ctoken("yesterday tomorrow today now"),o.rday),s.unit=i.process(s.ctoken("second minute hour day week month year"),function(e){return function(){this.unit=e}}),s.value=i.process(i.rtoken(/^\d\d?(st|nd|rd|th)?/),function(e){return function(){this.value=e.replace(/\D/g,"")}}),s.expression=i.set([s.rday,s.operator,s.value,s.unit,s.orientation,s.ddd,s.MMM]),u=function(){return i.set(arguments,s.datePartDelimiter)},s.mdy=u(s.ddd,s.month,s.day,s.year),s.ymd=u(s.ddd,s.year,s.month,s.day),s.dmy=u(s.ddd,s.day,s.month,s.year),s.date=function(e){return(s[n.dateElementOrder]||s.mdy).call(this,e)},s.format=i.process(i.many(i.any(i.process(i.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(t){if(s[t])return s[t];throw e.Parsing.Exception(t)}),i.process(i.rtoken(/^[^dMyhHmstz]+/),function(e){return i.ignore(i.stoken(e))}))),function(e){return i.process(i.each.apply(null,e),o.finishExact)});var f={},l=function(e){return f[e]=f[e]||s.format(e)[0]};s.formats=function(e){if(e instanceof Array){var t=[];for(var n=0;n<e.length;n++)t.push(l(e[n]));return i.any.apply(null,t)}return l(e)},s._formats=s.formats(['"yyyy-MM-ddTHH:mm:ssZ"',"yyyy-MM-ddTHH:mm:ssZ","yyyy-MM-ddTHH:mm:ssz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mmZ","yyyy-MM-ddTHH:mmz","yyyy-MM-ddTHH:mm","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","MMddyyyy","ddMMyyyy","Mddyyyy","ddMyyyy","Mdyyyy","dMyyyy","yyyy","Mdyy","dMyy","d"]),s._start=i.process(i.set([s.date,s.time,s.expression],s.generalDelimiter,s.whiteSpace),o.finish),s.start=function(e){try{var t=s._formats.call({},e);if(t[1].length===0)return t}catch(n){}return s._start.call({},e)},e._parse=e.parse,e.parse=function(t){var n=null;if(!t)return null;if(t instanceof Date)return t;try{n=e.Grammar.start.call({},t.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"))}catch(r){return null}return n[1].length===0?n[0]:null},e.getParseFunction=function(t){var n=e.Grammar.formats(t);return function(e){var t=null;try{t=n.call({},e)}catch(r){return null}return t[1].length===0?t[0]:null}},e.parseExact=function(t,n){return e.getParseFunction(n)(t)}}(),function(e){var t=e.ajax,n=[];e.extend({ajax:function(r){var i=jQuery.extend(!0,{},jQuery.ajaxSettings,r),s=!1;e.each(n,function(o,u){if(!n[o])return;var a=null;if(e.isFunction(n[o]))a=n[o](i);else{a=n[o];if(e.isFunction(a.url.test))a.url.test(i.url)||(a=null);else{var f=a.url.indexOf("*");if(a.url!="*"&&a.url!=i.url&&f==-1||f>-1&&a.url.substr(0,f)!=i.url.substr(0,f))a=null}if(a){if(a.data&&i.data){var l=!1;(function b(t,n){if(typeof n=="string")return l=e.isFunction(t.test)?t.test(n):t==n,l;e.each(t,function(r,i){return n[r]===undefined?(l=!1,!1):(l=!0,typeof n[r]=="object"?b(t[r],n[r]):(e.isFunction(t[r].test)?l=t[r].test(n[r]):l=t[r]==n[r],l))})})(a.data,i.data),l==0&&(a=null)}a&&a.type&&a.type!=i.type&&(a=null)}}if(a){typeof console!="undefined"&&console.log&&console.log("MOCK GET: "+i.url),s=!0;if(i.dataType==="jsonp"){if(i.type.toUpperCase()==="GET")c.test(i.url)||(i.url+=(rquery.test(i.url)?"&":"?")+(i.jsonp||"callback")+"=?");else if(!i.data||!c.test(i.data))i.data=(i.data?i.data+"&":"")+(i.jsonp||"callback")+"=?";i.dataType="json"}var c=/=\?(&|$)/;i.dataType==="json"&&(i.data&&c.test(i.data)||c.test(i.url))&&(jsonp=i.jsonpCallback||"jsonp"+jsc++,i.data&&(i.data=(i.data+"").replace(c,"="+jsonp+"$1")),i.url=i.url.replace(c,"="+jsonp+"$1"),i.dataType="script",window[jsonp]=window[jsonp]||function(e){data=e,m(),g(),window[jsonp]=undefined;try{delete window[jsonp]}catch(t){}head&&head.removeChild(script)});var h=/^(\w+:)?\/\/([^\/?#]+)/,p=h.exec(i.url),d=p&&(p[1]&&p[1]!==location.protocol||p[2]!==location.host);if(i.dataType==="script"&&i.type.toUpperCase()==="GET"&&d){var v=r&&r.context||i;function m(){i.success&&i.success.call(v,a.response?a.response.toString():a.responseText||"",status,{}),i.global&&y("ajaxSuccess",[{},i])}function g(){i.complete&&i.complete.call(v,{},status),i.global&&y("ajaxComplete",[{},i]),i.global&&!--jQuery.active&&jQuery.event.trigger("ajaxStop")}function y(e,t){(i.context?jQuery(i.context):jQuery.event).trigger(e,t)}return e.globalEval(a.responseText),m(),g(),!1}return t.call(e,e.extend(!0,{},r,{xhr:function(){return a=e.extend({},e.mockjaxSettings,a),{status:a.status,readyState:1,open:function(){},send:function(){var n=e.proxy(function(){this.status=a.status,this.readyState=4,e.isFunction(a.response)&&a.response(),i.dataType=="json"&&typeof a.responseText=="object"?this.responseText=JSON.stringify(a.responseText):i.dataType=="xml"?e.xmlDOM&&typeof a.responseXML=="string"?this.responseXML=e.xmlDOM(a.responseXML)[0]:this.responseXML=a.responseXML:this.responseText=a.responseText,this.onreadystatechange(a.isTimeout?"timeout":undefined)},this);a.proxy?t({global:!1,url:a.proxy,type:a.type,data:a.data,dataType:i.dataType,complete:function(e,t){a.responseXML=e.responseXML,a.responseText=e.responseText,this.responseTimer=setTimeout(n,a.responseTime||0)}}):i.async===!1?n():this.responseTimer=setTimeout(n,a.responseTime||50)},abort:function(){clearTimeout(this.responseTimer)},setRequestHeader:function(){},getResponseHeader:function(e){if(a.headers&&a.headers[e])return a.headers[e];if(e=="Last-modified")return a.lastModified||(new Date).toString();if(e=="Etag")return a.etag||"";if(e=="content-type")return a.contentType||"text/plain"}}}})),!1}});if(!s)return t.apply(e,arguments)}}),e.mockjaxSettings={status:200,responseTime:500,isTimeout:!1,contentType:"text/plain",response:"",responseText:"",responseXML:"",proxy:"",lastModified:null,etag:"",headers:{etag:"IJF@H#@923uf8023hFO@I#H#","content-type":"text/plain"}},e.mockjax=function(e){var t=n.length;return n[t]=e,t},e.mockjaxClear=function(e){arguments.length==1?n[e]=null:n=[]}}(jQuery),function(e,t){function n(t){e.extend(!0,Ct,t)}function r(n,r,f){function c(e){it?(N(),S(),P(),w(e)):h()}function h(){st=r.theme?"ui":"fc",n.addClass("fc"),r.isRTL&&n.addClass("fc-rtl"),r.theme&&n.addClass("ui-widget"),it=e("<div class='fc-content' style='position:relative'/>").prependTo(n),nt=new i(G,r),(rt=nt.render())&&n.prepend(rt),b(r.defaultView),e(window).resize(k),g()||p()}function p(){setTimeout(function(){!ot.start&&g()&&w()},0)}function v(){e(window).unbind("resize",k),nt.destroy(),it.remove(),n.removeClass("fc fc-rtl ui-widget")}function m(){return tt.offsetWidth!==0}function g(){return e("body")[0].offsetWidth!==0}function b(t){if(!ot||t!=ot.name){ht++,B();var n=ot,r;n?((n.beforeHide||z)(),U(it,it.height()),n.element.hide()):U(it,1),it.css("overflow","hidden"),(ot=ut[t])?ot.element.show():ot=ut[t]=new At[t](r=lt=e("<div class='fc-view fc-view-"+t+"' style='position:absolute'/>").appendTo(it),G),n&&nt.deactivateButton(n.name),nt.activateButton(t),w(),it.css("overflow",""),n&&U(it,1),r||(ot.afterShow||z)(),ht--}}function w(e){if(m()){ht++,B(),ft===t&&N();var r=!1;!ot.start||e||pt<ot.start||pt>=ot.end?(ot.render(pt,e||0),C(!0),r=!0):ot.sizeDirty?(ot.clearEvents(),C(),r=!0):ot.eventsDirty&&(ot.clearEvents(),r=!0),ot.sizeDirty=!1,ot.eventsDirty=!1,L(r),at=n.outerWidth(),nt.updateTitle(ot.title),e=new Date,e>=ot.start&&e<ot.end?nt.disableButton("today"):nt.enableButton("today"),ht--,ot.trigger("viewDisplay",tt)}}function E(){S(),m()&&(N(),C(),B(),ot.clearEvents(),ot.renderEvents(dt),ot.sizeDirty=!1)}function S(){e.each(ut,function(e,t){t.sizeDirty=!0})}function N(){ft=r.contentHeight?r.contentHeight:r.height?r.height-(rt?rt.height():0)-F(it):Math.round(it.width()/Math.max(r.aspectRatio,.5))}function C(e){ht++,ot.setHeight(ft,e),lt&&(lt.css("position","relative"),lt=null),ot.setWidth(it.width(),e),ht--}function k(){if(!ht)if(ot.start){var e=++ct;setTimeout(function(){e==ct&&!ht&&m()&&at!=(at=n.outerWidth())&&(ht++,E(),ot.trigger("windowResize",tt),ht--)},200)}else p()}function L(e){!r.lazyFetching||Y(ot.visStart,ot.visEnd)?(A(),r.refetchResources&&O()):e&&D()}function A(){Z(ot.visStart,ot.visEnd)}function O(){et(!1,ot),ut=[],ot.element.remove(),ot=ut[ot.name]=new At[ot.name](lt=e("<div class='fc-view fc-view-"+ot.name+"' style='position:absolute'/>").appendTo(it),G),w()}function M(e){dt=e,D()}function _(e){D(e)}function D(e){P(),m()&&(ot.clearEvents(),ot.renderEvents(dt,e),ot.eventsDirty=!1)}function P(){e.each(ut,function(e,t){t.eventsDirty=!0})}function H(e,n,r){ot.select(e,n,r===t?!0:r)}function B(){ot&&ot.unselect()}function j(){w(-1)}function I(){w(1)}function q(){u(pt,-1),w()}function R(){u(pt,1),w()}function W(){pt=new Date,w()}function X(e,t,n){e instanceof Date?pt=d(e):y(pt,e,t,n),w()}function V(e,n,r){e!==t&&u(pt,e),n!==t&&a(pt,n),r!==t&&l(pt,r),w()}function $(){return d(pt)}function J(){return ot}function K(e,n){if(n===t)return r[e];if(e=="height"||e=="contentHeight"||e=="aspectRatio")r[e]=n,E()}function Q(e,t){if(r[e])return r[e].apply(t||tt,Array.prototype.slice.call(arguments,2))}var G=this;G.options=r,G.render=c,G.destroy=v,G.refetchEvents=A,G.reportEvents=M,G.refetchResources=O,G.reportEventChange=_,G.rerenderEvents=D,G.changeView=b,G.select=H,G.unselect=B,G.prev=j,G.next=I,G.prevYear=q,G.nextYear=R,G.today=W,G.gotoDate=X,G.incrementDate=V,G.formatDate=function(e,t){return x(e,t,r)},G.formatDates=function(e,t,n){return T(e,t,n,r)},G.getDate=$,G.getView=J,G.option=K,G.trigger=Q,s.call(G,r,f);var Y=G.isFetchNeeded,Z=G.fetchEvents;o.call(G,r);var et=G.fetchResources,tt=n[0],nt,rt,it,st,ot,ut={},at,ft,lt,ct=0,ht=0,pt=new Date,dt=[],vt;y(pt,r.year,r.month,r.date),r.droppable&&e(document).bind("dragstart",function(t,n){var i=t.target,s=e(i);if(!s.parents(".fc").length){var o=r.dropAccept;if(e.isFunction(o)?o.call(i,s):s.is(o))vt=i,ot.dragStart(vt,t,n)}}).bind("dragstop",function(e,t){vt&&(ot.dragStop(vt,e,t),vt=null)})}function i(t,n){function r(){p=n.theme?"ui":"fc";if(n.header)return h=e("<table class='fc-header' style='width:100%'/>").append(e("<tr/>").append(s("left")).append(s("center")).append(s("right")))}function i(){h.remove()}function s(r){var i=e("<td class='fc-header-"+r+"'/>");return(r=n.header[r])&&e.each(r.split(" "),function(r){r>0&&i.append("<span class='fc-header-space'/>");var s;e.each(this.split(","),function(r,o){if(o=="title")i.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),s&&s.addClass(p+"-corner-right"),s=null;else{var u;t[o]?u=t[o]:At[o]&&(u=function(){f.removeClass(p+"-state-hover"),t.changeView(o)});if(u){r=n.theme?$(n.buttonIcons,o):null;var a=$(n.buttonText,o),f=e("<span class='fc-button fc-button-"+o+" "+p+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+(r?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+r+"'/></span>":a)+"</span><span class='fc-button-effect'><span></span></span></span></span>");f&&(f.click(function(){f.hasClass(p+"-state-disabled")||u()}).mousedown(function(){f.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-down")}).mouseup(function(){f.removeClass(p+"-state-down")}).hover(function(){f.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-hover")},function(){f.removeClass(p+"-state-hover").removeClass(p+"-state-down")}).appendTo(i),s||f.addClass(p+"-corner-left"),s=f)}}}),s&&s.addClass(p+"-corner-right")}),i}function o(e){h.find("h2").html(e)}function u(e){h.find("span.fc-button-"+e).addClass(p+"-state-active")}function a(e){h.find("span.fc-button-"+e).removeClass(p+"-state-active")}function f(e){h.find("span.fc-button-"+e).addClass(p+"-state-disabled")}function l(e){h.find("span.fc-button-"+e).removeClass(p+"-state-disabled")}var c=this;c.render=r,c.destroy=i,c.updateTitle=o,c.activateButton=u,c.deactivateButton=a,c.disableButton=f,c.enableButton=l;var h=e([]),p}function s(n,r){function i(e,t){return!A||e<A||t>O}function s(e,t){A=e,O=t,P=[],e=++M,_=t=L.length;for(var n=0;n<t;n++)o(L[n],e)}function o(e,t){u(e,function(n){if(t==M){if(n){for(var r=0;r<n.length;r++)n[r].source=e,y(n[r]);P=P.concat(n)}_--,_||C(P)}})}function u(t,r){var i,s=Lt.sourceFetchers,o;for(i=0;i<s.length;i++){o=s[i](t,A,O,r);if(o===!0)return;if(typeof o=="object"){u(o,r);return}}if(i=t.events)e.isFunction(i)?(m(),i(d(A),d(O),function(e){r(e),g()})):e.isArray(i)?r(i):r();else if(t.url){var a=t.success,f=t.error,l=t.complete;i=e.extend({},t.data||{}),s=tt(t.startParam,n.startParam),o=tt(t.endParam,n.endParam),s&&(i[s]=Math.round(+A/1e3)),o&&(i[o]=Math.round(+O/1e3)),m(),e.ajax(e.extend({},Ot,t,{data:i,success:function(t){t=t||[];var n=et(a,this,arguments);e.isArray(n)&&(t=n),r(t)},error:function(){et(f,this,arguments),r()},complete:function(){et(l,this,arguments),g()}}))}else r()}function a(e){if(e=f(e))_++,o(e,M)}function f(t){e.isFunction(t)||e.isArray(t)?t={events:t}:typeof t=="string"&&(t={url:t});if(typeof t=="object")return b(t),L.push(t),t}function l(t){L=e.grep(L,function(e){return!E(e,t)}),P=e.grep(P,function(e){return!E(e.source,t)}),C(P)}function c(e){var t,n=P.length,r,i=N().defaultEventEnd,s=e.start-e._start,o=e.end?e.end-(e._end||i(e)):0;for(t=0;t<n;t++)r=P[t],r._id==e._id&&r!=e&&(r.start=new Date(+r.start+s),r.end=e.end?r.end?new Date(+r.end+o):new Date(+i(r)+o):null,r.title=e.title,r.url=e.url,r.allDay=e.allDay,r.className=e.className,r.editable=e.editable,r.color=e.color,r.backgroudColor=e.backgroudColor,r.borderColor=e.borderColor,r.textColor=e.textColor,y(r));y(e),C(P)}function h(e,t){y(e),e.source||(t&&(k.events.push(e),e.source=k),P.push(e)),C(P)}function p(t){if(t){if(!e.isFunction(t)){var n=t+"";t=function(e){return e._id==n}}P=e.grep(P,t,!0);for(r=0;r<L.length;r++)e.isArray(L[r].events)&&(L[r].events=e.grep(L[r].events,t,!0))}else{P=[];for(var r=0;r<L.length;r++)e.isArray(L[r].events)&&(L[r].events=[])}C(P)}function v(t){return e.isFunction(t)?e.grep(P,t):t?(t+="",e.grep(P,function(e){return e._id==t})):P}function m(){D++||T("loading",null,!0,N())}function g(){--D||T("loading",null,!1,N())}function y(e){var r=e.source||{},i=tt(r.ignoreTimezone,n.ignoreTimezone);e._id=e._id||(e.id===t?"_fc"+Mt++:e.id+""),e.date&&(e.start||(e.start=e.date),delete e.date),e._start=d(e.start=w(e.start,i)),e.end=w(e.end,i),e.end&&e.end<=e.start&&(e.end=null),e._end=e.end?d(e.end):null,e.allDay===t&&(e.allDay=tt(r.allDayDefault,n.allDayDefault)),e.className?typeof e.className=="string"&&(e.className=e.className.split(/\s+/)):e.className=[]}function b(e){e.className?typeof e.className=="string"&&(e.className=e.className.split(/\s+/)):e.className=[];for(var t=Lt.sourceNormalizers,n=0;n<t.length;n++)t[n](e)}function E(e,t){return e&&t&&S(e)==S(t)}function S(e){return(typeof e=="object"?e.events||e.url:"")||e}var x=this;x.isFetchNeeded=i,x.fetchEvents=s,x.addEventSource=a,x.removeEventSource=l,x.updateEvent=c,x.renderEvent=h,x.removeEvents=p,x.clientEvents=v,x.normalizeEvent=y;var T=x.trigger,N=x.getView,C=x.reportEvents,k={events:[]},L=[k],A,O,M=0,_=0,D=0,P=[];for(x=0;x<r.length;x++)f(r[x])}function o(n){function r(t){var n={};if(e.isFunction(t))n={resources:t},u.push(n);else if(typeof t=="string")n={url:t},u.push(n);else if(typeof t=="object")for(var r=0;r<t.length;r++)n=t[r],o(n),n={resources:n},u.push(n)}function i(e,n){e=typeof e!="undefined"?e:!0;if(a==t||!e){a=[],e=u.length;for(var r=0;r<e;r++){var i=s(u[r],n);a=a.concat(i)}}return a}function s(t,r){var i=t.resources;if(i){if(e.isFunction(i))return i()}else{var s=t.url;if(s){var o={};if(typeof r=="object"){var u=n.startParam,a=n.endParam;u&&(o[u]=Math.round(+r.visStart/1e3)),a&&(o[a]=Math.round(+r.visEnd/1e3))}e.ajax(e.extend({},t,{data:o,dataType:"json",cache:!1,success:function(e){i=e=e||[]},error:function(){alert("ajax error getting json from "+s)},async:!1}))}}return i}function o(e){e.className?typeof e.className=="string"&&(e.className=e.className.split(/\s+/)):e.className=[];for(var t=Lt.sourceNormalizers,n=0;n<t.length;n++)t[n](e)}this.fetchResources=i;var u=[],a;r(n.resources)}function u(e,t,n){return e.setFullYear(e.getFullYear()+t),n||p(e),e}function a(e,t,n){if(+e){t=e.getMonth()+t;var r=d(e);r.setDate(1),r.setMonth(t),e.setMonth(t);for(n||p(e);e.getMonth()!=r.getMonth();)e.setDate(e.getDate()+(e<r?1:-1))}return e}function f(e,t,n){return l(e,t*7,n),e}function l(e,t,n){if(+e){t=e.getDate()+t;var r=d(e);r.setHours(9),r.setDate(t),e.setDate(t),n||p(e),c(e,r)}return e}function c(e,t){if(+e)for(;e.getDate()!=t.getDate();)e.setTime(+e+(e<t?1:-1)*Dt)}function h(e,t){return e.setMinutes(e.getMinutes()+t),e}function p(e){return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}function d(e,t){return t?p(new Date(+e)):new Date(+e)}function v(){var e=0,t;do t=new Date(1970,e++,1);while(t.getHours());return t}function m(e,t,n){for(t=t||1;!e.getDay()||n&&e.getDay()==1||!n&&e.getDay()==6;)l(e,t);return e}function g(e,t){return Math.round((d(e,!0)-d(t,!0))/_t)}function y(e,n,r,i){n!==t&&n!=e.getFullYear()&&(e.setDate(1),e.setMonth(0),e.setFullYear(n)),r!==t&&r!=e.getMonth()&&(e.setDate(1),e.setMonth(r)),i!==t&&e.setDate(i)}function b(e){var t=e.getFullYear(),n=8-(new Date(e.getFullYear(),0,1)).getDay();return n==8&&(n=1),e=(Date.UTC(t,e.getMonth(),e.getDate(),0,0,0)-Date.UTC(t,0,1,0,0,0))/1e3/60/60/24+1,n=Math.floor((e-n+7)/7),n==0&&(t--,t=8-(new Date(t,0,1)).getDay(),n=t==2||t==8?53:52),n}function w(e,n){return typeof e=="object"?e:typeof e=="number"?new Date(e*1e3):typeof e=="string"?e.match(/^\d+(\.\d+)?$/)?new Date(parseFloat(e)*1e3):(n===t&&(n=!0),E(e,n)||(e?new Date(e):null)):null}function E(e,t){e=e.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!e)return null;var n=new Date(e[1],0,1);return t||!e[13]?(t=new Date(e[1],0,1,9,0),e[3]&&(n.setMonth(e[3]-1),t.setMonth(e[3]-1)),e[5]&&(n.setDate(e[5]),t.setDate(e[5])),c(n,t),e[7]&&n.setHours(e[7]),e[8]&&n.setMinutes(e[8]),e[10]&&n.setSeconds(e[10]),e[12]&&n.setMilliseconds(Number("0."+e[12])*1e3),c(n,t)):(n.setUTCFullYear(e[1],e[3]?e[3]-1:0,e[5]||1),n.setUTCHours(e[7]||0,e[8]||0,e[10]||0,e[12]?Number("0."+e[12])*1e3:0),e[14]&&(t=Number(e[16])*60+(e[18]?Number(e[18]):0),t*=e[15]=="-"?1:-1,n=new Date(+n+t*60*1e3))),n}function S(e){if(typeof e=="number")return e*60;if(typeof e=="object")return e.getHours()*60+e.getMinutes();if(e=e.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var t=parseInt(e[1],10);return e[3]&&(t%=12,e[3].toLowerCase().charAt(0)=="p"&&(t+=12)),t*60+(e[2]?parseInt(e[2],10):0)}}function x(e,t,n){return T(e,null,t,n)}function T(e,t,n,r){r=r||Ct;var i=e,s=t,o,u=n.length,a,f,l,c="";for(o=0;o<u;o++){a=n.charAt(o);if(a=="'"){for(f=o+1;f<u;f++)if(n.charAt(f)=="'"){i&&(c+=f==o+1?"'":n.substring(o+1,f),o=f);break}}else if(a=="("){for(f=o+1;f<u;f++)if(n.charAt(f)==")"){o=x(i,n.substring(o+1,f),r),parseInt(o.replace(/\D/,""),10)&&(c+=o),o=f;break}}else if(a=="["){for(f=o+1;f<u;f++)if(n.charAt(f)=="]"){a=n.substring(o+1,f),o=x(i,a,r),o!=x(s,a,r)&&(c+=o),o=f;break}}else if(a=="{")i=t,s=e;else if(a=="}")i=e,s=t;else{for(f=u;f>o;f--)if(l=Ht[n.substring(o,f)]){i&&(c+=l(i,r)),o=f-1;break}f==o&&i&&(c+=a)}}return c}function N(e){return e.end?C(e.end,e.allDay):l(d(e.start),1)}function C(e,t){return e=d(e),t||e.getHours()||e.getMinutes()?l(e,1):p(e)}function k(e,t){return(t.msLength-e.msLength)*100+(e.event.start-t.event.start)}function L(e,t){return e.end>t.start&&e.start<t.end}function A(e,t,n,r){var i=[],s,o=e.length,u,a,f,l,c;for(s=0;s<o;s++)u=e[s],a=u.start,f=t[s],f>n&&a<r&&(a<n?(a=d(n),l=!1):(a=a,l=!0),f>r?(f=d(r),c=!1):(f=f,c=!0),i.push({event:u,start:a,end:f,isStart:l,isEnd:c,msLength:f-a}));return i.sort(k)}function O(e){var t=[],n,r=e.length,i,s,o,u;for(n=0;n<r;n++){i=e[n];for(s=0;;){o=!1;if(t[s])for(u=0;u<t[s].length;u++)if(L(t[s][u],i)){o=!0;break}if(!o)break;s++}t[s]?t[s].push(i):t[s]=[i]}return t}function M(n,r,i){n.unbind("mouseover").mouseover(function(n){for(var s=n.target,o;s!=this;)o=s,s=s.parentNode;(s=o._fci)!==t&&(o._fci=t,o=r[s],i(o.event,o.element,o),e(n.target).trigger(n)),n.stopPropagation()})}function _(t,n,r){for(var i=0,s;i<t.length;i++)s=e(t[i]),s.width(Math.max(0,n-P(s,r)))}function D(t,n,r){for(var i=0,s;i<t.length;i++)s=e(t[i]),s.height(Math.max(0,n-F(s,r)))}function P(e,t){return H(e)+j(e)+(t?B(e):0)}function H(t){return(parseFloat(e.curCSS(t[0],"paddingLeft",!0))||0)+(parseFloat(e.curCSS(t[0],"paddingRight",!0))||0)}function B(t){return(parseFloat(e.curCSS(t[0],"marginLeft",!0))||0)+(parseFloat(e.curCSS(t[0],"marginRight",!0))||0)}function j(t){return(parseFloat(e.curCSS(t[0],"borderLeftWidth",!0))||0)+(parseFloat(e.curCSS(t[0],"borderRightWidth",!0))||0)}function F(e,t){return I(e)+R(e)+(t?q(e):0)}function I(t){return(parseFloat(e.curCSS(t[0],"paddingTop",!0))||0)+(parseFloat(e.curCSS(t[0],"paddingBottom",!0))||0)}function q(t){return(parseFloat(e.curCSS(t[0],"marginTop",!0))||0)+(parseFloat(e.curCSS(t[0],"marginBottom",!0))||0)}function R(t){return(parseFloat(e.curCSS(t[0],"borderTopWidth",!0))||0)+(parseFloat(e.curCSS(t[0],"borderBottomWidth",!0))||0)}function U(e,t){t=typeof t=="number"?t+"px":t,e.each(function(e,n){n.style.cssText+=";min-height:"+t+";_height:"+t})}function z(){}function W(e,t){return e-t}function X(e){return Math.max.apply(Math,e)}function V(e){return(e<10?"0":"")+e}function $(e,n){if(e[n]!==t)return e[n];n=n.split(/(?=[A-Z])/);for(var r=n.length-1,i;r>=0;r--){i=e[n[r].toLowerCase()];if(i!==t)return i}return e[""]}function J(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function K(e){return e.id+"/"+e.className+"/"+e.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function Q(e){e.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function G(e){e.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function Y(e,t){e.each(function(e,n){n.className=n.className.replace(/^fc-\w*/,"fc-id"+t)})}function Z(e,t){var n=e.source||{},r=e.color,i=n.color,s=t("eventColor"),o=e.backgroundColor||r||n.backgroundColor||i||t("eventBackgroundColor")||s;return r=e.borderColor||r||n.borderColor||i||t("eventBorderColor")||s,e=e.textColor||n.textColor||t("eventTextColor"),t=[],o&&t.push("background-color:"+o),r&&t.push("border-color:"+r),e&&t.push("color:"+e),t.join(";")}function et(t,n,r){e.isFunction(t)&&(t=[t]);if(t){var i,s;for(i=0;i<t.length;i++)s=t[i].apply(n,r)||s;return s}}function tt(){for(var e=0;e<arguments.length;e++)if(arguments[e]!==t)return arguments[e]}function nt(e,t){function n(e,t){t&&(a(e,t),e.setDate(1)),e=d(e,!0),e.setDate(1),t=a(d(e),1);var n=d(e),u=d(t),f=i("firstDay"),c=i("weekends")?0:1;c&&(m(n),m(u,-1,!0)),l(n,-((n.getDay()-Math.max(f,c)+7)%7)),l(u,(7-u.getDay()+Math.max(f,c))%7),f=Math.round((u-n)/(_t*7)),i("weekMode")=="fixed"&&(l(u,(6-f)*7),f=6),r.title=o(e,i("titleFormat")),r.start=e,r.end=t,r.visStart=n,r.visEnd=u,s(6,f,c?5:7,!0)}var r=this;r.render=n,st.call(r,e,t,"month");var i=r.opt,s=r.renderBasic,o=t.formatDate}function rt(e,t){function n(e,t){t&&l(e,t*7),e=l(d(e),-((e.getDay()-i("firstDay")+7)%7)),t=l(d(e),7);var n=d(e),u=d(t),a=i("weekends");a||(m(n),m(u,-1,!0)),r.title=o(n,l(d(u),-1),i("titleFormat")),r.start=e,r.end=t,r.visStart=n,r.visEnd=u,s(1,1,a?7:5,!1)}var r=this;r.render=n,st.call(r,e,t,"basicWeek");var i=r.opt,s=r.renderBasic,o=t.formatDates}function it(e,t){function n(e,t){t&&(l(e,t),i("weekends")||m(e,t<0?-1:1)),r.title=o(e,i("titleFormat")),r.start=r.visStart=d(e,!0),r.end=r.visEnd=l(d(r.start),1),s(1,1,1,!1)}var r=this;r.render=n,st.call(r,e,t,"basicDay");var i=r.opt,s=r.renderBasic,o=t.formatDate}function st(t,n,r){function i(e,t,n,r){st=t,ut=n,s(),(t=!$)?o(e,r):I(),u(t)}function s(){(ct=B("isRTL"))?(ht=-1,pt=ut-1):(ht=1,pt=0),dt=B("firstDay"),vt=B("weekends")?0:1,mt=B("theme")?"ui":"fc",gt=B("columnFormat")}function o(n,r){var i,s=mt+"-widget-header",o=mt+"-widget-content",u;i="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";for(u=0;u<ut;u++)i+="<th class='fc- "+s+"'/>";i+="</tr></thead><tbody>";for(u=0;u<n;u++){i+="<tr class='fc-week"+u+"'>";for(s=0;s<ut;s++)i+="<td class='fc- "+o+" fc-day"+(u*ut+s)+"'><div>"+(r?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";i+="</tr>"}i+="</tbody></table>",n=e(i).appendTo(t),X=n.find("thead"),V=X.find("th"),$=n.find("tbody"),J=$.find("tr"),K=$.find("td"),Z=K.filter(":first-child"),et=J.eq(0).find("div.fc-day-content div"),G(X.add(X.find("tr"))),G(J),J.eq(0).addClass("fc-first"),c(K),tt=e("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(t)}function u(t){var n=t||st==1,r=H.start.getMonth(),i=p(new Date),s,o,u;n&&V.each(function(t,n){s=e(n),o=O(t),s.html(W(o,gt)),Y(s,o)}),K.each(function(t,u){s=e(u),o=O(t),o.getMonth()==r?s.removeClass("fc-other-month"):s.addClass("fc-other-month"),+o==+i?s.addClass(mt+"-state-highlight fc-today"):s.removeClass(mt+"-state-highlight fc-today"),s.find("div.fc-day-number").text(o.getDate()),n&&Y(s,o)}),J.each(function(t,n){u=e(n),t<st?(u.show(),t==st-1?u.addClass("fc-last"):u.removeClass("fc-last")):u.hide()})}function a(t){rt=t,t=rt-X.height();var n,r,i;B("weekMode")=="variable"?n=r=Math.floor(t/(st==1?2:6)):(n=Math.floor(t/st),r=t-n*(st-1)),Z.each(function(t,s){t<st&&(i=e(s),U(i.find("> div"),(t==st-1?r:n)-F(i)))})}function f(e){nt=e,lt.clear(),it=Math.floor(nt/ut),_(V.slice(0,-1),it)}function c(e){e.click(h).mousedown(z)}function h(e){if(!B("selectable")){var t=parseInt(this.className.match(/fc\-day(\d+)/)[1]);t=O(t),j("dayClick",this,t,!0,e)}}function v(e,t,n){n&&at.build(),n=d(H.visStart);for(var r=l(d(n),ut),i=0;i<st;i++){var s=new Date(Math.max(n,e)),o=new Date(Math.min(r,t));if(s<o){var u;ct?(u=g(o,n)*ht+pt+1,s=g(s,n)*ht+pt+1):(u=g(s,n),s=g(o,n)),c(m(i,u,i,s-1))}l(n,7),l(r,7)}}function m(e,n,r,i){return e=at.rect(e,n,r,i,t),q(e,t)}function y(e){return d(e)}function b(e,t){v(e,l(d(t),1),!0)}function w(){R()}function E(e,t,n){var r=k(e);j("dayClick",K[r.row*ut+r.col],e,t,n)}function S(e,t){ft.start(function(e){R(),e&&m(e.row,e.col,e.row,e.col)},t)}function x(e,t,n){var r=ft.stop();R(),r&&(r=L(r),j("drop",e,r,!0,t,n))}function T(e){return d(e.start)}function N(e){return lt.left(e)}function C(e){return lt.right(e)}function k(e){return{row:Math.floor(g(e,H.visStart)/7),col:M(e.getDay())}}function L(e){return A(e.row,e.col)}function A(e,t){return l(d(H.visStart),e*7+t*ht+pt)}function O(e){return A(Math.floor(e/ut),e%ut)}function M(e){return(e-Math.max(dt,vt)+ut)%ut*ht+pt}function D(e){return J.eq(e)}function P(){return{left:0,right:nt}}var H=this;H.renderBasic=i,H.setHeight=a,H.setWidth=f,H.renderDayOverlay=v,H.defaultSelectionEnd=y,H.renderSelection=b,H.clearSelection=w,H.reportDayClick=E,H.dragStart=S,H.dragStop=x,H.defaultEventEnd=T,H.getHoverListener=function(){return ft},H.colContentLeft=N,H.colContentRight=C,H.dayOfWeekCol=M,H.dateCell=k,H.cellDate=L,H.cellIsAllDay=function(){return!0},H.allDayRow=D,H.allDayBounds=P,H.getRowCnt=function(){return st},H.getColCnt=function(){return ut},H.getColWidth=function(){return it},H.getViewName=function(){return r},H.getDaySegmentContainer=function(){return tt},yt.call(H,t,n,r),Et.call(H),wt.call(H),ot.call(H);var B=H.opt,j=H.trigger,I=H.clearEvents,q=H.renderOverlay,R=H.clearOverlays,z=H.daySelectionMousedown,W=n.formatDate,X,V,$,J,K,Z,et,tt,nt,rt,it,st,ut,at,ft,lt,ct,ht,pt,dt,vt,mt,gt;Q(t.addClass("fc-grid")),at=new St(function(t,n){var r,i,s;V.each(function(t,o){r=e(o),i=r.offset().left,t&&(s[1]=i),s=[i],n[t]=s}),s[1]=i+r.outerWidth(),J.each(function(n,o){n<st&&(r=e(o),i=r.offset().top,n&&(s[1]=i),s=[i],t[n]=s)}),s[1]=i+r.outerHeight()}),ft=new xt(at),lt=new Nt(function(e){return et.eq(e)})}function ot(){function t(e,t){h(e),C(r(e),t)}function n(){p(),b().empty()}function r(t){var n=x(),r=T(),i=d(o.visStart);r=l(d(i),r);var s=e.map(t,N),u,a,f,c,h,p,v=[];for(u=0;u<n;u++){a=O(A(t,s,i,r));for(f=0;f<a.length;f++){c=a[f];for(h=0;h<c.length;h++)p=c[h],p.row=u,p.level=f,v.push(p)}l(i,7),l(r,7)}return v}function i(e,t,n){f(e)&&s(e,t),n.isEnd&&c(e)&&k(e,t,n),v(e,t)}function s(e,t){var n=w(),r;t.draggable({zIndex:9,delay:50,opacity:u("dragOpacity"),revertDuration:u("dragRevertDuration"),start:function(i,s){a("eventDragStart",t,e,i,s),g(e,t),n.start(function(n,i,s,o){t.draggable("option","revert",!n||!s&&!o),S(),n?(r=s*7+o*(u("isRTL")?-1:1),E(l(d(e.start),r),l(N(e),r))):r=0},i,"drag")},stop:function(i,s){n.stop(),S(),a("eventDragStop",t,e,i,s),r?
y(this,e,r,0,e.allDay,i,s):(t.css("filter",""),m(e,t))}})}var o=this;o.renderEvents=t,o.compileDaySegs=r,o.clearEvents=n,o.bindDaySeg=i,bt.call(o);var u=o.opt,a=o.trigger,f=o.isEventDraggable,c=o.isEventResizable,h=o.reportEvents,p=o.reportEventClear,v=o.eventElementHandlers,m=o.showEvents,g=o.hideEvents,y=o.eventDrop,b=o.getDaySegmentContainer,w=o.getHoverListener,E=o.renderDayOverlay,S=o.clearOverlays,x=o.getRowCnt,T=o.getColCnt,C=o.renderDaySegs,k=o.resizableDayEvent}function ut(e,t){function n(e,t){t&&(l(e,t*1),i("weekends")||m(e,t<0?-1:1)),e=h(d(e,!0),S(i("minTime"))),t=h(d(e),S(i("maxTime"))-S(i("minTime")));var n=d(e),a=d(t);r.title=o(n,l(d(a),-1),i("titleFormat")),r.start=e,r.end=t,r.visStart=n,r.visEnd=a,e=Math.round((a-n)/1e3/60/i("slotMinutes")),s(u.length,u.length,e,!1)}var r=this;r.render=n,ct.call(r,e,t,"resourceDay");var i=r.opt,s=r.renderBasic,o=t.formatDates,u=r.getResources}function at(e,t){function n(e,t){t&&l(e,t*7),e=l(d(e),-((e.getDay()-i("firstDay")+7)%7)),t=l(d(e),7);var n=d(e),a=d(t),f=i("weekends");f||(m(n),m(a,-1,!0)),r.title=o(n,l(d(a),-1),i("titleFormat")),r.start=e,r.end=t,r.visStart=n,r.visEnd=a,s(u.length,u.length,f?7:5,!1)}var r=this;r.render=n,ct.call(r,e,t,"resourceWeek");var i=r.opt,s=r.renderBasic,o=t.formatDates,u=r.getResources}function ft(e,t){function n(e,t){var n=i("weekends");t&&l(e,t*i("numberOfWeeks")*n?7:5),e=l(d(e),-((e.getDay()-i("firstDay")+n?7:5)%n?7:5)),t=f(d(e),i("numberOfWeeks"));var a=d(e),c=d(t);n||(m(a),m(c,-1,!0)),r.title=o(a,l(d(c),-1),i("titleFormat")),r.start=e,r.end=t,r.visStart=a,r.visEnd=c,s(u.length,u.length,n?i("numberOfWeeks")*7:i("numberOfWeeks")*5,!1)}var r=this;r.render=n,ct.call(r,e,t,"resourceNextWeeks");var i=r.opt,s=r.renderBasic,o=t.formatDates,u=r.getResources}function lt(e,t){function n(e,t){t&&(a(e,t*1),e.setDate(1));var n=d(e,!0);n.setDate(1);var f=a(d(n),1);e=d(n);var c=d(f);t=i("weekends"),t||(m(e),m(c,-1,!0)),r.title=o(e,l(d(c),-1),i("titleFormat")),r.start=n,r.end=f,r.visStart=e,r.visEnd=c,n=Math.round((c-e)/_t);if(!t){f=0;for(c=1;c<=n;c++)t=l(d(e),c),(t.getDay()==0||t.getDay()==6)&&f++;n-=f}s(u.length,u.length,n,!1)}var r=this;r.render=n,ct.call(r,e,t,"resourceMonth");var i=r.opt,s=r.renderBasic,o=t.formatDates,u=r.getResources}function ct(t,n,r){function i(e,t,n,i){ut=t,at=n,s(),(t=!G)||r=="resourceMonth"?o(e,i):z(),u(t)}function s(){(pt=q("isRTL"))?(dt=-1,vt=at-1):(dt=1,vt=0),mt=q("firstDay"),gt=q("weekends")?0:1,bt=q("theme")?"ui":"fc",Tt=q("columnFormat")}function o(n,r){var i,s=bt+"-widget-header",o=bt+"-widget-content",u,a,f=I.getResources;i="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr class='fc-first fc-last'><th class='fc-resourceName'>&nbsp;</th>";for(u=0;u<at;u++)i+="<th class='fc- "+s+"'/>";i+="</tr></thead><tbody>";for(u=0;u<n;u++){s=f[u].id,a=f[u].name,i+="<tr class='fc-week"+s+"'><td class='fc-resourceName'>"+a+"</td>";for(a=0;a<at;a++)i+="<td class='fc- "+o+" fc-day"+a+" fc-resource"+s+"'><div>"+(r?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";i+="</tr>"}i+="</tbody></table>",n=t.html(e(i)),J=n.find("thead"),K=J.find("th:not(th.fc-resourceName)"),G=n.find("tbody"),Z=G.find("tr"),et=G.find("td:not(td.fc-resourceName)"),tt=Z.children().filter(":first-child"),nt=Z.eq(0).find("div.fc-day-content div"),K.removeClass("fc-first fc-last").filter(":first").addClass("fc-first").end().filter(":last").addClass("fc-last"),et.removeClass("fc-first fc-last"),Z.each(function(){e(this).children("td:not(td.fc-resourceName):first").addClass("fc-first"),e(this).children("td:not(td.fc-resourceName):last").addClass("fc-last")}),Z.eq(0).addClass("fc-first"),c(et),rt=e("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(t)}function u(){I.start.getMonth();var t=p(new Date),n,i,s,o=0;q("weekends"),K.each(function(t,s){n=e(s),i=D(t),n.html($(i,Tt)),(i.getDay()==0||i.getDay()==6)&&n.addClass("fc-weekend"),i.getDay()==1&&r=="resourceNextWeeks"&&n.html(n.html()+"<br>"+q("weekPrefix")+" "+b(i)),Y(n,t)}),o=0,et.each(function(r,s){n=e(s),i=D(r),+i==+t?n.addClass(bt+"-state-highlight fc-today"):n.removeClass(bt+"-state-highlight fc-today"),n.find("div.fc-day-number").text(i.getDate()),Y(n,r)}),Z.each(function(t,n){s=e(n),t<ut?(s.show(),t==ut-1?s.addClass("fc-last"):s.removeClass("fc-last")):s.hide()})}function a(t){st=t,t=st-J.height();var n,r,i;q("weekMode")=="variable"?n=r=Math.floor(t/(ut==1?2:6)):(n=Math.floor(t/ut),r=t-n*(ut-1)),tt.each(function(t,s){t<ut&&(i=e(s),U(i.find("> div"),(t==ut-1?r:n)-F(i)))})}function f(t){it=t,it-=e("th.fc-resourceName").css("width").replace("px",""),ct.clear(),ot=Math.floor(it/at),_(K.slice(0,-1),ot)}function c(e){e.click(v).mousedown(V)}function v(e){if(!q("selectable")){var t=parseInt(this.className.match(/fc\-day(\d+)/)[1]);t=D(t),R("dayClick",this,t,!0,e)}}function m(e,t,n,i){n&&ft.build(),n=d(I.visStart);var s=l(d(n),at);r=="resourceDay"?s=h(d(n),q("slotMinutes")*at):q("weekends")||(s=d(I.visEnd)),e=new Date(Math.max(n,e)),s=new Date(Math.min(s,t));if(e<s){if(r=="resourceDay")t=(e-n)/1e3/60/q("slotMinutes"),n=(s-n)/1e3/60/q("slotMinutes");else{pt?(t=g(s,n)*dt+vt+1,n=g(e,n)*dt+vt+1):(t=g(e,n),n=g(s,n));if(!q("weekends")){var o=0;for(s=0;s<=t;s++)e=l(d(I.visStart),s),(e.getDay()==0||e.getDay()==6)&&o++;t-=o;for(s=o=0;s<=n-1;s++)e=l(d(I.visStart),s),(e.getDay()==0||e.getDay()==6)&&o++;n-=o}}c(y(i,t,i,n-1))}}function y(e,n,r,i){return e=ft.rect(e,Math.round(n),r,Math.round(i),t),W(e,t)}function w(e){return d(e)}function E(e,t,n,i){r=="resourceDay"?m(e,h(d(t),q("slotMinutes")),!0,i):m(e,l(d(t),1),!0,i)}function S(){X()}function x(e,t,n,r){var i=A(e);R("dayClick",et[i.col],e,t,n,r)}function T(e,t){lt.start(function(e){X(),e&&y(e.row,e.col,e.row,e.col)},t)}function N(e,t,n){var r=lt.stop();X();if(r){var i=I.getResources[r.row];r=O(r),R("drop",e,r,!0,t,n,i)}}function C(e){return d(e.start)}function k(e){return ct.left(e)}function L(e){return ct.right(e)}function A(e){var t,n,i,s,o,u,a,f,l=q("weekends");if(r=="resourceDay")t=H(e);else if(r=="resourceNextWeeks"){n=e.getFullYear(),i=e.getMonth(),s=e.getDate();for(var c=0;c<at;c++){o=M(c),u=o.getFullYear(),a=o.getMonth(),f=o.getDate();if(n==u&&i==a&&s==f){t=c;break}if(o>e&&!l){t=c-1;break}}typeof t=="undefined"&&(t=c)}else t=P(e.getDay());return{col:t}}function O(e){return M(e.col)}function M(e){if(r=="resourceDay")return h(d(I.visStart),e*q("slotMinutes"));if(!q("weekends")){var t,n;for(n=0;n<=e;n++)t=l(d(I.visStart),n),(t.getDay()==6||t.getDay()==0)&&e++}return l(d(I.visStart),e,!0)}function D(e){return M(e%at)}function P(e){return(e-Math.max(mt,gt)+at)%at*dt+vt}function H(e){var t=e.getHours();e=e.getMinutes();for(var n=q("slotMinutes"),r,i,s,o,u=0;u<=60/n;u++){r=u*n,i=Math.abs(r-e);if(i<=s||u==0)s=i,o=r;o==60&&(t++,o=0)}e=o;for(u=0;u<at;u++)if(D(u).getHours()==t&&D(u).getMinutes()==e)return u;return at}function B(e){return Z.eq(e)}function j(){var t=parseInt(e(J).find("th.fc-resourceName").css("width").replace("px",""));return{left:t,right:it+t}}var I=this;I.renderBasic=i,I.setHeight=a,I.setWidth=f,I.renderDayOverlay=m,I.defaultSelectionEnd=w,I.renderSelection=E,I.clearSelection=S,I.reportDayClick=x,I.dragStart=T,I.dragStop=N,I.defaultEventEnd=C,I.getHoverListener=function(){return lt},I.colContentLeft=k,I.colContentRight=L,I.dayOfWeekCol=P,I.timeOfDayCol=H,I.dateCell=A,I.cellDate=O,I.cellIsAllDay=function(){return!0},I.allDayRow=B,I.allDayBounds=j,I.getRowCnt=function(){return ut},I.getColCnt=function(){return at},I.getResources=n.fetchResources(),I.getColWidth=function(){return ot},I.getViewName=function(){return r},I.getDaySegmentContainer=function(){return rt},yt.call(I,t,n,r),Et.call(I),wt.call(I),ht.call(I);var q=I.opt,R=I.trigger,z=I.clearEvents,W=I.renderOverlay,X=I.clearOverlays,V=I.daySelectionMousedown,$=n.formatDate,J,K,G,Z,et,tt,nt,rt,it,st,ot,ut,at,ft,lt,ct,pt,dt,vt,mt,gt,bt,Tt;Q(t.addClass("fc-grid")),ft=new St(function(t,n){var r,i,s;K.each(function(t,o){r=e(o),i=r.offset().left,t&&(s[1]=i),s=[i],n[t]=s}),s[1]=i+r.outerWidth(),Z.each(function(n,o){n<ut&&(r=e(o),i=r.offset().top,n&&(s[1]=i),s=[i],t[n]=s)}),s[1]=i+r.outerHeight()}),lt=new xt(ft),ct=new Nt(function(e){return nt.eq(e)})}function ht(){function t(e,t){v(e),M(r(e),t)}function n(){m(),E().empty()}function r(t){var n=C();k();var r=u.getResources,i=d(u.visStart),s=d(u.visEnd),o=e.map(t,N),f,c,h,p,v,m,g;f=L();var y,b=[],w=a("weekends"),E,S,x,T;f=="resourceDay"&&(o=e.map(t,function(e){return e.end||l(e.start,1)}));for(f=0;f<n;f++){g=r[f].id,c=O(A(t,o,i,s));for(h=0;h<c.length;h++){p=c[h];for(v=0;v<p.length;v++){m=p[v],m.row=f,m.level=h,e.isArray(m.event.resource)||(m.event.resource=[m.event.resource]);for(y=0;y<m.event.resource.length;y++)E=m.event.start.getDay(),x=m.event.start.getDate(),m.event.end==null?(S=m.event.start.getDay(),T=d(m.event.start,!0).getDate()):(S=m.event.end.getDay(),T=m.event.end.getDate()),!w&&(E==6||E==0)&&(S==6||S==0)&&(x==T||l(d(m.event.start),1).getDate()==T)||g==m.event.resource[y]&&b.push(m)}}}return b}function i(e,t,n){c(e)&&s(e,t),n.isEnd&&p(e)&&o(e,t,n),g(e,t)}function s(t,n){var r=S(),i,s,o,c,p=u.getResources,v=L(),m,g,E,C,k,A,O=!1;e(p).each(function(e,n){n.id==t.resource&&n.readonly&&(O=!0)}),n.draggable({zIndex:9,delay:50,disabled:O,opacity:a("dragOpacity"),revertDuration:a("dragRevertDuration"),start:function(e,u){f("eventDragStart",n,t,e,u),b(t,n),r.start(function(e,r,u,f){n.draggable("option","revert",!e||!u&&!f||p[e.row].readonly===!0),T();if(e&&!p[e.row].readonly){o=u,c=p[e.row].id;if(v=="resourceDay")s=f*(a("isRTL")?-1:1)*a("slotMinutes"),x(h(d(t.start),s),h(d(t.end),s),!1,e.row);else{i=C=k=f*(a("isRTL")?-1:1);if(!a("weekends")&&(i>0||i<0))if(i>0){for(A=1;A<=C;A++)m=l(d(t.start),A),(m.getDay()==6||m.getDay()==0)&&C++;for(A=1;A<=k;A++)m=l(d(t.end),A),(m.getDay()==6||m.getDay()==0)&&k++}else{for(A=-1;A>=C;A--)m=l(d(t.start),A),(m.getDay()==6||m.getDay()==0)&&C--;for(A=-1;A>=k;A--)m=l(d(t.end),A),(m.getDay()==6||m.getDay()==0)&&k--}x(l(d(t.start),C),l(N(t),k),!1,e.row)}}else o=i=s=0},e,"drag")},stop:function(e,u){r.stop(),T(),f("eventDragStop",n,t,e,u);if(v=="resourceDay"&&(s||o))w(this,t,0,s,t.allDay,e,u,c);else if(i||o){if(!a("weekends"))if(i>0){g=0;for(A=1;A<=i+g;A++)m=l(d(t.start),A),(m.getDay()==6||m.getDay()==0)&&g++;g>0&&(t.start=l(d(t.start),g,!0)),g=0;for(A=1;A<=i+g;A++)m=l(d(t.end),A),(m.getDay()==6||m.getDay()==0)&&g++;g>0&&(t.end=l(d(t.end),g,!0))}else{E=0;for(A=-1;A>=i+E;A--)m=l(d(t.start),A),(m.getDay()==6||m.getDay()==0)&&E--;E<0&&(t.start=l(d(t.start),E,!0)),E=0;for(A=-1;A>=i+E;A--)m=l(d(t.end),A),(m.getDay()==6||m.getDay()==0)&&E--;E<0&&(t.end=l(d(t.end),E,!0))}w(this,t,i,0,t.allDay,e,u,c)}else n.css("filter",""),y(t,n)}})}function o(t,n,r){var i=a("isRTL"),s=i?"w":"e",o=n.find("div.ui-resizable-"+s),c=!1,p=!1;e(u.getResources).each(function(e,n){n.id==t.resource&&n.readonly&&(p=!0)});if(p)return!1;Q(n),n.mousedown(function(e){e.preventDefault()}).click(function(e){c&&(e.preventDefault(),e.stopImmediatePropagation())}),o.mousedown(function(o){function p(n){f("eventResizeStop",this,t,n),e("body").css("cursor",""),v.stop(),T();if(N){if(!a("weekends"))if(N>0){for(var r=0,i=1;i<=N+r;i++)q=l(d(t.end),i),(q.getDay()==6||q.getDay()==0)&&r++;r>0&&(t.end=l(d(t.end),r,!0))}else{r=0;for(i=-1;i>=N+r;i--)q=l(d(t.end),i),(q.getDay()==6||q.getDay()==0)&&r--;r<0&&(t.end=l(d(t.end),r,!0))}j(this,t,N,0,n)}else O&&j(this,t,0,O,n);setTimeout(function(){c=!1},0)}if(o.which==1){c=!0;var v=u.getHoverListener();C();var m=k(),g=L(),w=i?-1:1,E=i?m-1:0,S=n.css("top"),N,A,O,M,F=e.extend({},t),I=_(t.start),q;D(),e("body").css("cursor",s+"-resize").one("mouseup",p),f("eventResizeStart",this,t,o),v.start(function(e,n){if(e){Math.max(I.row,e.row),e=e.col;if(g=="resourceDay")O=a("slotMinutes")*e*w+E-(a("slotMinutes")*n.col*w+E),e=h(P(t),O,!0);else{N=A=7+e*w+E-(7+n.col*w+E);if(!a("weekends")&&(N>0||N<0))if(N>0)for(e=1;e<=A;e++)q=l(d(t.end),e),(q.getDay()==6||q.getDay()==0)&&A++;else for(e=-1;e>=A;e--)q=l(d(t.end),e),(q.getDay()==6||q.getDay()==0)&&A--;e=l(P(t),A,!0)}if(N||O){F.end=e;var i=M;M=H(B([F]),r.row,S),M.find("*").css("cursor",s+"-resize"),i&&i.remove(),b(t)}else M&&(y(t),M.remove(),M=null);T(),g=="resourceDay"?x(t.start,h(d(e),0),1,n.row):x(t.start,l(d(e),1),1,n.row)}},o)}})}var u=this;u.renderEvents=t,u.compileDaySegs=r,u.clearEvents=n,u.bindDaySeg=i,u.resizableResourceEvent=o,bt.call(u);var a=u.opt,f=u.trigger,c=u.isEventDraggable,p=u.isEventResizable,v=u.reportEvents,m=u.reportEventClear,g=u.eventElementHandlers,y=u.showEvents,b=u.hideEvents,w=u.eventDrop,E=u.getDaySegmentContainer,S=u.getHoverListener,x=u.renderDayOverlay,T=u.clearOverlays,C=u.getRowCnt,k=u.getColCnt,L=u.getViewName,M=u.renderDaySegs,_=u.dateCell,D=u.clearSelection,P=u.eventEnd,H=u.renderTempDaySegs,B=u.compileDaySegs,j=u.eventResize}function pt(e,t){function n(e,t){t&&l(e,t*7),e=l(d(e),-((e.getDay()-i("firstDay")+7)%7)),t=l(d(e),7);var n=d(e),u=d(t),a=i("weekends");a||(m(n),m(u,-1,!0)),r.title=o(n,l(d(u),-1),i("titleFormat")),r.start=e,r.end=t,r.visStart=n,r.visEnd=u,s(a?7:5)}var r=this;r.render=n,vt.call(r,e,t,"agendaWeek");var i=r.opt,s=r.renderAgenda,o=t.formatDates}function dt(e,t){function n(e,t){t&&(l(e,t),i("weekends")||m(e,t<0?-1:1)),t=d(e,!0);var n=l(d(t),1);r.title=o(e,i("titleFormat")),r.start=r.visStart=t,r.end=r.visEnd=n,s(1)}var r=this;r.render=n,vt.call(r,e,t,"agendaDay");var i=r.opt,s=r.renderAgenda,o=t.formatDate}function vt(n,r,i){function s(e){Wt=e,o(),lt?nt():u(),a()}function o(){Qt=et("theme")?"ui":"fc",Yt=et("weekends")?0:1,Gt=et("firstDay"),(Zt=et("isRTL"))?(en=-1,tn=Wt-1):(en=1,tn=0),nn=S(et("minTime")),rn=S(et("maxTime")),sn=et("columnFormat")}function u(){var t=Qt+"-widget-header",r=Qt+"-widget-content",i,s,o,u,a,f=et("slotMinutes")%15==0;i="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+t+"'>&nbsp;</th>";for(s=0;s<Wt;s++)i+="<th class='fc- fc-col"+s+" "+t+"'/>";i+="<th class='fc-agenda-gutter "+t+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+t+"'>&nbsp;</th>";for(s=0;s<Wt;s++)i+="<td class='fc- fc-col"+s+" "+r+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";i+="<td class='fc-agenda-gutter "+r+"'>&nbsp;</td></tr></tbody></table>",lt=e(i).appendTo(n),ct=lt.find("thead"),ht=ct.find("th").slice(1,-1),pt=lt.find("tbody"),dt=pt.find("td").slice(0,-1),vt=dt.find("div.fc-day-content div"),gt=dt.eq(0),bt=gt.find("> div"),G(ct.add(ct.find("tr"))),G(pt.add(pt.find("tr"))),Pt=ct.find("th:first"),Ht=lt.find(".fc-agenda-gutter"),Tt=e("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(n),et("allDaySlot")?(Ct=e("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(Tt),i="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+t+" fc-agenda-axis'>"+et("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+t+" fc-agenda-gutter'>&nbsp;</th></tr></table>",kt=e(i).appendTo(Tt),Lt=kt.find("tr"),w(Lt.find("td")),Pt=Pt.add(kt.find("th:first")),Ht=Ht.add(kt.find("th.fc-agenda-gutter")),Tt.append("<div class='fc-agenda-divider "+t+"'><div class='fc-agenda-divider-inner'/></div>")):Ct=e([]),At=e("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(Tt),Ot=e("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(At),Mt=e("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(Ot),i="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",o=v(),u=h(d(o),rn),h(o,nn);for(s=Xt=0;o<u;s++)a=o.getMinutes(),i+="<tr class='fc-slot"+s+" "+(a?"fc-minor":"")+"'><th class='fc-agenda-axis "+t+"'>"+(!f||!a?ft(o,et("axisFormat")):"&nbsp;")+"</th><td class='"+r+"'><div style='position:relative'>&nbsp;</div></td></tr>",h(o,et("slotMinutes")),Xt++;i+="</tbody></table>",_t=e(i).appendTo(Ot),Dt=_t.find("div:first"),E(_t.find("td")),Pt=Pt.add(_t.find("th:first"))}function a(){var e,t,n,r,i=p(new Date);for(e=0;e<Wt;e++)r=M(e),t=ht.eq(e),t.html(ft(r,sn)),n=dt.eq(e),+r==+i?n.addClass(Qt+"-state-highlight fc-today"):n.removeClass(Qt+"-state-highlight fc-today"),Y(t.add(n),r)}function f(e,n){e===t&&(e=Ft),Ft=e,Kt={};var r=pt.position().top,i=At.position().top;e=Math.min(e-r,_t.height()+i+1),bt.height(e-F(gt)),Tt.css("top",r),At.height(e-i-1),Ut=Dt.height()+1,n&&m()}function c(t){jt=t,Jt.clear(),It=0,_(Pt.width("").each(function(t,n){It=Math.max(It,e(n).outerWidth())}),It),t=At[0].clientWidth,(Rt=At.width()-t)?(_(Ht,Rt),Ht.show().prev().removeClass("fc-last")):Ht.hide().prev().addClass("fc-last"),qt=Math.floor((t-It)/Wt),_(ht.slice(0,-1),qt)}function m(){function e(){At.scrollTop(r)}var t=v(),n=d(t);n.setHours(et("firstHour"));var r=B(t,n)+1;e(),setTimeout(e,0)}function y(){zt=At.scrollTop()}function b(){At.scrollTop(zt)}function w(e){e.click(x).mousedown(ut)}function E(e){e.click(x).mousedown(V)}function x(e){if(!et("selectable")){var t=Math.min(Wt-1,Math.floor((e.pageX-lt.offset().left-It)/qt)),n=M(t),r=this.parentNode.className.match(/fc-slot(\d+)/);if(r){r=parseInt(r[1])*et("slotMinutes");var i=Math.floor(r/60);n.setHours(i),n.setMinutes(r%60+nn),tt("dayClick",dt[t],n,!1,e)}else tt("dayClick",dt[t],n,!0,e)}}function T(e,t,n){n&&Vt.build();var r=d(Z.visStart);Zt?(n=g(t,r)*en+tn+1,e=g(e,r)*en+tn+1):(n=g(e,r),e=g(t,r)),n=Math.max(0,n),e=Math.min(Wt,e),n<e&&w(N(0,n,0,e-1))}function N(e,t,n,r){return e=Vt.rect(e,t,n,r,Tt),rt(e,Tt)}function C(e,t){for(var n=d(Z.visStart),r=l(d(n),1),i=0;i<Wt;i++){var s=new Date(Math.max(n,e)),o=new Date(Math.min(r,t));if(s<o){var u=i*en+tn;u=Vt.rect(0,u,0,u,Ot),s=B(n,s),o=B(n,o),u.top=s,u.height=o-s,E(rt(u,Ot))}l(n,1),l(r,1)}}function k(e){return Jt.left(e)}function L(e){return Jt.right(e)}function A(e){return{row:Math.floor(g(e,Z.visStart)/7),col:H(e.getDay())}}function O(e){var t=M(e.col);return e=e.row,et("allDaySlot")&&e--,e>=0&&h(t,nn+e*et("slotMinutes")),t}function M(e){return l(d(Z.visStart),e*en+tn)}function P(e){return et("allDaySlot")&&!e.row}function H(e){return(e-Math.max(Gt,Yt)+Wt)%Wt*en+tn}function B(e,n){e=d(e,!0);if(n<h(d(e),nn))return 0;if(n>=h(d(e),rn))return _t.height();e=et("slotMinutes"),n=n.getHours()*60+n.getMinutes()-nn;var r=Math.floor(n/e),i=Kt[r];return i===t&&(i=Kt[r]=_t.find("tr:eq("+r+") td div")[0].offsetTop),Math.max(0,Math.round(i-1+Ut*(n%e/e)))}function j(){return{left:It,right:jt-Rt}}function I(){return Lt}function q(e){var t=d(e.start);return e.allDay?t:h(t,et("defaultEventMinutes"))}function R(e,t){return t?d(e):h(d(e),et("slotMinutes"))}function U(e,t,n){n?et("allDaySlot")&&T(e,l(d(t),1),!0):z(e,t)}function z(t,n){var r=et("selectHelper");Vt.build();if(r){var i=g(t,Z.visStart)*en+tn;if(i>=0&&i<Wt){i=Vt.rect(0,i,0,i,Ot);var s=B(t,t),o=B(t,n);if(o>s){i.top=s,i.height=o-s,i.left+=2,i.width-=5;if(e.isFunction(r)){if(t=r(t,n))i.position="absolute",i.zIndex=8,Bt=e(t).css(i).appendTo(Ot)}else i.isStart=!0,i.isEnd=!0,Bt=e(at({title:"",start:t,end:n,className:["fc-select-helper"],editable:!1},i)),Bt.css("opacity",et("dragOpacity"));Bt&&(E(Bt),Ot.append(Bt),_(Bt,i.width,!0),D(Bt,i.height,!0))}}}else C(t,n)}function X(){it(),Bt&&(Bt.remove(),Bt=null)}function V(t){if(t.which==1&&et("selectable")){ot(t);var n;$t.start(function(e,t){X(),e&&e.col==t.col&&!P(e)?(t=O(t),e=O(e),n=[t,h(d(t),et("slotMinutes")),e,h(d(e),et("slotMinutes"))].sort(W),z(n[0],n[3])):n=null},t),e(document).one("mouseup",function(e){$t.stop(),n&&(+n[0]==+n[1]&&$(n[0],!1,e),st(n[0],n[3],!1,e))})}}function $(e,t,n){tt("dayClick",dt[H(e.getDay())],e,t,n)}function J(e,t){$t.start(function(e){it();if(e)if(P(e))N(e.row,e.col,e.row,e.col);else{e=O(e);var t=h(d(e),et("defaultEventMinutes"));C(e,t)}},t)}function K(e,t,n){var r=$t.stop();it(),r&&tt("drop",e,O(r),P(r),t,n)}var Z=this;Z.renderAgenda=s,Z.setWidth=c,Z.setHeight=f,Z.beforeHide=y,Z.afterShow=b,Z.defaultEventEnd=q,Z.timePosition=B,Z.dayOfWeekCol=H,Z.dateCell=A,Z.cellDate=O,Z.cellIsAllDay=P,Z.allDayRow=I,Z.allDayBounds=j,Z.getHoverListener=function(){return $t},Z.colContentLeft=k,Z.colContentRight=L,Z.getDaySegmentContainer=function(){return Ct},Z.getSlotSegmentContainer=function(){return Mt},Z.getMinMinute=function(){return nn},Z.getMaxMinute=function(){return rn},Z.getBodyContent=function(){return Ot},Z.getRowCnt=function(){return 1},Z.getColCnt=function(){return Wt},Z.getColWidth=function(){return qt},Z.getSlotHeight=function(){return Ut},Z.getViewName=function(){return i},Z.defaultSelectionEnd=R,Z.renderDayOverlay=T,Z.renderSelection=U,Z.clearSelection=X,Z.reportDayClick=$,Z.dragStart=J,Z.dragStop=K,yt.call(Z,n,r,i),Et.call(Z),wt.call(Z),mt.call(Z);var et=Z.opt,tt=Z.trigger,nt=Z.clearEvents,rt=Z.renderOverlay,it=Z.clearOverlays,st=Z.reportSelection,ot=Z.unselect,ut=Z.daySelectionMousedown,at=Z.slotSegHtml,ft=r.formatDate,lt,ct,ht,pt,dt,vt,gt,bt,Tt,Ct,kt,Lt,At,Ot,Mt,_t,Dt,Pt,Ht,Bt,jt,Ft,It,qt,Rt,Ut,zt,Wt,Xt,Vt,$t,Jt,Kt={},Qt,Gt,Yt,Zt,en,tn,nn,rn,sn;Q(n.addClass("fc-agenda")),Vt=new St(function(t,n){function r(e){return Math.max(a,Math.min(f,e))}var i,s,o;ht.each(function(t,r){i=e(r),s=i.offset().left,t&&(o[1]=s),o=[s],n[t]=o}),o[1]=s+i.outerWidth(),et("allDaySlot")&&(i=Lt,s=i.offset().top,t[0]=[s,s+i.outerHeight()]);for(var u=Ot.offset().top,a=At.offset().top,f=a+At.outerHeight(),l=0;l<Xt;l++)t.push([r(u+Ut*l),r(u+Ut*(l+1))])}),$t=new xt(Vt),Jt=new Nt(function(e){return vt.eq(e)})}function mt(){function n(e,t){x(e);var n,r=e.length,o=[],a=[];for(n=0;n<r;n++)e[n].allDay?o.push(e[n]):a.push(e[n]);y("allDaySlot")&&(U(i(o),t),k()),u(s(a),t)}function r(){T(),L().empty(),_().empty()}function i(t){t=O(A(t,e.map(t,N),g.visStart,g.visEnd));var n,r=t.length,i,s,o,u=[];for(n=0;n<r;n++){i=t[n];for(s=0;s<i.length;s++)o=i[s],o.row=0,o.level=n,u.push(o)}return u}function s(t){var n=W(),r=j(),i=B(),s=h(d(g.visStart),r),u=e.map(t,o),a,f,c,p,v,m,y=[];for(a=0;a<n;a++){f=O(A(t,u,s,h(d(s),i-r))),gt(f);for(c=0;c<f.length;c++){p=f[c];for(v=0;v<p.length;v++)m=p[v],m.col=a,m.level=c,y.push(m)}l(s,1,!0)}return y}function o(e){return e.end?d(e.end):h(d(e.start),y("defaultEventMinutes"))}function u(n,r){var i,s=n.length,o,u,f,l,h,p,d,v,m,g="",w,E,S={},x={},T=_(),N;i=W(),(w=y("isRTL"))?(E=-1,N=i-1):(E=1,N=0);for(i=0;i<s;i++)o=n[i],u=o.event,f=I(o.start,o.start),l=I(o.start,o.end),h=o.col,p=o.level,d=o.forward||0,v=q(h*E+N),m=R(h*E+N)-v,m=Math.min(m-6,m*.95),h=p?m/(p+d+1):d?(m/(d+1)-6)*2:m,p=v+m/(p+d+1)*p*E+(w?m-h:0),o.top=f,o.left=p,o.outerWidth=h,o.outerHeight=l-f,g+=a(u,o);T[0].innerHTML=g,w=T.children();for(i=0;i<s;i++)o=n[i],u=o.event,g=e(w[i]),E=b("eventRender",u,u,g),E===!1?g.remove():(E&&E!==!0&&(g.remove(),g=e(E).css({position:"absolute",top:o.top,left:o.left}).appendTo(T)),o.element=g,u._id===r?c(u,g,o):g[0]._fci=i,Q(u,g));M(T,n,c);for(i=0;i<s;i++){o=n[i];if(g=o.element)u=S[r=o.key=K(g[0])],o.vsides=u===t?S[r]=F(g,!0):u,u=x[r],o.hsides=u===t?x[r]=P(g,!0):u,r=g.find("div.fc-event-content"),r.length&&(o.contentTop=r[0].offsetTop)}for(i=0;i<s;i++){o=n[i];if(g=o.element)g[0].style.width=Math.max(0,o.outerWidth-o.hsides)+"px",S=Math.max(0,o.outerHeight-o.vsides),g[0].style.height=S+"px",u=o.event,o.contentTop!==t&&S-o.contentTop<10&&(g.find("div.fc-event-time").text(st(u.start,y("timeFormat"))+" - "+u.title),g.find("div.fc-event-title").remove()),b("eventAfterRender",u,u,g)}}function a(e,t){var n="<",r=e.url,i=Z(e,y),s=i?" style='"+i+"'":"",o=["fc-event","fc-event-skin","fc-event-vert"];return w(e)&&o.push("fc-event-draggable"),t.isStart&&o.push("fc-corner-top"),t.isEnd&&o.push("fc-corner-bottom"),o=o.concat(e.className),e.source&&(o=o.concat(e.source.className||[])),n+=r?"a href='"+J(e.url)+"'":"div",n+=" class='"+o.join(" ")+"' style='position:absolute;z-index:8;top:"+t.top+"px;left:"+t.left+"px;"+i+"'><div class='fc-event-inner fc-event-skin'"+s+"><div class='fc-event-head fc-event-skin'"+s+"><div class='fc-event-time'>"+J(ot(e.start,e.end,y("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+J(e.title)+"</div></div><div class='fc-event-bg'></div></div>",t.isEnd&&E(e)&&(n+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),n+="</"+(r?"a":"div")+">",console.log(n),n}function f(e,t,n){w(e)&&p(e,t,n.isStart),n.isEnd&&E(e)&&z(e,t,n),C(e,t)}function c(e,t,n){var r=t.find("div.fc-event-time");w(e)&&v(e,t,r),n.isEnd&&E(e)&&m(e,t,r),C(e,t)}function p(e,t,n){function r(){o||(t.width(i).height("").draggable("option","grid",null),o=!0)}var i,s,o=!0,u,a=y("isRTL")?-1:1,f=H(),c=X(),h=V(),p=j();t.draggable({zIndex:9,opacity:y("dragOpacity","month"),revertDuration:y("dragRevertDuration"),start:function(p,v){b("eventDragStart",t,e,p,v),Y(e,t),i=t.width(),f.start(function(i,f,p,v){rt(),i?(s=!1,u=v*a,i.row?n?o&&(t.width(c-10),D(t,h*Math.round((e.end?(e.end-e.start)/Pt:y("defaultEventMinutes"))/y("slotMinutes"))),t.draggable("option","grid",[c,1]),o=!1):s=!0:(nt(l(d(e.start),u),l(N(e),u)),r()),s=s||o&&!u):(r(),s=!0),t.draggable("option","revert",s)},p,"drag")},stop:function(n,i){f.stop(),rt(),b("eventDragStop",t,e,n,i);if(s)r(),t.css("filter",""),G(e,t);else{var a=0;o||(a=Math.round((t.offset().top-$().offset().top)/h)*y("slotMinutes")+p-(e.start.getHours()*60+e.start.getMinutes())),et(this,e,u,a,o,n,i)}}})}function v(e,t,n){function r(t){var r=h(d(e.start),t),i;e.end&&(i=h(d(e.end),t)),n.text(ot(r,i,y("timeFormat")))}function i(){o&&(n.css("display",""),t.draggable("option","grid",[m,g]),o=!1)}var s,o=!1,u,a,f,c=y("isRTL")?-1:1,p=H(),v=W(),m=X(),g=V();t.draggable({zIndex:9,scroll:!1,grid:[m,g],axis:v==1?"y":!1,opacity:y("dragOpacity"),revertDuration:y("dragRevertDuration"),start:function(r,h){b("eventDragStart",t,e,r,h),Y(e,t),s=t.position(),a=f=0,p.start(function(r,s,a,f){t.draggable("option","revert",!r),rt(),r&&(u=f*c,y("allDaySlot")&&!r.row?(o||(o=!0,n.hide(),t.draggable("option","grid",null)),nt(l(d(e.start),u),l(N(e),u))):i())},r,"drag")},drag:function(e,t){a=Math.round((t.position.top-s.top)/g)*y("slotMinutes"),a!=f&&(o||r(a),f=a)},stop:function(n,f){var l=p.stop();rt(),b("eventDragStop",t,e,n,f),l&&(u||a||o)?et(this,e,u,o?0:a,o,n,f):(i(),t.css("filter",""),t.css(s),r(0),G(e,t))}})}function m(e,t,n){var r,i,s=V();t.resizable({handles:{s:"div.ui-resizable-s"},grid:s,start:function(n,s){r=i=0,Y(e,t),t.css("z-index",9),b("eventResizeStart",this,e,n,s)},resize:function(o,u){r=Math.round((Math.max(s,t.height())-u.originalSize.height)/s),r!=i&&(n.text(ot(e.start,!r&&!e.end?null:h(S(e),y("slotMinutes")*r),y("timeFormat"))),i=r)},stop:function(n,i){b("eventResizeStop",this,e,n,i),r?tt(this,e,0,y("slotMinutes")*r,n,i):(t.css("z-index",8),G(e,t))}})}var g=this;g.renderEvents=n,g.compileDaySegs=i,g.clearEvents=r,g.slotSegHtml=a,g.bindDaySeg=f,bt.call(g);var y=g.opt,b=g.trigger,w=g.isEventDraggable,E=g.isEventResizable,S=g.eventEnd,x=g.reportEvents,T=g.reportEventClear,C=g.eventElementHandlers,k=g.setHeight,L=g.getDaySegmentContainer,_=g.getSlotSegmentContainer,H=g.getHoverListener,B=g.getMaxMinute,j=g.getMinMinute,I=g.timePosition,q=g.colContentLeft,R=g.colContentRight,U=g.renderDaySegs,z=g.resizableDayEvent,W=g.getColCnt,X=g.getColWidth,V=g.getSlotHeight,$=g.getBodyContent,Q=g.reportEventElement,G=g.showEvents,Y=g.hideEvents,et=g.eventDrop,tt=g.eventResize,nt=g.renderDayOverlay,rt=g.clearOverlays,it=g.calendar,st=it.formatDate,ot=it.formatDates}function gt(e){var t,n,r,i,s,o;for(t=e.length-1;t>0;t--){i=e[t];for(n=0;n<i.length;n++){s=i[n];for(r=0;r<e[t-1].length;r++)o=e[t-1][r],L(s,o)&&(o.forward=Math.max(o.forward||0,(s.forward||0)+1))}}}function yt(e,n,r){function i(e,t){var n=M[e];return typeof n=="object"?e=="resources"?n:$(n,t||r):n}function s(e,t){return n.trigger.apply(n,[e,t||T].concat(Array.prototype.slice.call(arguments,2),[T]))}function o(e){return a(e)&&!i("disableDragging")}function u(e){return a(e)&&!i("disableResizing")}function a(e){return tt(e.editable,(e.source||{}).editable,i("editable"))}function f(e){L={};var t,n=e.length,r;for(t=0;t<n;t++)r=e[t],L[r._id]?L[r._id].push(r):L[r._id]=[r]}function c(e){return e.end?d(e.end):N(e)}function p(e,t){A.push(t),O[e._id]?O[e._id].push(t):O[e._id]=[t]}function v(){A=[],O={}}function m(e,t){t.click(function(n){if(!t.hasClass("ui-draggable-dragging")&&!t.hasClass("ui-resizable-resizing"))return s("eventClick",this,e,n)}).hover(function(t){s("eventMouseover",this,e,t)},function(t){s("eventMouseout",this,e,t)})}function g(e,t){b(e,t,"show")}function y(e,t){b(e,t,"hide")}function b(e,t,n){e=O[e._id];var r,i=e.length;for(r=0;r<i;r++)(!t||e[r][0]!=t[0])&&e[r][n]()}function w(e,t,n,r,i,o,u,a){var f=t.allDay,l=t._id,c=t.resource;S(L[l],n,r,i,a),s("eventDrop",e,t,n,r,i,function(){S(L[l],-n,-r,f,c),k(l)},o,u,a),k(l)}function E(e,t,n,r,i,o){var u=t._id;x(L[u],n,r),s("eventResize",e,t,n,r,function(){x(L[u],-n,-r),k(u)},i,o),k(u)}function S(e,n,r,i,s){r=r||0;for(var o,u=e.length,a=0;a<u;a++)o=e[a],i!==t&&(o.allDay=i),h(l(o.start,n,!0),r),o.end&&(o.end=h(l(o.end,n,!0),r)),o.resource!=s&&u==1&&(o.resource=s),C(o,M)}function x(e,t,n){n=n||0;for(var r,i=e.length,s=0;s<i;s++)r=e[s],r.end=h(l(c(r),t,!0),n),C(r,M)}var T=this;T.element=e,T.calendar=n,T.name=r,T.opt=i,T.trigger=s,T.isEventDraggable=o,T.isEventResizable=u,T.reportEvents=f,T.eventEnd=c,T.reportEventElement=p,T.reportEventClear=v,T.eventElementHandlers=m,T.showEvents=g,T.hideEvents=y,T.eventDrop=w,T.eventResize=E;var N=T.defaultEventEnd,C=n.normalizeEvent,k=n.reportEventChange,L={},A=[],O={},M=n.options}function bt(){function n(e,t){var n=I(),r=k(),l=L(),d=0,m,g,y=e.length,b,w;n[0].innerHTML=i(e),s(e,n.children()),o(e),u(e,n,t),a(e),f(e),c(e),t=h();for(n=0;n<r;n++){m=[];for(g=0;g<l;g++)m[g]=0;for(;d<y&&(b=e[d]).row==n;){g=X(m.slice(b.startCol,b.endCol)),b.top=g,g+=b.outerHeight;for(w=b.startCol;w<b.endCol;w++)m[w]=g;d++}t[n].height(X(m))}v(e,p(t))}function r(t,n,r){var o=e("<div/>"),u=I(),l=t.length,d;o[0].innerHTML=i(t),o=o.children(),u.append(o),s(t,o),a(t),f(t),c(t),v(t,p(h())),o=[];for(u=0;u<l;u++)if(d=t[u].element)t[u].row===n&&d.css("top",r),o.push(d[0]);return e(o)}function i(e){var t=y("isRTL"),n,r=e.length,i,s,o,u;n=O();var a=n.left,f=n.right,c,h,p,v,m,b="",S=$(),x=y("weekends");for(n=0;n<r;n++){i=e[n],s=i.event,u=["fc-event","fc-event-skin","fc-event-hori"],w(s)&&u.push("fc-event-draggable");if(t)i.isStart&&u.push("fc-corner-right"),i.isEnd&&u.push("fc-corner-left"),c=H(i.end.getDay()-1),h=H(i.start.getDay()),p=i.isEnd?_(c):a,v=i.isStart?D(h):f;else{i.isStart&&u.push("fc-corner-left"),i.isEnd&&u.push("fc-corner-right");if(S=="resourceMonth"){c=i.start.getDate()-1,h=i.end.getDate()-2;if(!x){for(m=v=p=0;m<=c;m++)o=l(d(g.visStart),m),(o.getDay()==0||o.getDay()==6)&&p++;c-=p,(i.start.getDay()==6||i.start.getDay()==0)&&c++;for(m=0;m<=h;m++)o=l(d(g.visStart),m),(o.getDay()==0||o.getDay()==6)&&v++;h-=v}h<0&&(h=L()-1)}else S=="resourceNextWeeks"?(c=j(i.start).col,h=j(i.end).col-1,x||(c=j(i.start).col,h=j(l(d(i.end),-1)).col,(i.start.getDay()==6||i.start.getDay()==0)&&c++)):S=="resourceDay"?(c=B(i.start),h=B(i.end)-1):(c=H(i.start.getDay()),h=H(i.end.getDay()-1));p=i.isStart?_(c):a,v=i.isEnd?D(h):f}u=u.concat(s.className),s.source&&(u=u.concat(s.source.className||[])),o=s.url,m=Z(s,y),S=="resourceDay"?(b+=o?"<a href='"+J(o)+"'":"<div",b+=" class='"+u.join(" ")+"' style='position:absolute;z-index:8;left:"+p+"px;"+m+"'><div class='fc-event-inner fc-event-skin'"+(m?" style='"+m+"'":"")+">",!s.allDay&&i.isStart&&(b+="<span class='fc-event-time resourceNameLink'>"+J(U(s.start,s.end,y("timeFormat")))+"</span>"),b+="<span class='fc-event-title resourceNameInfo' "+(m?" style='"+m+"'":"")+">"+J(s.title)+"</span>",i.isEnd&&E(s)&&(b+="<div class='ui-resizable-handle ui-resizable-"+(t?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"),b+="</"+(o?"a":"div")+"></div>"):(b+=o?"<a href='"+J(o)+"'":"<div",b+=" class='"+u.join(" ")+"' style='position:absolute;z-index:8;left:"+p+"px;"+m+"'><div class='fc-event-inner fc-event-skin'"+(m?" style='"+m+"'":"")+">",!s.allDay&&i.isStart&&(b+="<span class='fc-event-time'>"+J(U(s.start,s.end,y("timeFormat")))+"</span>"),b+="<span class='fc-event-title' "+(m?" style='"+m+"'":"")+">"+J(s.title)+"</span></div>",i.isEnd&&E(s)&&(b+="<div class='ui-resizable-handle ui-resizable-"+(t?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"),b+="</"+(o?"a":"div")+">"),i.left=p,i.outerWidth=v-p,i.startCol=c,i.endCol=h+1}return b}function s(t,n){var r,i=t.length,s,o,u;for(r=0;r<i;r++)s=t[r],o=s.event,u=e(n[r]),o=b("eventRender",o,o,u),o===!1?u.remove():(o&&o!==!0&&(o=e(o).css({position:"absolute",left:s.left}),u.replaceWith(o),u=o),s.element=u)}function o(e){var t,n=e.length,r,i;for(t=0;t<n;t++)r=e[t],(i=r.element)&&x(r.event,i)}function u(e,t,n){var r,i=e.length,s,o,u;for(r=0;r<i;r++){s=e[r];if(o=s.element)u=s.event,u._id===n?R(u,o,s):o[0]._fci=r}M(t,e,R)}function a(e){var n,r=e.length,i,s,o,u,a={};for(n=0;n<r;n++
){i=e[n];if(s=i.element)o=i.key=K(s[0]),u=a[o],u===t&&(u=a[o]=P(s,!0)),i.hsides=u}}function f(e){var t,n=e.length,r,i;for(t=0;t<n;t++){r=e[t];if(i=r.element)i[0].style.width=Math.max(0,r.outerWidth-r.hsides)+"px"}}function c(e){var n,r=e.length,i,s,o,u,a={};for(n=0;n<r;n++){i=e[n];if(s=i.element)o=i.key,u=a[o],u===t&&(u=a[o]=q(s)),i.outerHeight=s[0].offsetHeight+u}}function h(){var e,t=k(),n=[];for(e=0;e<t;e++)n[e]=A(e).find("td:not(.fc-resourceName):first div.fc-day-content > div");return n}function p(e){var t,n=e.length,r=[];for(t=0;t<n;t++)r[t]=e[t][0].offsetTop;return r}function v(e,t){var n,r=e.length,i,s;for(n=0;n<r;n++){i=e[n];if(s=i.element){var o=parseInt(i.top)>0?parseInt(i.top):0;s[0].style.top=t[i.row]+o+"px",i=i.event,b("eventAfterRender",i,i,s)}}}function m(t,n,i){var s=y("isRTL"),o=s?"w":"e",u=n.find("div.ui-resizable-"+o),a=!1;Q(n),n.mousedown(function(e){e.preventDefault()}).click(function(e){a&&(e.preventDefault(),e.stopImmediatePropagation())}),u.mousedown(function(u){function f(n){b("eventResizeStop",this,t,n),e("body").css("cursor",""),c.stop(),W(),w&&C(this,t,w,0,n),setTimeout(function(){a=!1},0)}if(u.which==1){a=!0;var c=g.getHoverListener(),h=k(),p=L(),v=s?-1:1,m=s?p-1:0,y=n.css("top"),w,E,x=e.extend({},t),A=j(t.start);V(),e("body").css("cursor",o+"-resize").one("mouseup",f),b("eventResizeStart",this,t,u),c.start(function(e,n){if(e){var u=Math.max(A.row,e.row);e=e.col,h==1&&(u=0),u==A.row&&(e=s?Math.min(A.col,e):Math.max(A.col,e)),w=u*7+e*v+m-(n.row*7+n.col*v+m),n=l(S(t),w,!0),w?(x.end=n,u=E,E=r(F([x]),i.row,y),E.find("*").css("cursor",o+"-resize"),u&&u.remove(),N(t)):E&&(T(t),E.remove(),E=null),W(),z(t.start,l(d(n),1))}},u)}})}var g=this;g.renderDaySegs=n,g.resizableDayEvent=m,g.renderTempDaySegs=r;var y=g.opt,b=g.trigger,w=g.isEventDraggable,E=g.isEventResizable,S=g.eventEnd,x=g.reportEventElement,T=g.showEvents,N=g.hideEvents,C=g.eventResize,k=g.getRowCnt,L=g.getColCnt,A=g.allDayRow,O=g.allDayBounds,_=g.colContentLeft,D=g.colContentRight,H=g.dayOfWeekCol,B=g.timeOfDayCol,j=g.dateCell,F=g.compileDaySegs,I=g.getDaySegmentContainer,R=g.bindDaySeg,U=g.calendar.formatDates,z=g.renderDayOverlay,W=g.clearOverlays,V=g.clearSelection,$=g.getViewName}function wt(){function t(e,t,i){n(),t||(t=a(e,i)),f(e,t,i),r(e,t,i)}function n(e){p&&(p=!1,l(),u("unselect",null,e))}function r(e,t,n,r,i){if(typeof i=="object"&&i.readonly===!0)return!1;p=!0,u("select",null,e,t,n,r,"",i)}function i(t){var i=s.cellDate,u=s.cellIsAllDay,a=s.getHoverListener(),p=s.reportDayClick,d,v=s.getResources||[],m,g=c();if(t.which==1&&o("selectable")){n(t);var y;a.start(function(e,t){l(),e&&(m=typeof v[e.row]=="object"?v[e.row].readonly:!1),e&&u(e)&&m!==!0?(y=[i(t),i(e)].sort(W),f(y[0],y[1],g=="resourceDay"?!1:!0,e.row),d=e.row):y=null},t),e(document).one("mouseup",function(e){a.stop(),y&&(+y[0]==+y[1]&&p(y[0],g=="resourceDay"?!1:!0,e,v[d]),r(y[0],g=="resourceDay"?h(y[1],o("slotMinutes")):y[1],g=="resourceDay"?!1:!0,e,v[d]))})}}var s=this;s.select=t,s.unselect=n,s.reportSelection=r,s.daySelectionMousedown=i;var o=s.opt,u=s.trigger,a=s.defaultSelectionEnd,f=s.renderSelection,l=s.clearSelection,c=s.getViewName,p=!1;o("selectable")&&o("unselectAuto")&&e(document).mousedown(function(t){var r=o("unselectCancel");if(r&&e(t.target).parents(r).length)return;n(t)})}function Et(){function t(t,n){var r=s.shift();return r||(r=e("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),r[0].parentNode!=n[0]&&r.appendTo(n),i.push(r.css(t).show()),r}function n(){for(var e;e=i.shift();)s.push(e.hide().unbind())}var r=this;r.renderOverlay=t,r.clearOverlays=n;var i=[],s=[]}function St(e){var t=this,n,r;t.build=function(){n=[],r=[],e(n,r)},t.cell=function(e,t){var i=n.length,s=r.length,o,u=-1,a=-1;for(o=0;o<i;o++)if(t>=n[o][0]&&t<n[o][1]){u=o;break}for(o=0;o<s;o++)if(e>=r[o][0]&&e<r[o][1]){a=o;break}return u>=0&&a>=0?{row:u,col:a}:null},t.rect=function(e,t,i,s,o){return o=o.offset(),{top:n[e][0]-o.top,left:r[t][0]-o.left,width:r[s][1]-r[t][0],height:n[i][1]-n[e][0]}}}function xt(t){function n(e){Tt(e),e=t.cell(e.pageX,e.pageY);if(!e!=!u||e&&(e.row!=u.row||e.col!=u.col))e?(o||(o=e),s(e,o,e.row-o.row,e.col-o.col)):s(e,o),u=e}var r=this,i,s,o,u;r.start=function(r,a,f){s=r,o=u=null,t.build(),n(a),i=f||"mousemove",e(document).bind(i,n)},r.stop=function(){return e(document).unbind(i,n),u}}function Tt(e){e.pageX===t&&(e.pageX=e.originalEvent.pageX,e.pageY=e.originalEvent.pageY)}function Nt(e){function n(t){return i[t]=i[t]||e(t)}var r=this,i={},s={},o={};r.left=function(e){return s[e]=s[e]===t?n(e).position().left:s[e]},r.right=function(e){return o[e]=o[e]===t?r.left(e)+n(e).width():o[e]},r.clear=function(){i={},s={},o={}}}var Ct={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",refetchResources:!1,titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy",resourceMonth:"MMMM yyyy",resourceWeek:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",resourceNextWeeks:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",resourceDay:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d",resourceDay:"H:mm",resourceMonth:"M/d",resourceWeek:"ddd M/d",resourceNextWeeks:"ddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day",resourceDay:"resource day",resourceWeek:"resource week",resourceNextWeeks:"resource next weeks",resourceMonth:"resource month"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*",numberOfWeeks:4,weekPrefix:"Week"},kt={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Lt=e.fullCalendar={version:"1.5.3.3"},At=Lt.views={};e.fn.fullCalendar=function(n){if(typeof n=="string"){var i=Array.prototype.slice.call(arguments,1),s;return this.each(function(){var r=e.data(this,"fullCalendar");r&&e.isFunction(r[n])&&(r=r[n].apply(r,i),s===t&&(s=r),n=="destroy"&&e.removeData(this,"fullCalendar"))}),s!==t?s:this}var o=n.eventSources||[];return delete n.eventSources,n.events&&(o.push(n.events),delete n.events),n=e.extend(!0,{},Ct,n.isRTL||n.isRTL===t&&Ct.isRTL?kt:{},n),this.each(function(t,i){t=e(i),i=new r(t,n,o),t.data("fullCalendar",i),i.render()}),this},Lt.sourceNormalizers=[],Lt.sourceFetchers=[];var Ot={dataType:"json",cache:!1},Mt=1;Lt.addDays=l,Lt.cloneDate=d,Lt.parseDate=w,Lt.parseISO8601=E,Lt.parseTime=S,Lt.formatDate=x,Lt.formatDates=T;var _t=864e5,Dt=36e5,Pt=6e4,Ht={s:function(e){return e.getSeconds()},ss:function(e){return V(e.getSeconds())},m:function(e){return e.getMinutes()},mm:function(e){return V(e.getMinutes())},h:function(e){return e.getHours()%12||12},hh:function(e){return V(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return V(e.getHours())},d:function(e){return e.getDate()},dd:function(e){return V(e.getDate())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},W:function(e){return b(e)},M:function(e){return e.getMonth()+1},MM:function(e){return V(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},yy:function(e){return(e.getFullYear()+"").substring(2)},yyyy:function(e){return e.getFullYear()},t:function(e){return e.getHours()<12?"a":"p"},tt:function(e){return e.getHours()<12?"am":"pm"},T:function(e){return e.getHours()<12?"A":"P"},TT:function(e){return e.getHours()<12?"AM":"PM"},u:function(e){return x(e,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(e){return e=e.getDate(),e>10&&e<20?"th":["st","nd","rd"][e%10-1]||"th"}};Lt.applyAll=et,At.month=nt,At.basicWeek=rt,At.basicDay=it,n({weekMode:"fixed"}),At.resourceDay=ut,At.resourceWeek=at,At.resourceNextWeeks=ft,At.resourceMonth=lt,n({weekMode:"fixed"}),At.agendaWeek=pt,At.agendaDay=dt,n({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24})}(jQuery),function(e,t){function n(t,n){var i=t.nodeName.toLowerCase();if("area"===i){var s=t.parentNode,o=s.name,u;return!t.href||!o||s.nodeName.toLowerCase()!=="map"?!1:(u=e("img[usemap=#"+o+"]")[0],!!u&&r(u))}return(/input|select|textarea|button|object/.test(i)?!t.disabled:"a"==i?t.href||n:n)&&r(t)}function r(t){return!e(t).parents().andSelf().filter(function(){return e.curCSS(this,"visibility")==="hidden"||e.expr.filters.hidden(this)}).length}e.ui=e.ui||{};if(e.ui.version)return;e.extend(e.ui,{version:"1.8.23",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),e.fn.extend({propAttr:e.fn.prop||e.fn.attr,_focus:e.fn.focus,focus:function(t,n){return typeof t=="number"?this.each(function(){var r=this;setTimeout(function(){e(r).focus(),n&&n.call(r)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return e.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?t=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.curCSS(this,"position",1))&&/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0):t=this.parents().filter(function(){return/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length){var r=e(this[0]),i,s;while(r.length&&r[0]!==document){i=r.css("position");if(i==="absolute"||i==="relative"||i==="fixed"){s=parseInt(r.css("zIndex"),10);if(!isNaN(s)&&s!==0)return s}r=r.parent()}}return 0},disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,r){function i(t,n,r,i){return e.each(s,function(){n-=parseFloat(e.curCSS(t,"padding"+this,!0))||0,r&&(n-=parseFloat(e.curCSS(t,"border"+this+"Width",!0))||0),i&&(n-=parseFloat(e.curCSS(t,"margin"+this,!0))||0)}),n}var s=r==="Width"?["Left","Right"]:["Top","Bottom"],o=r.toLowerCase(),u={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){return n===t?u["inner"+r].call(this):this.each(function(){e(this).css(o,i(this,n)+"px")})},e.fn["outer"+r]=function(t,n){return typeof t!="number"?u["outer"+r].call(this,t):this.each(function(){e(this).css(o,i(this,t,!0,n)+"px")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var r=e.attr(t,"tabindex"),i=isNaN(r);return(i||r>=0)&&n(t,!i)}}),e(function(){var t=document.body,n=t.appendChild(n=document.createElement("div"));n.offsetHeight,e.extend(n.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=n.offsetHeight===100,e.support.selectstart="onselectstart"in n,t.removeChild(n).style.display="none"}),e.curCSS||(e.curCSS=e.css),e.extend(e.ui,{plugin:{add:function(t,n,r){var i=e.ui[t].prototype;for(var s in r)i.plugins[s]=i.plugins[s]||[],i.plugins[s].push([n,r[s]])},call:function(e,t,n){var r=e.plugins[t];if(!r||!e.element[0].parentNode)return;for(var i=0;i<r.length;i++)e.options[r[i][0]]&&r[i][1].apply(e.element,n)}},contains:function(e,t){return document.compareDocumentPosition?e.compareDocumentPosition(t)&16:e!==t&&e.contains(t)},hasScroll:function(t,n){if(e(t).css("overflow")==="hidden")return!1;var r=n&&n==="left"?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)},isOverAxis:function(e,t,n){return e>t&&e<t+n},isOver:function(t,n,r,i,s,o){return e.ui.isOverAxis(t,r,s)&&e.ui.isOverAxis(n,i,o)}})}(jQuery),function(e,t){if(e.cleanData){var n=e.cleanData;e.cleanData=function(t){for(var r=0,i;(i=t[r])!=null;r++)try{e(i).triggerHandler("remove")}catch(s){}n(t)}}else{var r=e.fn.remove;e.fn.remove=function(t,n){return this.each(function(){return n||(!t||e.filter(t,[this]).length)&&e("*",this).add([this]).each(function(){try{e(this).triggerHandler("remove")}catch(t){}}),r.call(e(this),t,n)})}}e.widget=function(t,n,r){var i=t.split(".")[0],s;t=t.split(".")[1],s=i+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][s]=function(n){return!!e.data(n,t)},e[i]=e[i]||{},e[i][t]=function(e,t){arguments.length&&this._createWidget(e,t)};var o=new n;o.options=e.extend(!0,{},o.options),e[i][t].prototype=e.extend(!0,o,{namespace:i,widgetName:t,widgetEventPrefix:e[i][t].prototype.widgetEventPrefix||t,widgetBaseClass:s},r),e.widget.bridge(t,e[i][t])},e.widget.bridge=function(n,r){e.fn[n]=function(i){var s=typeof i=="string",o=Array.prototype.slice.call(arguments,1),u=this;return i=!s&&o.length?e.extend.apply(null,[!0,i].concat(o)):i,s&&i.charAt(0)==="_"?u:(s?this.each(function(){var r=e.data(this,n),s=r&&e.isFunction(r[i])?r[i].apply(r,o):r;if(s!==r&&s!==t)return u=s,!1}):this.each(function(){var t=e.data(this,n);t?t.option(i||{})._init():e.data(this,n,new r(i,this))}),u)}},e.Widget=function(e,t){arguments.length&&this._createWidget(e,t)},e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(t,n){e.data(n,this.widgetName,this),this.element=e(n),this.options=e.extend(!0,{},this.options,this._getCreateOptions(),t);var r=this;this.element.bind("remove."+this.widgetName,function(){r.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(n,r){var i=n;if(arguments.length===0)return e.extend({},this.options);if(typeof n=="string"){if(r===t)return this.options[n];i={},i[n]=r}return this._setOptions(i),this},_setOptions:function(t){var n=this;return e.each(t,function(e,t){n._setOption(e,t)}),this},_setOption:function(e,t){return this.options[e]=t,e==="disabled"&&this.widget()[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",t),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(t,n,r){var i,s,o=this.options[t];r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent;if(s)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.call(this.element[0],n,r)===!1||n.isDefaultPrevented())}}}(jQuery),function(e,t){var n=!1;e(document).mouseup(function(e){n=!1}),e.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(n)return;this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var r=this,i=t.which==1,s=typeof this.options.cancel=="string"&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;if(!i||s||!this._mouseCapture(t))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=this._mouseStart(t)!==!1;if(!this._mouseStarted)return t.preventDefault(),!0}return!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return r._mouseMove(e)},this._mouseUpDelegate=function(e){return r._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),n=!0,!0},_mouseMove:function(t){return!e.browser.msie||document.documentMode>=9||!!t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target==this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(e){return this.mouseDelayMet},_mouseStart:function(e){},_mouseDrag:function(e){},_mouseStop:function(e){},_mouseCapture:function(e){return!0}})}(jQuery),function(e,t){e.widget("ui.draggable",e.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){if(!this.element.data("draggable"))return;return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(t){var n=this.options;return this.helper||n.disabled||e(t.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(t),this.handle?(n.iframeFix&&e(n.iframeFix===!0?"iframe":n.iframeFix).each(function(){e('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),n.containment&&this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,n){this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute");if(!n){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";return e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=!1;e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1);var r=this.element[0],i=!1;while(r&&(r=r.parentNode))r==document&&(i=!0);if(!i&&this.options.helper==="original")return!1;if(this.options.revert=="invalid"&&!n||this.options.revert=="valid"&&n||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)){var s=this;e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){s._trigger("stop",t)!==!1&&s._clear()})}else this._trigger("stop",t)!==!1&&this._clear();return!1},_mouseUp:function(t){return this.options.iframeFix===!0&&e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var n=!this.options.handle||!e(this.options.handle,this.element).length?!0:!1;return e(this.options.handle,this.element).find("*").andSelf().each(function(){this==t.target&&(n=!0)}),n},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):n.helper=="clone"?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo(n.appendTo=="parent"?this.element[0].parentNode:n.appendTo),r[0]!=this.element[0]&&!/(fixed|absolute)/.test(r.css("position"))&&r.css("position","absolute"),r},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&e.browser.msie)t={top:0,left:0};return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;t.containment=="parent"&&(t.containment=this.helper[0].parentNode);if(t.containment=="document"||t.containment=="window")this.containment=[t.containment=="document"?0:e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t.containment=="document"?0:e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(t.containment=="document"?0:e(window).scrollLeft())+e(t.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(t.containment=="document"?0:e(window).scrollTop())+(e(t.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(t.containment)&&t.containment.constructor!=Array){var n=e(t.containment),r=n[0];if(!r)return;var i=n.offset(),s=e(r).css("overflow")!="hidden";this.containment=[(parseInt(e(r).css("borderLeftWidth"),10)||0)+(parseInt(e(r).css("paddingLeft"),10)||0),(parseInt(e(r).css("borderTopWidth"),10)||0)+(parseInt(e(r).css("paddingTop"),10)||0),(s?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(e(r).css("borderLeftWidth"),10)||0)-(parseInt(e(r).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(s?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(e(r).css("borderTopWidth"),10)||0)-(parseInt(e(r).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n}else t.containment.constructor==Array&&(this.containment=t.containment)},_convertPositionTo:function(t,n){n||(n=this.position);var r=t=="absolute"?1:-1,i=this.options,s=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(s[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(e.browser.safari&&e.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():o?0:s.scrollTop())*r),left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(e.browser.safari&&e.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())*r)}},_generatePosition:function(t){var n=this.options,r=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(r[0].tagName),s=t.pageX,o=t.pageY;if(this.originalPosition){var u;if(this.containment){if(this.relative_container){var f=this.relative_container.offset();u=[this.containment[0]+f.left,this.containment[1]+f.top,this.containment[2]+f.left,this.containment[3]+f.top]}else u=this.containment;t.pageX-this.offset.click.left<u[0]&&(s=u[0]+this.offset.click.left),t.pageY-this.offset.click.top<u[1]&&(o=u[1]+this.offset.click.top),t.pageX-this.offset.click.left>u[2]&&(s=u[2]+this.offset.click.left),t.pageY-this.offset.click.top>u[3]&&(o=u[3]+this.offset.click.top)}if(n.grid){var l=n.grid[1]?this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1]:this.originalPageY;o=u?l-this.offset.click.top<u[1]||l-this.offset.click.top>u[3]?l-this.offset.click.top<u[1]?l+n.grid[1]:l-n.grid[1]:l:l;var c=n.grid[0]?this.originalPageX+Math.round((s-this.originalPageX)/n.grid[0])*n.grid[0]:this.originalPageX;s=u?c-this.offset.click.left<u[0]||c-this.offset.click.left>u[2]?c-this.offset.click.left<u[0]?c+n.grid[0]:c-n.grid[0]:c:c}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(e.browser.safari&&e.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():i?0:r.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(e.browser.safari&&e.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():i?0:r.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r]),t=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(e){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.extend(e.ui.draggable,{version:"1.8.23"}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n){var r=e(this).data("draggable"),i=r.options,s=e.extend({},n,{item:r.element});r.sortables=[],e(i.connectToSortable).each(function(){var n=e.data(this,"sortable");n&&!n.options.disabled&&(r.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",t,s))})},stop:function(t,n){var r=e(this).data("draggable"),i=e.extend({},n,{item:r.element});e.each(r.sortables,function(){this.instance.isOver?(this.instance.isOver=0,r.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,r.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,i))})},drag:function(t,n){var r=e(this).data("draggable"),i=this,s=function(t){var n=this.offset.click.top,r=this.offset.click.left,i=this.positionAbs.top,s=this.positionAbs.left,o=t.height,u=t.width,f=t.top,l=t.left;return e.ui.isOver(i+n,s+r,f,l,o,u)};e.each(r.sortables,function(s){this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(i).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",t),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",t),r.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n){var r=e("body"),i=e(this).data("draggable").options;r.css("cursor")&&(i._cursor=r.css("cursor")),r.css("cursor",i.cursor)},stop:function(t,n){var r=e(this).data("draggable").options;r._cursor&&e("body").css("cursor",r._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n){var r=e(n.helper),i=e(this).data("draggable").options;r.css("opacity")&&(i._opacity=r.css("opacity")),r.css("opacity",i.opacity)},stop:function(t,n){var r=e(
this).data("draggable").options;r._opacity&&e(n.helper).css("opacity",r._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(t,n){var r=e(this).data("draggable");r.scrollParent[0]!=document&&r.scrollParent[0].tagName!="HTML"&&(r.overflowOffset=r.scrollParent.offset())},drag:function(t,n){var r=e(this).data("draggable"),i=r.options,s=!1;if(r.scrollParent[0]!=document&&r.scrollParent[0].tagName!="HTML"){if(!i.axis||i.axis!="x")r.overflowOffset.top+r.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?r.scrollParent[0].scrollTop=s=r.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(r.scrollParent[0].scrollTop=s=r.scrollParent[0].scrollTop-i.scrollSpeed);if(!i.axis||i.axis!="y")r.overflowOffset.left+r.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?r.scrollParent[0].scrollLeft=s=r.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(r.scrollParent[0].scrollLeft=s=r.scrollParent[0].scrollLeft-i.scrollSpeed)}else{if(!i.axis||i.axis!="x")t.pageY-e(document).scrollTop()<i.scrollSensitivity?s=e(document).scrollTop(e(document).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<i.scrollSensitivity&&(s=e(document).scrollTop(e(document).scrollTop()+i.scrollSpeed));if(!i.axis||i.axis!="y")t.pageX-e(document).scrollLeft()<i.scrollSensitivity?s=e(document).scrollLeft(e(document).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<i.scrollSensitivity&&(s=e(document).scrollLeft(e(document).scrollLeft()+i.scrollSpeed))}s!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(r,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n){var r=e(this).data("draggable"),i=r.options;r.snapElements=[],e(i.snap.constructor!=String?i.snap.items||":data(draggable)":i.snap).each(function(){var t=e(this),n=t.offset();this!=r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n){var r=e(this).data("draggable"),i=r.options,s=i.snapTolerance,o=n.offset.left,u=o+r.helperProportions.width,f=n.offset.top,l=f+r.helperProportions.height;for(var c=r.snapElements.length-1;c>=0;c--){var h=r.snapElements[c].left,p=h+r.snapElements[c].width,d=r.snapElements[c].top,v=d+r.snapElements[c].height;if(!(h-s<o&&o<p+s&&d-s<f&&f<v+s||h-s<o&&o<p+s&&d-s<l&&l<v+s||h-s<u&&u<p+s&&d-s<f&&f<v+s||h-s<u&&u<p+s&&d-s<l&&l<v+s)){r.snapElements[c].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[c].item})),r.snapElements[c].snapping=!1;continue}if(i.snapMode!="inner"){var m=Math.abs(d-l)<=s,g=Math.abs(v-f)<=s,y=Math.abs(h-u)<=s,b=Math.abs(p-o)<=s;m&&(n.position.top=r._convertPositionTo("relative",{top:d-r.helperProportions.height,left:0}).top-r.margins.top),g&&(n.position.top=r._convertPositionTo("relative",{top:v,left:0}).top-r.margins.top),y&&(n.position.left=r._convertPositionTo("relative",{top:0,left:h-r.helperProportions.width}).left-r.margins.left),b&&(n.position.left=r._convertPositionTo("relative",{top:0,left:p}).left-r.margins.left)}var w=m||g||y||b;if(i.snapMode!="outer"){var m=Math.abs(d-f)<=s,g=Math.abs(v-l)<=s,y=Math.abs(h-o)<=s,b=Math.abs(p-u)<=s;m&&(n.position.top=r._convertPositionTo("relative",{top:d,left:0}).top-r.margins.top),g&&(n.position.top=r._convertPositionTo("relative",{top:v-r.helperProportions.height,left:0}).top-r.margins.top),y&&(n.position.left=r._convertPositionTo("relative",{top:0,left:h}).left-r.margins.left),b&&(n.position.left=r._convertPositionTo("relative",{top:0,left:p-r.helperProportions.width}).left-r.margins.left)}!r.snapElements[c].snapping&&(m||g||y||b||w)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[c].item})),r.snapElements[c].snapping=m||g||y||b||w}}}),e.ui.plugin.add("draggable","stack",{start:function(t,n){var r=e(this).data("draggable").options,i=e.makeArray(e(r.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});if(!i.length)return;var s=parseInt(i[0].style.zIndex)||0;e(i).each(function(e){this.style.zIndex=s+e}),this[0].style.zIndex=s+i.length}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n){var r=e(n.helper),i=e(this).data("draggable").options;r.css("zIndex")&&(i._zIndex=r.css("zIndex")),r.css("zIndex",i.zIndex)},stop:function(t,n){var r=e(this).data("draggable").options;r._zIndex&&e(n.helper).css("zIndex",r._zIndex)}})}(jQuery),function(e,t){e.widget("ui.resizable",e.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var t=this,n=this.options;this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=n.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor==String){this.handles=="all"&&(this.handles="n,e,s,w,se,sw,ne,nw");var r=this.handles.split(",");this.handles={};for(var i=0;i<r.length;i++){var s=e.trim(r[i]),o="ui-resizable-"+s,u=e('<div class="ui-resizable-handle '+o+'"></div>');u.css({zIndex:n.zIndex}),"se"==s&&u.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(u)}}this._renderAxis=function(t){t=t||this.element;for(var n in this.handles){this.handles[n].constructor==String&&(this.handles[n]=e(this.handles[n],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var r=e(this.handles[n],this.element),i=0;i=/sw|ne|nw|se|n|s/.test(n)?r.outerHeight():r.outerWidth();var s=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join("");t.css(s,i),this._proportionallyResize()}if(!e(this.handles[n]).length)continue}},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!t.resizing){if(this.className)var e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);t.axis=e&&e[1]?e[1]:"se"}}),n.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").hover(function(){if(n.disabled)return;e(this).removeClass("ui-resizable-autohide"),t._handles.show()},function(){if(n.disabled)return;t.resizing||(e(this).addClass("ui-resizable-autohide"),t._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var t=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){t(this.element);var n=this.element;n.after(this.originalElement.css({position:n.css("position"),width:n.outerWidth(),height:n.outerHeight(),top:n.css("top"),left:n.css("left")})).remove()}return this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var n=!1;for(var r in this.handles)e(this.handles[r])[0]==t.target&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var r=this.options,i=this.element.position(),s=this.element;this.resizing=!0,this.documentScroll={top:e(document).scrollTop(),left:e(document).scrollLeft()},(s.is(".ui-draggable")||/absolute/.test(s.css("position")))&&s.css({position:"absolute",top:i.top,left:i.left}),this._renderProxy();var o=n(this.helper.css("left")),u=n(this.helper.css("top"));r.containment&&(o+=e(r.containment).scrollLeft()||0,u+=e(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:o,top:u},this.size=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.originalPosition={left:o,top:u},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio=typeof r.aspectRatio=="number"?r.aspectRatio:this.originalSize.width/this.originalSize.height||1;var f=e(".ui-resizable-"+this.axis).css("cursor");return e("body").css("cursor",f=="auto"?this.axis+"-resize":f),s.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n=this.helper,r=this.options,i={},s=this,o=this.originalMousePosition,u=this.axis,f=t.pageX-o.left||0,l=t.pageY-o.top||0,c=this._change[u];if(!c)return!1;var h=c.apply(this,[t,f,l]),p=e.browser.msie&&e.browser.version<7,d=this.sizeDiff;this._updateVirtualBoundaries(t.shiftKey);if(this._aspectRatio||t.shiftKey)h=this._updateRatio(h,t);return h=this._respectSize(h,t),this._propagate("resize",t),n.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(h),this._trigger("resize",t,this.ui()),!1},_mouseStop:function(t){this.resizing=!1;var n=this.options,r=this;if(this._helper){var i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),o=s&&e.ui.hasScroll(i[0],"left")?0:r.sizeDiff.height,u=s?0:r.sizeDiff.width,f={width:r.helper.width()-u,height:r.helper.height()-o},l=parseInt(r.element.css("left"),10)+(r.position.left-r.originalPosition.left)||null,c=parseInt(r.element.css("top"),10)+(r.position.top-r.originalPosition.top)||null;n.animate||this.element.css(e.extend(f,{top:c,left:l})),r.helper.height(r.size.height),r.helper.width(r.size.width),this._helper&&!n.animate&&this._proportionallyResize()}return e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t=this.options,n,i,s,o,u;u={minWidth:r(t.minWidth)?t.minWidth:0,maxWidth:r(t.maxWidth)?t.maxWidth:Infinity,minHeight:r(t.minHeight)?t.minHeight:0,maxHeight:r(t.maxHeight)?t.maxHeight:Infinity};if(this._aspectRatio||e)n=u.minHeight*this.aspectRatio,s=u.minWidth/this.aspectRatio,i=u.maxHeight*this.aspectRatio,o=u.maxWidth/this.aspectRatio,n>u.minWidth&&(u.minWidth=n),s>u.minHeight&&(u.minHeight=s),i<u.maxWidth&&(u.maxWidth=i),o<u.maxHeight&&(u.maxHeight=o);this._vBoundaries=u},_updateCache:function(e){var t=this.options;this.offset=this.helper.offset(),r(e.left)&&(this.position.left=e.left),r(e.top)&&(this.position.top=e.top),r(e.height)&&(this.size.height=e.height),r(e.width)&&(this.size.width=e.width)},_updateRatio:function(e,t){var n=this.options,i=this.position,s=this.size,o=this.axis;return r(e.height)?e.width=e.height*this.aspectRatio:r(e.width)&&(e.height=e.width/this.aspectRatio),o=="sw"&&(e.left=i.left+(s.width-e.width),e.top=null),o=="nw"&&(e.top=i.top+(s.height-e.height),e.left=i.left+(s.width-e.width)),e},_respectSize:function(e,t){var n=this.helper,i=this._vBoundaries,s=this._aspectRatio||t.shiftKey,o=this.axis,u=r(e.width)&&i.maxWidth&&i.maxWidth<e.width,a=r(e.height)&&i.maxHeight&&i.maxHeight<e.height,f=r(e.width)&&i.minWidth&&i.minWidth>e.width,l=r(e.height)&&i.minHeight&&i.minHeight>e.height;f&&(e.width=i.minWidth),l&&(e.height=i.minHeight),u&&(e.width=i.maxWidth),a&&(e.height=i.maxHeight);var c=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,p=/sw|nw|w/.test(o),v=/nw|ne|n/.test(o);f&&p&&(e.left=c-i.minWidth),u&&p&&(e.left=c-i.maxWidth),l&&v&&(e.top=h-i.minHeight),a&&v&&(e.top=h-i.maxHeight);var m=!e.width&&!e.height;return m&&!e.left&&e.top?e.top=null:m&&!e.top&&e.left&&(e.left=null),e},_proportionallyResize:function(){var t=this.options;if(!this._proportionallyResizeElements.length)return;var n=this.helper||this.element;for(var r=0;r<this._proportionallyResizeElements.length;r++){var i=this._proportionallyResizeElements[r];if(!this.borderDif){var s=[i.css("borderTopWidth"),i.css("borderRightWidth"),i.css("borderBottomWidth"),i.css("borderLeftWidth")],o=[i.css("paddingTop"),i.css("paddingRight"),i.css("paddingBottom"),i.css("paddingLeft")];this.borderDif=e.map(s,function(e,t){var n=parseInt(e,10)||0,r=parseInt(o[t],10)||0;return n+r})}if(!(!e.browser.msie||!e(n).is(":hidden")&&!e(n).parents(":hidden").length))continue;i.css({height:n.height()-this.borderDif[0]-this.borderDif[2]||0,width:n.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset();if(this._helper){this.helper=this.helper||e('<div style="overflow:hidden;"></div>');var r=e.browser.msie&&e.browser.version<7,i=r?1:0,s=r?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+s,height:this.element.outerHeight()+s,position:"absolute",left:this.elementOffset.left-i+"px",top:this.elementOffset.top-i+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(e,t,n){return{width:this.originalSize.width+t}},w:function(e,t,n){var r=this.options,i=this.originalSize,s=this.originalPosition;return{left:s.left+t,width:i.width-t}},n:function(e,t,n){var r=this.options,i=this.originalSize,s=this.originalPosition;return{top:s.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},sw:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,r]))},ne:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},nw:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,r]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),t!="resize"&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.extend(e.ui.resizable,{version:"1.8.23"}),e.ui.plugin.add("resizable","alsoResize",{start:function(t,n){var r=e(this).data("resizable"),i=r.options,s=function(t){e(t).each(function(){var t=e(this);t.data("resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};typeof i.alsoResize=="object"&&!i.alsoResize.parentNode?i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):e.each(i.alsoResize,function(e){s(e)}):s(i.alsoResize)},resize:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.originalSize,o=r.originalPosition,u={height:r.size.height-s.height||0,width:r.size.width-s.width||0,top:r.position.top-o.top||0,left:r.position.left-o.left||0},f=function(t,r){e(t).each(function(){var t=e(this),i=e(this).data("resizable-alsoresize"),s={},o=r&&r.length?r:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var n=(i[t]||0)+(u[t]||0);n&&n>=0&&(s[t]=n||null)}),t.css(s)})};typeof i.alsoResize=="object"&&!i.alsoResize.nodeType?e.each(i.alsoResize,function(e,t){f(e,t)}):f(i.alsoResize)},stop:function(t,n){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","animate",{stop:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r._proportionallyResizeElements,o=s.length&&/textarea/i.test(s[0].nodeName),u=o&&e.ui.hasScroll(s[0],"left")?0:r.sizeDiff.height,f=o?0:r.sizeDiff.width,l={width:r.size.width-f,height:r.size.height-u},c=parseInt(r.element.css("left"),10)+(r.position.left-r.originalPosition.left)||null,h=parseInt(r.element.css("top"),10)+(r.position.top-r.originalPosition.top)||null;r.element.animate(e.extend(l,h&&c?{top:h,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var n={width:parseInt(r.element.css("width"),10),height:parseInt(r.element.css("height"),10),top:parseInt(r.element.css("top"),10),left:parseInt(r.element.css("left"),10)};s&&s.length&&e(s[0]).css({width:n.width,height:n.height}),r._updateCache(n),r._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(t,r){var i=e(this).data("resizable"),s=i.options,o=i.element,u=s.containment,f=u instanceof e?u.get(0):/parent/.test(u)?o.parent().get(0):u;if(!f)return;i.containerElement=e(f);if(/document/.test(u)||u==document)i.containerOffset={left:0,top:0},i.containerPosition={left:0,top:0},i.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight};else{var l=e(f),h=[];e(["Top","Right","Left","Bottom"]).each(function(e,t){h[e]=n(l.css("padding"+t))}),i.containerOffset=l.offset(),i.containerPosition=l.position(),i.containerSize={height:l.innerHeight()-h[3],width:l.innerWidth()-h[1]};var p=i.containerOffset,d=i.containerSize.height,v=i.containerSize.width,m=e.ui.hasScroll(f,"left")?f.scrollWidth:v,g=e.ui.hasScroll(f)?f.scrollHeight:d;i.parentData={element:f,left:p.left,top:p.top,width:m,height:g}}},resize:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.containerSize,o=r.containerOffset,u=r.size,f=r.position,l=r._aspectRatio||t.shiftKey,c={top:0,left:0},h=r.containerElement;h[0]!=document&&/static/.test(h.css("position"))&&(c=o),f.left<(r._helper?o.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-o.left:r.position.left-c.left),l&&(r.size.height=r.size.width/r.aspectRatio),r.position.left=i.helper?o.left:0),f.top<(r._helper?o.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-o.top:r.position.top),l&&(r.size.width=r.size.height*r.aspectRatio),r.position.top=r._helper?o.top:0),r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top;var p=Math.abs((r._helper?r.offset.left-c.left:r.offset.left-c.left)+r.sizeDiff.width),d=Math.abs((r._helper?r.offset.top-c.top:r.offset.top-o.top)+r.sizeDiff.height),v=r.containerElement.get(0)==r.element.parent().get(0),m=/relative|absolute/.test(r.containerElement.css("position"));v&&m&&(p-=r.parentData.left),p+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-p,l&&(r.size.height=r.size.width/r.aspectRatio)),d+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-d,l&&(r.size.width=r.size.height*r.aspectRatio))},stop:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.position,o=r.containerOffset,u=r.containerPosition,f=r.containerElement,l=e(r.helper),c=l.offset(),h=l.outerWidth()-r.sizeDiff.width,p=l.outerHeight()-r.sizeDiff.height;r._helper&&!i.animate&&/relative/.test(f.css("position"))&&e(this).css({left:c.left-u.left-o.left,width:h,height:p}),r._helper&&!i.animate&&/static/.test(f.css("position"))&&e(this).css({left:c.left-u.left-o.left,width:h,height:p})}}),e.ui.plugin.add("resizable","ghost",{start:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.size;r.ghost=r.originalElement.clone(),r.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof i.ghost=="string"?i.ghost:""),r.ghost.appendTo(r.helper)},resize:function(t,n){var r=e(this).data("resizable"),i=r.options;r.ghost&&r.ghost.css({position:"relative",height:r.size.height,width:r.size.width})},stop:function(t,n){var r=e(this).data("resizable"),i=r.options;r.ghost&&r.helper&&r.helper.get(0).removeChild(r.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.size,o=r.originalSize,u=r.originalPosition,f=r.axis,l=i._aspectRatio||t.shiftKey;i.grid=typeof i.grid=="number"?[i.grid,i.grid]:i.grid;var c=Math.round((s.width-o.width)/(i.grid[0]||1))*(i.grid[0]||1),h=Math.round((s.height-o.height)/(i.grid[1]||1))*(i.grid[1]||1);/^(se|s|e)$/.test(f)?(r.size.width=o.width+c,r.size.height=o.height+h):/^(ne)$/.test(f)?(r.size.width=o.width+c,r.size.height=o.height+h,r.position.top=u.top-h):/^(sw)$/.test(f)?(r.size.width=o.width+c,r.size.height=o.height+h,r.position.left=u.left-c):(r.size.width=o.width+c,r.size.height=o.height+h,r.position.top=u.top-h,r.position.left=u.left-c)}});var n=function(e){return parseInt(e,10)||0},r=function(e){return!isNaN(parseInt(e,10))}}(jQuery),function(){function e(e,t){var n;e||(e={});for(n in t)e[n]=t[n];return e}function t(){for(var e=0,t=arguments,n=t.length,r={};e<n;e++)r[t[e++]]=t[e];return r}function n(e,t){return parseInt(e,t||10)}function r(e){return typeof e=="string"}function i(e){return typeof e=="object"}function s(e){return Object.prototype.toString.call(e)==="[object Array]"}function o(e){return typeof e=="number"}function u(e){return W.log(e)/W.LN10}function a(e){return W.pow(10,e)}function f(e,t){for(var n=e.length;n--;)if(e[n]===t){e.splice(n,1);break}}function l(e){return e!==R&&e!==null}function c(e,t,n){var s,o;if(r(t))l(n)?e.setAttribute(t,n):e&&e.getAttribute&&(o=e.getAttribute(t));else if(l(t)&&i(t))for(s in t)e.setAttribute(s,t[s]);return o}function h(e){return s(e)?e:[e]}function p(){var e=arguments,t,n,r=e.length;for(t=0;t<r;t++)if(n=e[t],typeof n!="undefined"&&n!==null)return n}function d(t,n){rt&&n&&n.opacity!==R&&(n.filter="alpha(opacity="+n.opacity*100+")"),e(t.style,n)}function v(t,n,r,i,s){return t=U.createElement(t),n&&e(t,n),s&&d(t,{padding:0,border:xt,margin:0}),r&&d(t,r),i&&i.appendChild(t),t}function m(t,n){var r=function(){};return r.prototype=new t,e(r.prototype,n),r}function g(e,t,r,i){var s=mt.lang,o=e;t===-1?(t=(e||0).toString(),e=t.indexOf(".")>-1?t.split(".")[1].length:0):e=isNaN(t=Q(t))?2:t;var t=e,r=r===void 0?s.decimalPoint:r,i=i===void 0?s.thousandsSep:i,s=o<0?"-":"",e=String(n(o=Q(+o||0).toFixed(t))),u=e.length>3?e.length%3:0;return s+(u?e.substr(0,u)+i:"")+e.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+i)+(t?r+Q(o-e).toFixed(t).slice(2):"")}function y(e,t){return Array((t||2)+1-String(e).length).join(0)+e}function b(e,t,n,r){var i,n=p(n,1);i=e/n,t||(t=[1,2,2.5,5,10],r&&r.allowDecimals===!1&&(n===1?t=[1,2,5,10]:n<=.1&&(t=[1/n])));for(r=0;r<t.length;r++)if(e=t[r],i<=(t[r]+(t[r+1]||t[r]))/2)break;return e*=n,e}function w(e,t){var n=t||[[Nt,[1,2,5,10,20,25,50,100,200,500]],[Ct,[1,2,5,10,15,30]],[kt,[1,2,5,10,15,30]],[Lt,[1,2,3,4,6,8,12]],[At,[1,2]],[Ot,[1,2]],[Mt,[1,2,3,4,6]],[_t,null]],r=n[n.length-1],i=wt[r[0]],s=r[1],o;for(o=0;o<n.length;o++)if(r=n[o],i=wt[r[0]],s=r[1],n[o+1]&&e<=(i*s[s.length-1]+wt[n[o+1][0]])/2)break;return i===wt[_t]&&e<5*i&&(s=[1,2,5]),i===wt[_t]&&e<5*i&&(s=[1,2,5]),n=b(e/i,s),{unitRange:i,count:n,unitName:r[0]}}function E(t,n,r,i){var s=[],o={},u=mt.global.useUTC,a,f=new Date(n),n=t.unitRange,l=t.count;n>=wt[Ct]&&(f.setMilliseconds(0),f.setSeconds(n>=wt[kt]?0:l*V(f.getSeconds()/l))),n>=wt[kt]&&f[qt](n>=wt[Lt]?0:l*V(f[Pt]()/l)),n>=wt[Lt]&&f[Rt](n>=wt[At]?0:l*V(f[Ht]()/l)),n>=wt[At]&&f[Ut](n>=wt[Mt]?1:l*V(f[jt]()/l)),n>=wt[Mt]&&(f[zt](n>=wt[_t]?0:l*V(f[Ft]()/l)),a=f[It]()),n>=wt[_t]&&(a-=a%l,f[Wt](a)),n===wt[Ot]&&f[Ut](f[jt]()-f[Bt]()+p(i,1)),i=1,a=f[It]();for(var c=f.getTime(),h=f[Ft](),d=f[jt](),f=u?0:(864e5+f.getTimezoneOffset()*6e4)%864e5;c<r;)s.push(c),n===wt[_t]?c=Dt(a+i*l,0):n===wt[Mt]?c=Dt(a,h+i*l):!!u||n!==wt[At]&&n!==wt[Ot]?(c+=n*l,n<=wt[Lt]&&c%wt[At]===f&&(o[c]=At)):c=Dt(a,h,d+i*l*(n===wt[At]?1:7)),i++;return s.push(c),s.info=e(t,{higherRanks:o,totalRange:n*l}),s}function S(){this.symbol=this.color=0}function x(e,t){var n=e.length,r,i;for(i=0;i<n;i++)e[i].ss_i=i;e.sort(function(e,n){return r=t(e,n),r===0?e.ss_i-n.ss_i:r});for(i=0;i<n;i++)delete e[i].ss_i}function T(e){for(var t=e.length,n=e[0];t--;)e[t]<n&&(n=e[t]);return n}function N(e){for(var t=e.length,n=e[0];t--;)e[t]>n&&(n=e[t]);return n}function C(e,t){for(var n in e)e[n]&&e[n]!==t&&e[n].destroy&&e[n].destroy(),delete e[n]}function k(e){vt||(vt=v(St)),e&&vt.appendChild(e),vt.innerHTML=""}function L(e,t){var n="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t)throw n;z.console&&console.log(n)}function A(e){return parseFloat(e.toPrecision(14))}function O(e,t){yt=p(e,t.animation)}function M(){var e=mt.global.useUTC,t=e?"getUTC":"get",n=e?"setUTC":"set";Dt=e?Date.UTC:function(e,t,n,r,i,s){return(new Date(e,t,p(n,1),p(r,0),p(i,0),p(s,0))).getTime()},Pt=t+"Minutes",Ht=t+"Hours",Bt=t+"Day",jt=t+"Date",Ft=t+"Month",It=t+"FullYear",qt=n+"Minutes",Rt=n+"Hours",Ut=n+"Date",zt=n+"Month",Wt=n+"FullYear"}function _(){}function D(e,t,n){this.axis=e,this.pos=t,this.type=n||"",this.isNew=!0,n||this.addLabel()}function P(e,t){return this.axis=e,t&&(this.options=t,this.id=t.id),this}function H(e,t,n,r,i,s){var o=e.chart.inverted;this.axis=e,this.isNegative=n,this.options=t,this.x=r,this.stack=i,this.percent=s==="percent",this.alignOptions={align:t.align||(o?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(o?"middle":n?"bottom":"top"),y:p(t.y,o?4:n?14:-6),x:p(t.x,o?n?-6:6:0)},this.textAlign=t.textAlign||(o?n?"right":"left":"center")}function B(){this.init.apply(this,arguments)}function j(e,t){var r=t.borderWidth,i=t.style,s=n(i.padding);this.chart=e,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=e.renderer.label("",0,0,t.shape,null,null,t.useHTML,null,"tooltip").attr({padding:s,fill:t.backgroundColor,"stroke-width":r,r:t.borderRadius,zIndex:8}).css(i).css({padding:0}).hide().add(),lt||this.label.shadow(t.shadow),this.shared=t.shared}function F(e,t){var n=lt?"":t.chart.zoomType;this.zoomX=/x/.test(n),this.zoomY=/y/.test(n),this.options=t,this.chart=e,this.init(e,t.tooltip)}function I(e){this.init(e)}function q(e,t){var n,r=e.series;e.series=null,n=tn(mt,e),n.series=e.series=r;var r=n.chart,s=r.margin,s=i(s)?s:[s,s,s,s];this.optionsMarginTop=p(r.marginTop,s[0]),this.optionsMarginRight=p(r.marginRight,s[1]),this.optionsMarginBottom=p(r.marginBottom,s[2]),this.optionsMarginLeft=p(r.marginLeft,s[3]),this.runChartClick=(s=r.events)&&!!s.click,this.callback=t,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=r.showAxes,this.init(s)}var R,U=document,z=window,W=Math,X=W.round,V=W.floor,$=W.ceil,J=W.max,K=W.min,Q=W.abs,G=W.cos,Y=W.sin,Z=W.PI,et=Z*2/360,tt=navigator.userAgent,nt=z.opera,rt=/msie/i.test(tt)&&!nt,it=U.documentMode===8,st=/AppleWebKit/.test(tt),ot=/Firefox/.test(tt),ut="http://www.w3.org/2000/svg",at=!!U.createElementNS&&!!U.createElementNS(ut,"svg").createSVGRect,ft=ot&&parseInt(tt.split("Firefox/")[1],10)<4,lt=!at&&!rt&&!!U.createElement("canvas").getContext,ct,ht=U.documentElement.ontouchstart!==R,pt={},dt=0,vt,mt,gt,yt,bt,wt,Et=function(){},St="div",xt="none",Tt="rgba(192,192,192,"+(at?1e-6:.002)+")",Nt="millisecond",Ct="second",kt="minute",Lt="hour",At="day",Ot="week",Mt="month",_t="year",Dt,Pt,Ht,Bt,jt,Ft,It,qt,Rt,Ut,zt,Wt,Xt={};z.Highcharts={},gt=function(e,t,n){if(!l(t)||isNaN(t))return"Invalid date";var e=p(e,"%Y-%m-%d %H:%M:%S"),r=new Date(t),i,s=r[Ht](),o=r[Bt](),u=r[jt](),a=r[Ft](),f=r[It](),c=mt.lang,h=c.weekdays,t={a:h[o].substr(0,3),A:h[o],d:y(u),e:u,b:c.shortMonths[a],B:c.months[a],m:y(a+1),y:f.toString().substr(2,2),Y:f,H:y(s),I:y(s%12||12),l:s%12||12,M:y(r[Pt]()),p:s<12?"AM":"PM",P:s<12?"am":"pm",S:y(r.getSeconds()),L:y(X(t%1e3),3)};for(i in t)e=e.replace("%"+i,t[i]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e},S.prototype={wrapColor:function(e){this.color>=e&&(this.color=0)},wrapSymbol:function(e){this.symbol>=e&&(this.symbol=0)}},wt=t(Nt,1,Ct,1e3,kt,6e4,Lt,36e5,At,864e5,Ot,6048e5,Mt,2592e6,_t,31556952e3),bt={init:function(e,t,n){var t=t||"",r=e.shift,i=t.indexOf("C")>-1,s=i?7:3,o,t=t.split(" "),n=[].concat(n),u,a,f=function(e){for(o=e.length;o--;)e[o]==="M"&&e.splice(o+1,0,e[o+1],e[o+2],e[o+1],e[o+2])};i&&(f(t),f(n)),e.isArea&&(u=t.splice(t.length-6,6),a=n.splice(n.length-6,6));if(r<=n.length/s)for(;r--;)n=[].concat(n).splice(0,s).concat(n);e.shift=0;if(t.length)for(e=n.length;t.length<e;)r=[].concat(t).splice(t.length-s,s),i&&(r[s-6]=r[s-2],r[s-5]=r[s-1]),t=t.concat(r);return u&&(t=t.concat(u),n=n.concat(a)),[t,n]},step:function(e,t,n,r){var i=[],s=e.length;if(n===1)i=r;else if(s===t.length&&n<1)for(;s--;)r=parseFloat(e[s]),i[s]=isNaN(r)?e[s]:n*parseFloat(t[s]-r)+r;else i=t;return i}},function(t){z.HighchartsAdapter=z.HighchartsAdapter||t&&{init:function(e){var n=t.fx,r=n.step,i,s=t.Tween,o=s&&s.propHooks;t.extend(t.easing,{easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n}}),t.each(["cur","_default","width","height"],function(e,t){var i=r,u,a;t==="cur"?i=n.prototype:t==="_default"&&s&&(i=o[t],t="set"),(u=i[t])&&(i[t]=function(n){return n=e?n:this,a=n.elem,a.attr?a.attr(n.prop,t==="cur"?R:n.now):u.apply(this,arguments)})}),i=function(t){var n=t.elem,r;t.started||(r=e.init(n,n.d,n.toD),t.start=r[0],t.end=r[1],t.started=!0),n.attr("d",e.step(t.start,t.end,t.pos,n.toD))},s?o.d={set:i}:r.d=i,this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){for(var n=0,r=e.length;n<r;n++)if(t.call(e[n],e[n],n,e)===!1)return n}},getScript:t.getScript,inArray:t.inArray,adapterRun:function(e,n){return t(e)[n]()},grep:t.grep,map:function(e,t){for(var n=[],r=0,i=e.length;r<i;r++)n[r]=t.call(e[r],e[r],r,e);return n},merge:function(){var e=arguments;return t.extend(!0,null,e[0],e[1],e[2],e[3])},offset:function(e){return t(e).offset()},addEvent:function(e,n,r){t(e).bind(n,r)},removeEvent:function(e,n,r){var i=U.removeEventListener?"removeEventListener":"detachEvent";U[i]&&!e[i]&&(e[i]=function(){}),t(e).unbind(n,r)},fireEvent:function(n,r,i,s){var o=t.Event(r),u="detached"+r,a;!rt&&i&&(delete i.layerX,delete i.layerY),e(o,i),n[r]&&(n[u]=n[r],n[r]=null),t.each(["preventDefault","stopPropagation"],function(e,t){var n=o[t];o[t]=function(){try{n.call(o)}catch(e){t==="preventDefault"&&(a=!0)}}}),t(n).trigger(o),n[u]&&(n[r]=n[u],n[u]=null),s&&!o.isDefaultPrevented()&&!a&&s(o)},washMouseEvent:function(e){var t=e.originalEvent||e;return t.pageX===R&&(t.pageX=e.pageX,t.pageY=e.pageY),t},animate:function(e,n,r){var i=t(e);n.d&&(e.toD=n.d,n.d=1),i.stop(),i.animate(n,r)},stop:function(e){t(e).stop()}}}(z.jQuery);var Vt=z.HighchartsAdapter,$t=Vt||{};Vt&&Vt.init.call(Vt,bt);var Jt=$t.adapterRun,Kt=$t.getScript,Qt=$t.inArray,Gt=$t.each,Yt=$t.grep,Zt=$t.offset,en=$t.map,tn=$t.merge,nn=$t.addEvent,rn=$t.removeEvent,sn=$t.fireEvent,on=$t.washMouseEvent,un=$t.animate,an=$t.stop,$t={enabled:!0,align:"center",x:0,y:15,style:{color:"#666",fontSize:"11px",lineHeight:"14px"}};mt={colors:"#4572A7,#AA4643,#89A54E,#80699B,#3D96AE,#DB843D,#92A8CD,#A47D7C,#B5CA92".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/2.3.3/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/2.3.3/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop
:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",y:15,style:{color:"#3E576F",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,shadow:!0,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:tn($t,{enabled:!1,formatter:function(){return this.y},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#3E576F",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#3E576F",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,shared:lt,snap:ht?25:10,style:{color:"#333333",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"10px"}}};var fn=mt.plotOptions,Vt=fn.line;M();var ln=function(e){var t=[],r;return function(e){(r=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(e))?t=[n(r[1]),n(r[2]),n(r[3]),parseFloat(r[4],10)]:(r=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))&&(t=[n(r[1],16),n(r[2],16),n(r[3],16),1])}(e),{get:function(n){return t&&!isNaN(t[0])?n==="rgb"?"rgb("+t[0]+","+t[1]+","+t[2]+")":n==="a"?t[3]:"rgba("+t.join(",")+")":e},brighten:function(e){if(o(e)&&e!==0){var r;for(r=0;r<3;r++)t[r]+=n(e*255),t[r]<0&&(t[r]=0),t[r]>255&&(t[r]=255)}return this},setOpacity:function(e){return t[3]=e,this}}};_.prototype={init:function(e,t){this.element=t==="span"?v(t):U.createElementNS(ut,t),this.renderer=e,this.attrSetters={}},animate:function(e,t,n){t=p(t,yt,!0),an(this),t?(t=tn(t),n&&(t.complete=n),un(this,e,t)):(this.attr(e),n&&n())},attr:function(e,t){var i,s,o,u,a=this.element,f=a.nodeName.toLowerCase(),h=this.renderer,p,d=this.attrSetters,v=this.shadows,m,g,y=this;r(e)&&l(t)&&(i=e,e={},e[i]=t);if(r(e))i=e,f==="circle"?i={x:"cx",y:"cy"}[i]||i:i==="strokeWidth"&&(i="stroke-width"),y=c(a,i)||this[i]||0,i!=="d"&&i!=="visibility"&&(y=parseFloat(y));else for(i in e)if(p=!1,s=e[i],o=d[i]&&d[i].call(this,s,i),o!==!1){o!==R&&(s=o);if(i==="d")s&&s.join&&(s=s.join(" ")),/(NaN| {2}|^$)/.test(s)&&(s="M 0 0");else if(i==="x"&&f==="text"){for(o=0;o<a.childNodes.length;o++)u=a.childNodes[o],c(u,"x")===c(a,"x")&&c(u,"x",s);this.rotation&&c(a,"transform","rotate("+this.rotation+" "+s+" "+n(e.y||c(a,"y"))+")")}else if(i==="fill")s=h.color(s,a,i);else if(f!=="circle"||i!=="x"&&i!=="y")if(f==="rect"&&i==="r")c(a,{rx:s,ry:s}),p=!0;else if(i==="translateX"||i==="translateY"||i==="rotation"||i==="verticalAlign")p=g=!0;else if(i==="stroke")s=h.color(s,a,i);else if(i==="dashstyle"){if(i="stroke-dasharray",s=s&&s.toLowerCase(),s==="solid")s=xt;else if(s){s=s.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(o=s.length;o--;)s[o]=n(s[o])*e["stroke-width"];s=s.join(",")}}else i==="isTracker"?this[i]=s:i==="width"?s=n(s):i==="align"?(i="text-anchor",s={left:"start",center:"middle",right:"end"}[s]):i==="title"&&(o=a.getElementsByTagName("title")[0],o||(o=U.createElementNS(ut,"title"),a.appendChild(o)),o.textContent=s);else i={x:"cx",y:"cy"}[i]||i;i==="strokeWidth"&&(i="stroke-width"),st&&i==="stroke-width"&&s===0&&(s=1e-6),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(i)&&(m||(this.symbolAttr(e),m=!0),p=!0);if(v&&/^(width|height|visibility|x|y|d|transform)$/.test(i))for(o=v.length;o--;)c(v[o],i,i==="height"?J(s-(v[o].cutHeight||0),0):s);(i==="width"||i==="height")&&f==="rect"&&s<0&&(s=0),this[i]=s,g&&this.updateTransform(),i==="text"?(s!==this.textStr&&delete this.bBox,this.textStr=s,this.added&&h.buildText(this)):p||c(a,i,s)}return y},symbolAttr:function(e){var t=this;Gt("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(n){t[n]=p(e[n],t[n])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":xt)},crisp:function(e,t,n,r,i){var s,o={},u={},a,e=e||this.strokeWidth||this.attr&&this.attr("stroke-width")||0;a=X(e)%2/2,u.x=V(t||this.x||0)+a,u.y=V(n||this.y||0)+a,u.width=V((r||this.width||0)-2*a),u.height=V((i||this.height||0)-2*a),u.strokeWidth=e;for(s in u)this[s]!==u[s]&&(this[s]=o[s]=u[s]);return o},css:function(t){var n=this.element,n=t&&t.width&&n.nodeName.toLowerCase()==="text",r,i="",s=function(e,t){return"-"+t.toLowerCase()};t&&t.color&&(t.fill=t.color),this.styles=t=e(this.styles,t),lt&&n&&delete t.width;if(rt&&!at)n&&delete t.width,d(this.element,t);else{for(r in t)i+=r.replace(/([A-Z])/g,s)+":"+t[r]+";";this.attr({style:i})}return n&&this.added&&this.renderer.buildText(this),this},on:function(e,t){var n=t;return ht&&e==="click"&&(e="touchstart",n=function(e){e.preventDefault(),t()}),this.element["on"+e]=n,this},setRadialReference:function(e){return this.element.radialReference=e,this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){return this.inverted=!0,this.updateTransform(),this},htmlCss:function(t){var n=this.element;if(n=t&&n.tagName==="SPAN"&&t.width)delete t.width,this.textWidth=n,this.updateTransform();return this.styles=e(this.styles,t),d(this.element,t),this},htmlGetBBox:function(){var e=this.element,t=this.bBox;return t||(e.nodeName==="text"&&(e.style.position="absolute"),t=this.bBox={x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}),t},htmlUpdateTransform:function(){if(this.added){var e=this.renderer,t=this.element,r=this.translateX||0,i=this.translateY||0,s=this.x||0,o=this.y||0,u=this.textAlign||"left",a={left:0,center:.5,right:1}[u],f=u&&u!=="left",c=this.shadows;if(r||i)d(t,{marginLeft:r,marginTop:i}),c&&Gt(c,function(e){d(e,{marginLeft:r+1,marginTop:i+1})});this.inverted&&Gt(t.childNodes,function(n){e.invertChild(n,t)});if(t.tagName==="SPAN"){var h,v,c=this.rotation,m,g=0,y=1,g=0,b;m=n(this.textWidth);var w=this.xCorr||0,E=this.yCorr||0,S=[c,u,t.innerHTML,this.textWidth].join(",");h={},S!==this.cTT&&(l(c)&&(e.isSVG?(w=rt?"-ms-transform":st?"-webkit-transform":ot?"MozTransform":nt?"-o-transform":"",h[w]=h.transform="rotate("+c+"deg)"):(g=c*et,y=G(g),g=Y(g),h.filter=c?["progid:DXImageTransform.Microsoft.Matrix(M11=",y,", M12=",-g,", M21=",g,", M22=",y,", sizingMethod='auto expand')"].join(""):xt),d(t,h)),h=p(this.elemWidth,t.offsetWidth),v=p(this.elemHeight,t.offsetHeight),h>m&&/[ \-]/.test(t.innerText)&&(d(t,{width:m+"px",display:"block",whiteSpace:"normal"}),h=m),m=e.fontMetrics(t.style.fontSize).b,w=y<0&&-h,E=g<0&&-v,b=y*g<0,w+=g*m*(b?1-a:a),E-=y*m*(c?b?a:1-a:1),f&&(w-=h*a*(y<0?-1:1),c&&(E-=v*a*(g<0?-1:1)),d(t,{textAlign:u})),this.xCorr=w,this.yCorr=E),d(t,{left:s+w+"px",top:o+E+"px"}),this.cTT=S}}else this.alignOnAdd=!0},updateTransform:function(){var e=this.translateX||0,t=this.translateY||0,n=this.inverted,r=this.rotation,i=[];n&&(e+=this.attr("width"),t+=this.attr("height")),(e||t)&&i.push("translate("+e+","+t+")"),n?i.push("rotate(90) scale(-1,1)"):r&&i.push("rotate("+r+" "+(this.x||0)+" "+(this.y||0)+")"),i.length&&c(this.element,"transform",i.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,n){e?(this.alignOptions=e,this.alignByTranslate=t,n||this.renderer.alignedObjects.push(this)):(e=this.alignOptions,t=this.alignByTranslate);var n=p(n,this.renderer),r=e.align,i=e.verticalAlign,s=(n.x||0)+(e.x||0),o=(n.y||0)+(e.y||0),u={};if(r==="right"||r==="center")s+=(n.width-(e.width||0))/{right:1,center:2}[r];u[t?"translateX":"x"]=X(s);if(i==="bottom"||i==="middle")o+=(n.height-(e.height||0))/({bottom:1,middle:2}[i]||1);return u[t?"translateY":"y"]=X(o),this[this.placed?"animate":"attr"](u),this.placed=!0,this.alignAttr=u,this},getBBox:function(){var t=this.bBox,n=this.renderer,r,i=this.rotation,s=this.element,o=this.styles,u=i*et;if(!t){if(s.namespaceURI===ut||n.forExport){try{t=s.getBBox?e({},s.getBBox()):{width:s.offsetWidth,height:s.offsetHeight}}catch(a){}if(!t||t.width<0)t={width:0,height:0}}else t=this.htmlGetBBox();n.isSVG&&(n=t.width,r=t.height,i)&&(t.width=Q(r*Y(u))+Q(n*G(u)),t.height=Q(r*G(u))+Q(n*Y(u))),rt&&o&&o.fontSize==="11px"&&r===22.700000762939453&&(t.height=14),this.bBox=t}return t},show:function(){return this.attr({visibility:"visible"})},hide:function(){return this.attr({visibility:"hidden"})},add:function(e){var t=this.renderer,r=e||t,i=r.element||t.box,s=i.childNodes,o=this.element,u=c(o,"zIndex"),a;e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,this.textStr!==void 0&&t.buildText(this),u&&(r.handleZ=!0,u=n(u));if(r.handleZ)for(r=0;r<s.length;r++)if(e=s[r],t=c(e,"zIndex"),e!==o&&(n(t)>u||!l(u)&&l(t))){i.insertBefore(o,e),a=!0;break}return a||i.appendChild(o),this.added=!0,sn(this,"add"),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e=this,t=e.element||{},n=e.shadows,r,i;t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=null,an(e),e.clipPath&&(e.clipPath=e.clipPath.destroy());if(e.stops){for(i=0;i<e.stops.length;i++)e.stops[i]=e.stops[i].destroy();e.stops=null}e.safeRemoveChild(t),n&&Gt(n,function(t){e.safeRemoveChild(t)}),f(e.renderer.alignedObjects,e);for(r in e)delete e[r];return null},empty:function(){for(var e=this.element,t=e.childNodes,n=t.length;n--;)e.removeChild(t[n])},shadow:function(e,t,n){var r=[],i,s,o=this.element,u,a,f,l;if(e){a=p(e.width,3),f=(e.opacity||.15)/a,l=this.parentInverted?"(-1,-1)":"("+p(e.offsetX,1)+", "+p(e.offsetY,1)+")";for(i=1;i<=a;i++)s=o.cloneNode(0),u=a*2+1-2*i,c(s,{isShadow:"true",stroke:e.color||"black","stroke-opacity":f*i,"stroke-width":u,transform:"translate"+l,fill:xt}),n&&(c(s,"height",J(c(s,"height")-u,0)),s.cutHeight=u),t?t.element.appendChild(s):o.parentNode.insertBefore(s,o),r.push(s);this.shadows=r}return this}};var cn=function(){this.init.apply(this,arguments)};cn.prototype={Element:_,init:function(e,t,n,r){var i=location,s;s=this.createElement("svg").attr({xmlns:ut,version:"1.1"}),e.appendChild(s.element),this.isSVG=!0,this.box=s.element,this.boxWrapper=s,this.alignedObjects=[],this.url=(ot||st)&&U.getElementsByTagName("base").length?i.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.defs=this.createElement("defs").add(),this.forExport=r,this.gradients={},this.setSize(t,n,!1);var o;ot&&e.getBoundingClientRect&&(this.subPixelFix=t=function(){d(e,{left:0,top:0}),o=e.getBoundingClientRect(),d(e,{left:$(o.left)-o.left+"px",top:$(o.top)-o.top+"px"})},t(),nn(z,"resize",t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),C(this.gradients||{}),this.gradients=null,e&&(this.defs=e.destroy()),this.subPixelFix&&rn(z,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:function(){},buildText:function(e){for(var t=e.element,r=p(e.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),i=t.childNodes,s=/style="([^"]+)"/,o=/href="([^"]+)"/,u=c(t,"x"),a=e.styles,f=a&&a.width&&n(a.width),l=a&&a.lineHeight,h,a=i.length,v=[];a--;)t.removeChild(i[a]);f&&!e.added&&this.box.appendChild(t),r[r.length-1]===""&&r.pop(),Gt(r,function(r,i){var a,p=0,m,r=r.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");a=r.split("|||"),Gt(a,function(r){if(r!==""||a.length===1){var g={},y=U.createElementNS(ut,"tspan"),b;s.test(r)&&(b=r.match(s)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),c(y,"style",b)),o.test(r)&&(c(y,"onclick",'location.href="'+r.match(o)[1]+'"'),d(y,{cursor:"pointer"})),r=(r.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"),y.appendChild(U.createTextNode(r)),p?g.dx=3:g.x=u;if(!p){if(i){!at&&e.renderer.forExport&&d(y,{display:"block"}),m=z.getComputedStyle&&n(z.getComputedStyle(h,null).getPropertyValue("line-height"));if(!m||isNaN(m)){var w;(w=l)||(w=h.offsetHeight)||(v[i]=t.getBBox?t.getBBox().height:e.renderer.fontMetrics(t.style.fontSize).h,w=X(v[i]-(v[i-1]||0))||18),m=w}c(y,"dy",m)}h=y}c(y,g),t.appendChild(y),p++;if(f)for(var r=r.replace(/([^\^])-/g,"$1- ").split(" "),E=[];r.length||E.length;)delete e.bBox,w=e.getBBox().width,g=w>f,!g||r.length===1?(r=E,E=[],r.length&&(y=U.createElementNS(ut,"tspan"),c(y,{dy:l||16,x:u}),b&&c(y,"style",b),t.appendChild(y),w>f&&(f=w))):(y.removeChild(y.firstChild),E.unshift(r.pop())),r.length&&y.appendChild(U.createTextNode(r.join(" ").replace(/- /g,"-")))}})})},button:function(n,r,i,s,o,u,a){var f=this.label(n,r,i),l=0,c,h,p,d,v,n={x1:0,y1:0,x2:0,y2:1},o=tn(t("stroke-width",1,"stroke","#999","fill",t("linearGradient",n,"stops",[[0,"#FFF"],[1,"#DDD"]]),"r",3,"padding",3,"style",t("color","black")),o);return p=o.style,delete o.style,u=tn(o,t("stroke","#68A","fill",t("linearGradient",n,"stops",[[0,"#FFF"],[1,"#ACF"]])),u),d=u.style,delete u.style,a=tn(o,t("stroke","#68A","fill",t("linearGradient",n,"stops",[[0,"#9BD"],[1,"#CDF"]])),a),v=a.style,delete a.style,nn(f.element,"mouseenter",function(){f.attr(u).css(d)}),nn(f.element,"mouseleave",function(){c=[o,u,a][l],h=[p,d,v][l],f.attr(c).css(h)}),f.setState=function(e){(l=e)?e===2&&f.attr(a).css(v):f.attr(o).css(p)},f.on("click",function(){s.call(f)}).attr(o).css(e({cursor:"default"},p))},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=X(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=X(e[2])+t%2/2),e},path:function(t){var n={fill:xt};return s(t)?n.d=t:i(t)&&e(n,t),this.createElement("path").attr(n)},circle:function(e,t,n){return e=i(e)?e:{x:e,y:t,r:n},this.createElement("circle").attr(e)},arc:function(e,t,n,r,s,o){return i(e)&&(t=e.y,n=e.r,r=e.innerR,s=e.start,o=e.end,e=e.x),this.symbol("arc",e||0,t||0,n||0,n||0,{innerR:r||0,start:s||0,end:o||0})},rect:function(e,t,n,r,s,o){return s=i(e)?e.r:s,s=this.createElement("rect").attr({rx:s,ry:s,fill:xt}),s.attr(i(e)?e:s.crisp(o,e,t,J(n,0),J(r,0)))},setSize:function(e,t,n){var r=this.alignedObjects,i=r.length;this.width=e,this.height=t;for(this.boxWrapper[p(n,!0)?"animate":"attr"]({width:e,height:t});i--;)r[i].align()},g:function(e){var t=this.createElement("g");return l(e)?t.attr({"class":"highcharts-"+e}):t},image:function(t,n,r,i,s){var o={preserveAspectRatio:xt};return arguments.length>1&&e(o,{x:n,y:r,width:i,height:s}),o=this.createElement("image").attr(o),o.element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):o.element.setAttribute("hc-svg-href",t),o},symbol:function(t,n,r,i,s,o){var u,a=this.symbols[t],a=a&&a(X(n),X(r),i,s,o),f=/^url\((.*?)\)$/,l,c;return a?(u=this.path(a),e(u,{symbolName:t,x:n,y:r,width:i,height:s}),o&&e(u,o)):f.test(t)&&(c=function(e,t){e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(-X(t[0]/2),-X(t[1]/2))},l=t.match(f)[1],t=pt[l],u=this.image(l).attr({x:n,y:r}),t?c(u,t):(u.attr({width:0,height:0}),v("img",{onload:function(){c(u,pt[l]=[this.width,this.height])},src:l}))),u},symbols:{circle:function(e,t,n,r){var i=.166*n;return["M",e+n/2,t,"C",e+n+i,t,e+n+i,t+r,e+n/2,t+r,"C",e-i,t+r,e-i,t,e+n/2,t,"Z"]},square:function(e,t,n,r){return["M",e,t,"L",e+n,t,e+n,t+r,e,t+r,"Z"]},triangle:function(e,t,n,r){return["M",e+n/2,t,"L",e+n,t+r,e,t+r,"Z"]},"triangle-down":function(e,t,n,r){return["M",e,t,"L",e+n,t,e+n/2,t+r,"Z"]},diamond:function(e,t,n,r){return["M",e+n/2,t,"L",e+n,t+r/2,e+n/2,t+r,e,t+r/2,"Z"]},arc:function(e,t,n,r,i){var s=i.start,n=i.r||n||r,o=i.end-1e-6,r=i.innerR,u=i.open,a=G(s),f=Y(s),l=G(o),o=Y(o),i=i.end-s<Z?0:1;return["M",e+n*a,t+n*f,"A",n,n,0,i,1,e+n*l,t+n*o,u?"M":"L",e+r*l,t+r*o,"A",r,r,0,i,0,e+r*a,t+r*f,u?"":"Z"]}},clipRect:function(e,t,n,r){var i="highcharts-"+dt++,s=this.createElement("clipPath").attr({id:i}).add(this.defs),e=this.rect(e,t,n,r,0).add(s);return e.id=i,e.clipPath=s,e},color:function(t,n,r){var i=this,o,u=/^rgba/,a;t&&t.linearGradient?a="linearGradient":t&&t.radialGradient&&(a="radialGradient");if(a){var r=t[a],f=i.gradients,h,p,d,n=n.radialReference;if(!r.id||!f[r.id])s(r)&&(t[a]=r={x1:r[0],y1:r[1],x2:r[2],y2:r[3],gradientUnits:"userSpaceOnUse"}),a==="radialGradient"&&n&&!l(r.gradientUnits)&&e(r,{cx:n[0]-n[2]/2+r.cx*n[2],cy:n[1]-n[2]/2+r.cy*n[2],r:r.r*n[2],gradientUnits:"userSpaceOnUse"}),r.id="highcharts-"+dt++,f[r.id]=h=i.createElement(a).attr(r).add(i.defs),h.stops=[],Gt(t.stops,function(e){u.test(e[1])?(o=ln(e[1]),p=o.get("rgb"),d=o.get("a")):(p=e[1],d=1),e=i.createElement("stop").attr({offset:e[0],"stop-color":p,"stop-opacity":d}).add(h),h.stops.push(e)});return"url("+i.url+"#"+r.id+")"}return u.test(t)?(o=ln(t),c(n,r+"-opacity",o.get("a")),o.get("rgb")):(n.removeAttribute(r+"-opacity"),t)},text:function(e,t,n,r){var i=mt.chart.style,s=lt||!at&&this.forExport;return r&&!this.forExport?this.html(e,t,n):(t=X(p(t,0)),n=X(p(n,0)),e=this.createElement("text").attr({x:t,y:n,text:e}).css({fontFamily:i.fontFamily,fontSize:i.fontSize}),s&&e.css({position:"absolute"}),e.x=t,e.y=n,e)},html:function(t,n,r){var i=mt.chart.style,s=this.createElement("span"),o=s.attrSetters,u=s.element,a=s.renderer;return o.text=function(e){return e!==u.innerHTML&&delete this.bBox,u.innerHTML=e,!1},o.x=o.y=o.align=function(e,t){return t==="align"&&(t="textAlign"),s[t]=e,s.htmlUpdateTransform(),!1},s.attr({text:t,x:X(n),y:X(r)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:i.fontFamily,fontSize:i.fontSize}),s.css=s.htmlCss,a.isSVG&&(s.add=function(t){var n,r=a.box.parentNode,i=[];if(t){if(n=t.div,!n){for(;t;)i.push(t),t=t.parentGroup;Gt(i.reverse(),function(t){var i;n=t.div=t.div||v(St,{className:c(t.element,"class")},{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px"},n||r),i=n.style,e(t.attrSetters,{translateX:function(e){i.left=e+"px"},translateY:function(e){i.top=e+"px"},visibility:function(e,t){i[t]=e}})})}}else n=r;return n.appendChild(u),s.added=!0,s.alignOnAdd&&s.htmlUpdateTransform(),s}),s},fontMetrics:function(e){var e=n(e||11),e=e<24?e+4:X(e*1.2),t=X(e*.8);return{h:e,b:t}},label:function(t,n,r,i,s,o,u,a,f){function c(){var e=v.styles,e=e&&e.textAlign,t=w*(1-b),n;n=a?0:k,l(E)&&(e==="center"||e==="right")&&(t+={center:.5,right:1}[e]*(E-y.width)),(t!==m.x||n!==m.y)&&m.attr({x:t,y:n}),m.x=t,m.y=n}function h(e,t){g?g.attr(e,t):C[e]=t}function p(){m.add(v),v.attr({text:t,x:n,y:r}),l(s)&&v.attr({anchorX:s,anchorY:o})}var d=this,v=d.g(f),m=d.text("",0,0,u).attr({zIndex:1}),g,y,b=0,w=3,E,S,x,T,N=0,C={},k,u=v.attrSetters;nn(v,"add",p),u.width=function(e){return E=e,!1},u.height=function(e){return S=e,!1},u.padding=function(e){return l(e)&&e!==w&&(w=e,c()),!1},u.align=function(e){return b={left:0,center:.5,right:1}[e],!1},u.text=function(e,t){m.attr(t,e);var n;return n=m.element.style,y=(E===void 0||S===void 0||v.styles.textAlign)&&m.getBBox(),v.width=(E||y.width||0)+2*w,v.height=(S||y.height||0)+2*w,k=w+d.fontMetrics(n&&n.fontSize).b,g||(n=a?-k:0,v.box=g=i?d.symbol(i,-b*w,n,v.width,v.height):d.rect(-b*w,n,v.width,v.height,0,C["stroke-width"]),g.add(v)),g.attr(tn({width:v.width,height:v.height},C)),C=null,c(),!1},u["stroke-width"]=function(e,t){return N=e%2/2,h(t,e),!1},u.stroke=u.fill=u.r=function(e,t){return h(t,e),!1},u.anchorX=function(e,t){return s=e,h(t,e+N-x),!1},u.anchorY=function(e,t){return o=e,h(t,e-T),!1},u.x=function(e){return v.x=e,e-=b*((E||y.width)+w),x=X(e),v.attr("translateX",x),!1},u.y=function(e){return T=v.y=X(e),v.attr("translateY",e),!1};var L=v.css;return e(v,{css:function(e){if(e){var t={},e=tn({},e);Gt("fontSize,fontWeight,fontFamily,color,lineHeight,width".split(","),function(n){e[n]!==R&&(t[n]=e[n],delete e[n])}),m.css(t)}return L.call(v,e)},getBBox:function(){return g.getBBox()},shadow:function(e){return g.shadow(e),v},destroy:function(){rn(v,"add",p),rn(v.element,"mouseenter"),rn(v.element,"mouseleave"),m&&(m=m.destroy()),g&&(g=g.destroy()),_.prototype.destroy.call(v)}})}},ct=cn;var hn;if(!at&&!lt){hn={init:function(e,t){var n=["<",t,' filled="f" stroked="f"'],r=["position: ","absolute",";"];(t==="shape"||t===St)&&r.push("left:0;top:0;width:1px;height:1px;"),it&&r.push("visibility: ",t===St?"hidden":"visible"),n.push(' style="',r.join(""),'"/>'),t&&(n=t===St||t==="span"||t==="img"?n.join(""):e.prepVML(n),this.element=v(n)),this.renderer=e,this.attrSetters={}},add:function(e){var t=this.renderer,n=this.element,r=t.box,r=e?e.element||e:r;return e&&e.inverted&&t.invertChild(n,r),r.appendChild(n),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),sn(this,"add"),this},updateTransform:_.prototype.htmlUpdateTransform,attr:function(e,t){var n,i,s,u=this.element||{},a=u.style,f=u.nodeName,h=this.renderer,p=this.symbolName,d,m=this.shadows,g,y=this.attrSetters,b=this;r(e)&&l(t)&&(n=e,e={},e[n]=t);if(r(e))n=e,b=n==="strokeWidth"||n==="stroke-width"?this.strokeweight:this[n];else for(n in e)if(i=e[n],g=!1,s=y[n]&&y[n].call(this,i,n),s!==!1&&i!==null){s!==R&&(i=s);if(p&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(n))d||(this.symbolAttr(e),d=!0),g=!0;else if(n==="d"){i=i||[],this.d=i.join(" "),s=i.length;for(g=[];s--;)g[s]=o(i[s])?X(i[s]*10)-5:i[s]==="Z"?"x":i[s];i=g.join(" ")||"x",u.path=i;if(m)for(s=m.length;s--;)m[s].path=m[s].cutOff?this.cutOffPath(i,m[s].cutOff):i;g=!0}else if(n==="visibility"){if(m)for(s=m.length;s--;)m[s].style[n]=i;f==="DIV"&&(i=i==="hidden"?"-999em":0,n="top"),a[n]=i,g=!0}else n==="zIndex"?(i&&(a[n]=i),g=!0):n==="width"||n==="height"?(i=J(0,i),this[n]=i,this.updateClipping?(this[n]=i,this.updateClipping()):a[n]=i,g=!0):n==="x"||n==="y"?(this[n]=i,a[{x:"left",y:"top"}[n]]=i):n==="class"?u.className=i:n==="stroke"?(i=h.color(i,u,n),n="strokecolor"):n==="stroke-width"||n==="strokeWidth"?(u.stroked=i?!0:!1,n="strokeweight",this[n]=i,o(i)&&(i+="px")):n==="dashstyle"?((u.getElementsByTagName("stroke")[0]||v(h.prepVML(["<stroke/>"]),null,null,u))[n]=i||"solid",this.dashstyle=i,g=!0):n==="fill"?f==="SPAN"?a.color=i:(u.filled=i!==xt?!0:!1,i=h.color(i,u,n,this),n="fillcolor"):f==="shape"&&n==="rotation"?(this[n]=i,u.style.left=-X(Y(i*et)+1)+"px",u.style.top=X(G(i*et))+"px"):n==="translateX"||n==="translateY"||n==="rotation"?(this[n]=i,this.updateTransform(),g=!0):n==="text"&&(this.bBox=null,u.innerHTML=i,g=!0);g||(it?u[n]=i:c(u,n,i))}return b},clip:function(e){var t=this,n,r=t.element,i=r.parentNode;return e?(n=e.members,n.push(t),t.destroyClip=function(){f(n,t)},i&&i.className==="highcharts-tracker"&&!it&&d(r,{visibility:"hidden"}),e=e.getCSS(t)):(t.destroyClip&&t.destroyClip(),e={clip:it?"inherit":"rect(auto)"}),t.css(e)},css:_.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&k(e)},destroy:function(){return this.destroyClip&&this.destroyClip(),_.prototype.destroy.apply(this)},empty:function(){for(var e=this.element.childNodes,t=e.length,n;t--;)n=e[t],n.parentNode.removeChild(n)},on:function(e,t){return this.element["on"+e]=function(){var e=z.event;e.target=e.srcElement,t(e)},this},cutOffPath:function(e,t){var r,e=e.split(/[ ,]/);r=e.length;if(r===9||r===11)e[r-4]=e[r-2]=n(e[r-2])-10*t;return e.join(" ")},shadow:function(e,t,r){var i=[],s,o=this.element,u=this.renderer,a,f=o.style,l,c=o.path,h,d,m,g;c&&typeof c.value!="string"&&(c="x"),d=c;if(e){m=p(e.width,3),g=(e.opacity||.15)/m;for(s=1;s<=3;s++)h=m*2+1-2*s,r&&(d=this.cutOffPath(c.value,h+.5)),l=['<shape isShadow="true" strokeweight="',h,'" filled="false" path="',d,'" coordsize="10 10" style="',o.style.cssText,'" />'],a=v(u.prepVML(l),null,{left:n(f.left)+p(e.offsetX,1),top:n(f.top)+p(e.offsetY,1)}),r&&(a.cutOff=h+1),l=['<stroke color="',e.color||"black",'" opacity="',g*s,'"/>'],v(u.prepVML(l),null,null,a),t?t.element.appendChild(a):o.parentNode.insertBefore(a,o),i.push(a);this.shadows=i}return this}},hn=m(_,hn);var pn={Element:hn,isIE8:tt.indexOf("MSIE 8.0")>-1,init:function(e,t,n){var r,i;this.alignedObjects=[],r=this.createElement(St),i=r.element,i.style.position="relative",e.appendChild(r.element),this.box=i,this.boxWrapper=r,this.setSize(t,n,!1),U.namespaces.hcv||(U.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),U.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,n,r,s){var o=this.createElement(),u=i(t);return e(o,{members:[],left:u?t.x:t,top:u?t.y:n,width:u?t.width:r,height:u?t.height:s,getCSS:function(t){var n=t.inverted,r=this.top,i=this.left,s=i+this.width,o=r+this.height,r={clip:"rect("+X(n?i:r)+"px,"+X(n?o:s)+"px,"+X(n?s:o)+"px,"+X(n?r:i)+"px)"};return!n&&it&&t.element.nodeName!=="IMG"&&e(r,{width:s+"px",height:o+"px"}),r},updateClipping:function(){Gt(o.members,function(e){e.css(o.getCSS(e))})}})},color:function(e,t,n,r){var i=this,s,o=/^rgba/,u,a,f=xt;e&&e.linearGradient?a="gradient":e&&e.radialGradient&&(a="pattern");if(a){var l,c,h=e.linearGradient||e.radialGradient,p,d,m,g,y,b="",e=e.stops,w,E=[],S=function(){u=['<fill colors="'+E.join(",")+'" opacity="',m,'" o:opacity2="',d,'" type="',a,'" ',b,'focus="100%" method="any" />'],v(i.prepVML(u),null,null,t)};p=e[0],w=e[e.length-1],p[0]>0&&e.unshift([0,p[1]]),w[0]<1&&e.push([1,w[1]]),Gt(e,function(e,t){o.test(e[1])?(s=ln(e[1]),l=s.get("rgb"),c=s.get("a")):(l=e[1],c=1),E.push(e[0]*100+"% "+l),t?(m=c,g=l):(d=c,y=l)});if(n==="fill")if(a==="gradient")n=h.x1||h[0]||0,e=h.y1||h[1]||0,p=h.x2||h[2]||0,h=h.y2||h[3]||0,b='angle="'+(90-W.atan((h-e)/(p-n))*180/Z)+'"',S();else{var f=h.r,x=f*2,T=f*2,N=h.cx,C=h.cy,k=t.radialReference,L,f=function(){k&&(L=r.getBBox(),N+=(k[0]-L.x)/L.width-.5,C+=(k[1]-L.y)/L.height-.5,x*=k[2]/L.width,T*=k[2]/L.height),b='src="'+mt.global.VMLRadialGradientURL+'" size="'+x+","+T+'" origin="0.5,0.5" position="'+N+","+C+'" color2="'+y+'" ',S()};r.added?f():nn(r,"add",f),f=g}else f=l}else o.test(e)&&t.tagName!=="IMG"?(s=ln(e),u=["<",n,' opacity="',s.get("a"),'"/>'],v(this.prepVML(u),null,null,t),f=s.get("rgb")):(f=t.getElementsByTagName(n),f.length&&(f[0].opacity=1),f=e);return f},prepVML:function(e){var t=this.isIE8,e=e.join("");return t?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e=e.indexOf('style="')===-1?e.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):e.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):e=e.replace("<","<hcv:"),e},text:cn.prototype.html,path:function(t){var n={coordsize:"10 10"};return s(t)?n.d=t:i(t)&&e(n,t),this.createElement("shape").attr(n)},circle:function(e,t,n){return this.symbol("circle").attr({x:e-n,y:t-n,width:2*n,height:2*n})},g:function(e){var t;return e&&(t={className:"highcharts-"+e,"class":"highcharts-"+e}),this.createElement(St).attr(t)},image:function(e,t,n,r,i){var s=this.createElement("img").attr({src:e});return arguments.length>1&&s.attr({x:t,y:n,width:r,height:i}),s},rect:function(e,t,n,r,s,o){i(e)&&(t=e.y,n=e.width,r=e.height,o=e.strokeWidth,e=e.x);var u=this.symbol("rect");return u.r=s,u.attr(u.crisp(o,e,t,J(n,0),J(r,0)))},invertChild:function(e,t){var r=t.style;d(e,{flip:"x",left:n(r.width)-1,top:n(r.height)-1,rotation:-90})},symbols:{arc:function(e,t,n,r,i){var s=i.start,o=i.end,u=i.r||n||r,n=G(s),r=Y(s),a=G(o),f=Y(o),l=i.innerR,c=.08/u,h=l&&.1/l||0;return o-s===0?["x"]:(2*Z-o+s<c?a=-c:o-s<h&&(a=G(s+h)),s=["wa",e-u,t-u,e+u,t+u,e+u*n,t+u*r,e+u*a,t+u*f],i.open&&!l&&s.push("e","M",e,t),s.push("at",e-l,t-l,e+l,t+l,e+l*a,t+l*f,e+l*n,t+l*r,"x","e"),s)},circle:function(e,t,n,r){return["wa",e,t,e+n,t+r,e+n,t+r/2,e+n,t+r/2,"e"]},rect:function(e,t,n,r,i){var s=e+n,o=t+r,u;return!l(i)||!i.r?s=cn.prototype.symbols.square.apply(0,arguments):(u=K(i.r,n,r),s=["M",e+u,t,"L",s-u,t,"wa",s-2*u,t,s,t+2*u,s-u,t,s,t+u,"L",s,o-u,"wa",s-2*u,o-2*u,s,o,s,o-u,s-u,o,"L",e+u,o,"wa",e,o-2*u,e+2*u,o,e+u,o,e,o-u,"L",e,t+u,"wa",e,t,e+2*u,t+2*u,e,t+u,e+u,t,"x","e"]),s}}};hn=function(){this.init.apply(this,arguments)},hn.prototype=tn(cn.prototype,pn),ct=hn}var dn,vn;lt&&(dn=function(){ut="http://www.w3.org/1999/xhtml"},dn.prototype.symbols={},vn=function(){function e(){var e=t.length,n;for(n=0;n<e;n++)t[n]();t=[]}var t=[];return{push:function(n,r){t.length===0&&Kt(r,e),t.push(n)}}}()),ct=hn||dn||cn,D.prototype={addLabel:function(){var t=this.axis,n=t.options,r=t.chart,i=t.horiz,s=t.categories,u=this.pos,f=n.labels,c=t.tickPositions,i=s&&i&&s.length&&!f.step&&!f.staggerLines&&!f.rotation&&r.plotWidth/c.length||!i&&r.plotWidth/2,h=u===c[0],p=u===c[c.length-1],d=s&&l(s[u])?s[u]:u,s=this.label,c=c.info,v;t.isDatetimeAxis&&c&&(v=n.dateTimeLabelFormats[c.higherRanks[u]||c.unitName]),this.isFirst=h,this.isLast=p,n=t.labelFormatter.call({axis:t,chart:r,isFirst:h,isLast:p,dateTimeLabelFormat:v,value:t.isLog?A(a(d)):d}),u=i&&{width:J(1,X(i-2*(f.padding||10)))+"px"},u=e(u,f.style),l(s)?s&&s.attr({text:n}).css(u):(i={align:f.align},o(f.rotation)&&(i.rotation=f.rotation),this.label=l(n)&&f.enabled?r.renderer.text(n,0,0,f.useHTML).attr(i).css(u).add(t.labelGroup):null)},getLabelSize:function(){var e=this.label,t=this.axis;return e?(this.labelBBox=e.getBBox())[t.horiz?"height":"width"]:0},getLabelSides:function(){var e=this.axis.options.labels,t=this.labelBBox.width,e=t*{left:0,center:.5,right:1}[e.align]-e.x;return[-e,t-e]},handleOverflow:function(e,t){var n=!0,r=this.axis,i=r.chart,s=this.isFirst,o=this.isLast,u=t.x,a=r.reversed,f=r.tickPositions;if(s||o){var l=this.getLabelSides(),c=l[0],l=l[1],i=i.plotLeft,h=i+r.len,f=(r=r.ticks[f[e+(s?1:-1)]])&&r.label.xy&&r.label.xy.x+r.getLabelSides()[s?0:1];s&&!a||o&&a?u+c<i&&(u=i-c,r&&u+l>f&&(n=!1)):u+l>h&&(u=h-l,r&&u+c<f&&(n=!1)),t.x=u}return n},getPosition:function(e,t,n,r){var i=this.axis,s=i.chart,o=r&&s.oldChartHeight||s.chartHeight;return{x:e?i.translate(t+n,null,null,r)+i.transB:i.left+i.offset+(i.opposite?(r&&s.oldChartWidth||s.chartWidth)-i.right-i.left:0),y:e?o-i.bottom+i.offset-(i.opposite?i.height:0):o-i.translate(t+n,null,null,r)-i.transB}},getLabelPosition:function(e,t,r,i,s,o,u,a){var f=this.axis,c=f.transA,h=f.reversed,f=f.staggerLines,e=e+s.x-(o&&i?o*c*(h?-1:1):0),t=t+s.y-(o&&!i?o*c*(h?1:-1):0);return l(s.y)||(t+=n(r.styles.lineHeight)*.9-r.getBBox().height/2),f&&(t+=u/(a||1)%f*16),{x:e,y:t}},getMarkPath:function(e,t,n,r,i,s){return s.crispLine(["M",e,t,"L",e+(i?0:-n),t+(i?n:0)],r)},render:function(e,t){var n=this.axis,r=n.options,i=n.chart.renderer,s=n.horiz,o=this.type,u=this.label,a=this.pos,f=r.labels,l=this.gridLine,c=o?o+"Grid":"grid",h=o?o+"Tick":"tick",d=r[c+"LineWidth"],v=r[c+"LineColor"],m=r[c+"LineDashStyle"],g=r[h+"Length"],c=r[h+"Width"]||0,y=r[h+"Color"],b=r[h+"Position"],h=this.mark,w=f.step,E=!0,S=n.tickmarkOffset,x=this.getPosition(s,a,S,t),T=x.x,x=x.y,N=n.staggerLines;d&&(a=n.getPlotLinePath(a+S,d,t),l===R&&(l={stroke:v,"stroke-width":d},m&&(l.dashstyle=m),o||(l.zIndex=1),this.gridLine=l=d?i.path(a).attr(l).add(n.gridGroup):null),!t&&l&&a&&l[this.isNew?"attr":"animate"]({d:a})),c&&g&&(b==="inside"&&(g=-g),n.opposite&&(g=-g),o=this.getMarkPath(T,x,g,c,s,i),h?h.animate({d:o}):this.mark=i.path(o).attr({stroke:y,"stroke-width":c}).add(n.axisGroup)),u&&!isNaN(T)&&(u.xy=x=this.getLabelPosition(T,x,u,s,f,S,e,w),this.isFirst&&!p(r.showFirstLabel
,1)||this.isLast&&!p(r.showLastLabel,1)?E=!1:!N&&s&&f.overflow==="justify"&&!this.handleOverflow(e,x)&&(E=!1),w&&e%w&&(E=!1),E?(u[this.isNew?"attr":"animate"](x),u.show(),this.isNew=!1):u.hide())},destroy:function(){C(this,this.axis)}},P.prototype={render:function(){var e=this,t=e.axis,n=t.horiz,r=(t.pointRange||0)/2,i=e.options,s=i.label,o=e.label,a=i.width,f=i.to,c=i.from,h=l(c)&&l(f),d=i.value,v=i.dashStyle,m=e.svgElem,g=[],y,b=i.color,w=i.zIndex,E=i.events,S=t.chart.renderer;t.isLog&&(c=u(c),f=u(f),d=u(d));if(a){if(g=t.getPlotLinePath(d,a),r={stroke:b,"stroke-width":a},v)r.dashstyle=v}else{if(!h)return;if(c=J(c,t.min-r),f=K(f,t.max+r),g=t.getPlotBandPath(c,f,i),r={fill:b},i.borderWidth)r.stroke=i.borderColor,r["stroke-width"]=i.borderWidth}l(w)&&(r.zIndex=w);if(m)g?m.animate({d:g},null,m.onGetPath):(m.hide(),m.onGetPath=function(){m.show()});else if(g&&g.length&&(e.svgElem=m=S.path(g).attr(r).add(),E))for(y in i=function(t){m.on(t,function(n){E[t].apply(e,[n])})},E)i(y);return s&&l(s.text)&&g&&g.length&&t.width>0&&t.height>0?(s=tn({align:n&&h&&"center",x:n?!h&&4:10,verticalAlign:!n&&h&&"middle",y:n?h?16:10:h?6:-4,rotation:n&&!h&&90},s),o||(e.label=o=S.text(s.text,0,0).attr({align:s.textAlign||s.align,rotation:s.rotation,zIndex:w}).css(s.style).add()),t=[g[1],g[4],p(g[6],g[1])],g=[g[2],g[5],p(g[7],g[2])],n=T(t),h=T(g),o.align(s,!1,{x:n,y:h,width:N(t)-n,height:N(g)-h}),o.show()):o&&o.hide(),e},destroy:function(){f(this.axis.plotLinesAndBands,this),C(this,this.axis)}},H.prototype={destroy:function(){C(this,this.axis)},setTotal:function(e){this.cum=this.total=e},render:function(e){var t=this.options.formatter.call(this);this.label?this.label.attr({text:t,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(t,0,0).css(this.options.style).attr({align:this.textAlign,rotation:this.options.rotation,visibility:"hidden"}).add(e)},setOffset:function(e,t){var n=this.axis,r=n.chart,i=r.inverted,s=this.isNegative,o=n.translate(this.percent?100:this.total,0,0,0,1),n=n.translate(0),n=Q(o-n),u=r.xAxis[0].translate(this.x)+e,a=r.plotHeight,s={x:i?s?o:o-n:u,y:i?a-u-t:s?a-o-n:a-o,width:i?n:t,height:i?t:n};if(i=this.label)i.align(this.alignOptions,null,s),s=i.alignAttr,i.attr({visibility:this.options.crop===!1||r.isInsidePlot(s.x,s.y)?at?"inherit":"visible":"hidden"})}},B.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:$t,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#6D869F",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Y-values"},stackLabels:{enabled:!1,formatter:function(){return this.total},style:$t.style}},defaultLeftAxisOptions:{labels:{align:"right",x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{align:"left",x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{align:"center",x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{align:"center",x:0,y:-5},title:{rotation:0}},init:function(e,t){var n=t.isX;this.horiz=e.inverted?!n:n,this.xOrY=(this.isXAxis=n)?"x":"y",this.opposite=t.opposite,this.side=this.horiz?this.opposite?0:2:this.opposite?1:3,this.setOptions(t);var r=this.options,i=r.type,s=i==="datetime";this.labelFormatter=r.labels.formatter||this.defaultLabelFormatter,this.staggerLines=this.horiz&&r.labels.staggerLines,this.userOptions=t,this.minPixelPadding=0,this.chart=e,this.reversed=r.reversed,this.categories=r.categories,this.isLog=i==="logarithmic",this.isLinked=l(r.linkedTo),this.isDatetimeAxis=s,this.tickmarkOffset=r.categories&&r.tickmarkPlacement==="between"?.5:0,this.ticks={},this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=r.minRange||r.maxZoom,this.range=r.range,this.offset=r.offset||0,this.stacks={},this.min=this.max=null;var o,r=this.options.events;e.axes.push(this),e[n?"xAxis":"yAxis"].push(this),this.series=[],e.inverted&&n&&this.reversed===R&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine,this.addPlotLine=this.addPlotBand=this.addPlotBandOrLine;for(o in r)nn(this,o,r[o]);this.isLog&&(this.val2lin=u,this.lin2val=a)},setOptions:function(e){this.options=tn(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],tn(mt[this.isXAxis?"xAxis":"yAxis"],e))},defaultLabelFormatter:function(){var e=this.axis,t=this.value,n=this.dateTimeLabelFormat,r=mt.lang.numericSymbols,i=r&&r.length,s,o=e.isLog?t:e.tickInterval;if(e.categories)s=t;else if(n)s=gt(n,t);else if(i&&o>=1e3)for(;i--&&s===R;)e=Math.pow(1e3,i+1),o>=e&&r[i]!==null&&(s=g(t/e,-1)+r[i]);return s===R&&(s=t>=1e3?g(t,0):g(t,-1)),s},getSeriesExtremes:function(){var e=this,t=e.chart,n=e.stacks,r=[],i=[],s;e.hasVisibleSeries=!1,e.dataMin=e.dataMax=null,Gt(e.series,function(o){if(o.visible||!t.options.chart.ignoreHiddenSeries){var u=o.options,a,f,c,h,d,v,m,g,y,b=u.threshold,w,E=[],S=0;e.hasVisibleSeries=!0,e.isLog&&b<=0&&(b=u.threshold=null);if(e.isXAxis){if(u=o.xData,u.length)e.dataMin=K(p(e.dataMin,u[0]),T(u)),e.dataMax=J(p(e.dataMax,u[0]),N(u))}else{var x,C,k,L=o.cropped,O=o.xAxis.getExtremes(),M=!!o.modifyValue;a=u.stacking,e.usePercentage=a==="percent",a&&(d=u.stack,h=o.type+p(d,""),v="-"+h,o.stackKey=h,f=r[h]||[],r[h]=f,c=i[v]||[],i[v]=c),e.usePercentage&&(e.dataMin=0,e.dataMax=99),u=o.processedXData,m=o.processedYData,w=m.length;for(s=0;s<w;s++)if(g=u[s],y=m[s],a&&(C=(x=y<b)?c:f,k=x?v:h,y=C[g]=l(C[g])?A(C[g]+y):y,n[k]||(n[k]={}),n[k][g]||(n[k][g]=new H(e,e.options.stackLabels,x,g,d,a)),n[k][g].setTotal(y)),y!==null&&y!==R&&(M&&(y=o.modifyValue(y)),L||(u[s+1]||g)>=O.min&&(u[s-1]||g)<=O.max))if(g=y.length)for(;g--;)y[g]!==null&&(E[S++]=y[g]);else E[S++]=y;!e.usePercentage&&E.length&&(e.dataMin=K(p(e.dataMin,E[0]),T(E)),e.dataMax=J(p(e.dataMax,E[0]),N(E))),l(b)&&(e.dataMin>=b?(e.dataMin=b,e.ignoreMinPadding=!0):e.dataMax<b&&(e.dataMax=b,e.ignoreMaxPadding=!0))}}})},translate:function(e,t,n,r,i,s){var o=this.len,u=1,a=0,f=r?this.oldTransA:this.transA,r=r?this.oldMin:this.min,i=this.options.ordinal||this.isLog&&i;return f||(f=this.transA),n&&(u*=-1,a=o),this.reversed&&(u*=-1,a-=u*o),t?(this.reversed&&(e=o-e),e=e/f+r,i&&(e=this.lin2val(e))):(i&&(e=this.val2lin(e)),e=u*(e-r)*f+a+u*this.minPixelPadding+(s?f*this.pointRange/2:0)),e},getPlotLinePath:function(e,t,n){var r=this.chart,i=this.left,s=this.top,o,u,a,e=this.translate(e,null,null,n),f=n&&r.oldChartHeight||r.chartHeight,l=n&&r.oldChartWidth||r.chartWidth,c;o=this.transB,n=u=X(e+o),o=a=X(f-e-o);if(isNaN(e))c=!0;else if(this.horiz){if(o=s,a=f-this.bottom,n<i||n>i+this.width)c=!0}else if(n=i,u=l-this.right,o<s||o>s+this.height)c=!0;return c?null:r.renderer.crispLine(["M",n,o,"L",u,a],t||0)},getPlotBandPath:function(e,t){var n=this.getPlotLinePath(t),r=this.getPlotLinePath(e);return r&&n?r.push(n[4],n[5],n[1],n[2]):r=null,r},getLinearTickPositions:function(e,t,n){for(var r,t=A(V(t/e)*e),n=A($(n/e)*e),i=[];t<=n;){i.push(t),t=A(t+e);if(t===r)break;r=t}return i},getLogTickPositions:function(e,t,n,r){var i=this.options,s=this.len,o=[];r||(this._minorAutoInterval=null);if(e>=.5)e=X(e),o=this.getLinearTickPositions(e,t,n);else if(e>=.08)for(var s=V(t),f,l,c,h,d,i=e>.3?[1,2,4]:e>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];s<n+1&&!d;s++){l=i.length;for(f=0;f<l&&!d;f++)c=u(a(s)*i[f]),c>t&&o.push(h),h>n&&(d=!0),h=c}else if(t=a(t),n=a(n),e=i[r?"minorTickInterval":"tickInterval"],e=p(e==="auto"?null:e,this._minorAutoInterval,(n-t)*(i.tickPixelInterval/(r?5:1))/((r?s/this.tickPositions.length:s)||1)),e=b(e,null,W.pow(10,V(W.log(e)/W.LN10))),o=en(this.getLinearTickPositions(e,t,n),u),!r)this._minorAutoInterval=e/5;return r||(this.tickInterval=e),o},getMinorTickPositions:function(){var e=this.tickPositions,t=this.minorTickInterval,n=[],r,i;if(this.isLog){i=e.length;for(r=1;r<i;r++)n=n.concat(this.getLogTickPositions(t,e[r-1],e[r],!0))}else for(e=this.min+(e[0]-this.min)%t;e<=this.max;e+=t)n.push(e);return n},adjustForMinRange:function(){var e=this.options,t=this.min,n=this.max,r,i=this.dataMax-this.dataMin>=this.minRange,s,o,u,a,f;this.isXAxis&&this.minRange===R&&!this.isLog&&(l(e.min)||l(e.max)?this.minRange=null:(Gt(this.series,function(e){a=e.xData;for(o=f=e.xIncrement?1:a.length-1;o>0;o--)if(u=a[o]-a[o-1],s===R||u<s)s=u}),this.minRange=K(s*5,this.dataMax-this.dataMin)));if(n-t<this.minRange){var c=this.minRange;r=(c-n+t)/2,r=[t-r,p(e.min,t-r)],i&&(r[2]=this.dataMin),t=N(r),n=[t+c,p(e.max,t+c)],i&&(n[2]=this.dataMax),n=T(n),n-t<c&&(r[0]=n-c,r[1]=p(e.min,n-c),t=N(r))}this.min=t,this.max=n},setAxisTranslation:function(){var e=this.max-this.min,t=0,n,r=0,i=0,s=this.linkedParent,o=this.transA;this.isXAxis&&(s?(r=s.minPointOffset,i=s.pointRangePadding):Gt(this.series,function(e){var s=e.pointRange,o=e.options.pointPlacement,u=e.closestPointRange;t=J(t,s),r=J(r,o?0:s/2),i=J(i,o==="on"?0:s),!e.noSharedTooltip&&l(u)&&(n=l(n)?K(n,u):u)}),this.minPointOffset=r,this.pointRangePadding=i,this.pointRange=t,this.closestPointRange=n),this.oldTransA=o,this.translationSlope=this.transA=o=this.len/(e+i||1),this.transB=this.horiz?this.left:this.bottom,this.minPixelPadding=o*r},setTickPositions:function(e){var t=this,n=t.chart,r=t.options,i=t.isLog,s=t.isDatetimeAxis,o=t.isXAxis,a=t.isLinked,f=t.options.tickPositioner,c=r.maxPadding,h=r.minPadding,d=r.tickInterval,v=r.minTickInterval,m=r.tickPixelInterval,g=t.categories;a?(t.linkedParent=n[o?"xAxis":"yAxis"][r.linkedTo],n=t.linkedParent.getExtremes(),t.min=p(n.min,n.dataMin),t.max=p(n.max,n.dataMax),r.type!==t.linkedParent.options.type&&L(11,1)):(t.min=p(t.userMin,r.min,t.dataMin),t.max=p(t.userMax,r.max,t.dataMax)),i&&(!e&&K(t.min,p(t.dataMin,t.min))<=0&&L(10,1),t.min=A(u(t.min)),t.max=A(u(t.max))),t.range&&(t.userMin=t.min=J(t.min,t.max-t.range),t.userMax=t.max,e)&&(t.range=null),t.adjustForMinRange(),!g&&!t.usePercentage&&!a&&l(t.min)&&l(t.max)&&(n=t.max-t.min||1,!l(r.min)&&!l(t.userMin)&&h&&(t.dataMin<0||!t.ignoreMinPadding)&&(t.min-=n*h),!l(r.max)&&!l(t.userMax)&&c&&(t.dataMax>0||!t.ignoreMaxPadding)&&(t.max+=n*c)),t.tickInterval=t.min===t.max||t.min===void 0||t.max===void 0?1:a&&!d&&m===t.linkedParent.options.tickPixelInterval?t.linkedParent.tickInterval:p(d,g?1:(t.max-t.min)*m/(t.len||1)),o&&!e&&Gt(t.series,function(e){e.processData(t.min!==t.oldMin||t.max!==t.oldMax)}),t.setAxisTranslation(e),t.beforeSetTickPositions&&t.beforeSetTickPositions(),t.postProcessTickInterval&&(t.tickInterval=t.postProcessTickInterval(t.tickInterval)),!d&&t.tickInterval<v&&(t.tickInterval=v),!s&&!i&&(e=W.pow(10,V(W.log(t.tickInterval)/W.LN10)),!d)&&(t.tickInterval=b(t.tickInterval,null,e,r)),t.minorTickInterval=r.minorTickInterval==="auto"&&t.tickInterval?t.tickInterval/5:r.minorTickInterval,t.tickPositions=f=r.tickPositions||f&&f.apply(t,[t.min,t.max]),f||(f=s?(t.getNonLinearTimeTicks||E)(w(t.tickInterval,r.units),t.min,t.max,r.startOfWeek,t.ordinalPositions,t.closestPointRange,!0):i?t.getLogTickPositions(t.tickInterval,t.min,t.max):t.getLinearTickPositions(t.tickInterval,t.min,t.max),t.tickPositions=f),a||(i=f[0],s=f[f.length-1],a=t.minPointOffset||0,r.startOnTick?t.min=i:t.min-a>i&&f.shift(),r.endOnTick?t.max=s:t.max+a<s&&f.pop())},setMaxTicks:function(){var e=this.chart,t=e.maxTicks,n=this.tickPositions,r=this.xOrY;t||(t={x:0,y:0}),!this.isLinked&&!this.isDatetimeAxis&&n.length>t[r]&&this.options.alignTicks!==!1&&(t[r]=n.length),e.maxTicks=t},adjustTickAmount:function(){var e=this.xOrY,t=this.tickPositions,n=this.chart.maxTicks;if(n&&n[e]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==!1){var r=this.tickAmount,i=t.length;this.tickAmount=e=n[e];if(i<e){for(;t.length<e;)t.push(A(t[t.length-1]+this.tickInterval));this.transA*=(i-1)/(e-1),this.max=t[t.length-1]}l(r)&&e!==r&&(this.isDirty=!0)}},setScale:function(){var e=this.stacks,t,n,r,i;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),i=this.len!==this.oldAxisLength,Gt(this.series,function(e){if(e.isDirtyData||e.isDirty||e.xAxis.isDirty)r=!0});if(i||r||this.isLinked||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax)if(this.getSeriesExtremes(),this.setTickPositions(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,!this.isDirty)this.isDirty=i||this.min!==this.oldMin||this.max!==this.oldMax;if(!this.isXAxis)for(t in e)for(n in e[t])e[t][n].cum=e[t][n].total;this.setMaxTicks()},setExtremes:function(t,n,r,i,s){var o=this,u=o.chart,r=p(r,!0),s=e(s,{min:t,max:n});sn(o,"setExtremes",s,function(){o.userMin=t,o.userMax=n,o.isDirtyExtremes=!0,r&&u.redraw(i)})},zoom:function(e,t){return this.setExtremes(e,t,!1,R,{trigger:"zoom"}),!0},setAxisSize:function(){var e=this.chart,t=this.options,n=t.offsetLeft||0,r=t.offsetRight||0;this.left=p(t.left,e.plotLeft+n),this.top=p(t.top,e.plotTop),this.width=p(t.width,e.plotWidth-n+r),this.height=p(t.height,e.plotHeight),this.bottom=e.chartHeight-this.height-this.top,this.right=e.chartWidth-this.width-this.left,this.len=J(this.horiz?this.width:this.height,0)},getExtremes:function(){var e=this.isLog;return{min:e?A(a(this.min)):this.min,max:e?A(a(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(e){var t=this.isLog,n=t?a(this.min):this.min,t=t?a(this.max):this.max;return n>e||e===null?e=n:t<e&&(e=t),this.translate(e,0,1,0,1)},addPlotBandOrLine:function(e){return e=(new P(this,e)).render(),this.plotLinesAndBands.push(e),e},getOffset:function(){var e=this,t=e.chart,n=t.renderer,r=e.options,i=e.tickPositions,s=e.ticks,o=e.horiz,u=e.side,a,f=0,c,h=0,d=r.title,v=r.labels,m=0,g=t.axisOffset,y=[-1,1,1,-1][u],b;e.hasData=t=e.hasVisibleSeries||l(e.min)&&l(e.max)&&!!i,e.showAxis=a=t||p(r.showEmpty,!0),e.axisGroup||(e.gridGroup=n.g("grid").attr({zIndex:r.gridZIndex||1}).add(),e.axisGroup=n.g("axis").attr({zIndex:r.zIndex||2}).add(),e.labelGroup=n.g("axis-labels").attr({zIndex:v.zIndex||7}).add());if(t||e.isLinked)Gt(i,function(t){s[t]?s[t].addLabel():s[t]=new D(e,t)}),Gt(i,function(e){if(u===0||u===2||{1:"left",3:"right"}[u]===v.align)m=J(s[e].getLabelSize(),m)}),e.staggerLines&&(m+=(e.staggerLines-1)*16);else for(b in s)s[b].destroy(),delete s[b];d&&d.text&&(e.axisTitle||(e.axisTitle=n.text(d.text,0,0,d.useHTML).attr({zIndex:7,rotation:d.rotation||0,align:d.textAlign||{low:"left",middle:"center",high:"right"}[d.align]}).css(d.style).add(e.axisGroup),e.axisTitle.isNew=!0),a&&(f=e.axisTitle.getBBox()[o?"height":"width"],h=p(d.margin,o?5:10),c=d.offset),e.axisTitle[a?"show":"hide"]()),e.offset=y*p(r.offset,g[u]),e.axisTitleMargin=p(c,m+h+(u!==2&&m&&y*r.labels[o?"y":"x"])),g[u]=J(g[u],e.axisTitleMargin+f+y*e.offset)},getLinePath:function(e){var t=this.chart,n=this.opposite,r=this.offset,i=this.horiz,s=this.left+(n?this.width:0)+r;return this.lineTop=n=t.chartHeight-this.bottom-(n?this.height:0)+r,t.renderer.crispLine(["M",i?this.left:s,i?n:this.top,"L",i?t.chartWidth-this.right:s,i?n:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,t=this.left,r=this.top,i=this.len,s=this.options.title,o=e?t:r,u=this.opposite,a=this.offset,f=n(s.style.fontSize||12),i={low:o+(e?0:i),middle:o+i/2,high:o+(e?i:0)}[s.align],t=(e?r+this.height:t)+(e?1:-1)*(u?-1:1)*this.axisTitleMargin+(this.side===2?f:0);return{x:e?i:t+(u?this.width:0)+a+(s.x||0),y:e?t-(u?this.height:0)+a:i+(s.y||0)}},render:function(){var e=this,t=e.chart,n=t.renderer,r=e.options,i=e.isLog,s=e.isLinked,o=e.tickPositions,u=e.axisTitle,f=e.stacks,c=e.ticks,h=e.minorTicks,p=e.alternateBands,d=r.stackLabels,v=r.alternateGridColor,m=e.tickmarkOffset,g=r.lineWidth,y,b=t.hasRendered&&l(e.oldMin)&&!isNaN(e.oldMin),w=e.showAxis,E,S;if(e.hasData||s)if(e.minorTickInterval&&!e.categories&&Gt(e.getMinorTickPositions(),function(t){h[t]||(h[t]=new D(e,t,"minor")),b&&h[t].isNew&&h[t].render(null,!0),h[t].isActive=!0,h[t].render()}),Gt(o.slice(1).concat([o[0]]),function(t,n){n=n===o.length-1?0:n+1;if(!s||t>=e.min&&t<=e.max)c[t]||(c[t]=new D(e,t)),b&&c[t].isNew&&c[t].render(n,!0),c[t].isActive=!0,c[t].render(n)}),v&&Gt(o,function(t,n){n%2===0&&t<e.max&&(p[t]||(p[t]=new P(e)),E=t+m,S=o[n+1]!==R?o[n+1]+m:e.max,p[t].options={from:i?a(E):E,to:i?a(S):S,color:v},p[t].render(),p[t].isActive=!0)}),!e._addedPlotLB)Gt((r.plotLines||[]).concat(r.plotBands||[]),function(t){e.addPlotBandOrLine(t)}),e._addedPlotLB=!0;Gt([c,h,p],function(e){for(var t in e)e[t].isActive?e[t].isActive=!1:(e[t].destroy(),delete e[t])}),g&&(y=e.getLinePath(g),e.axisLine?e.axisLine.animate({d:y}):e.axisLine=n.path(y).attr({stroke:r.lineColor,"stroke-width":g,zIndex:7}).add(e.axisGroup),e.axisLine[w?"show":"hide"]()),u&&w&&(u[u.isNew?"attr":"animate"](e.getTitlePosition()),u.isNew=!1);if(d&&d.enabled){var x,T,r=e.stackTotalGroup;r||(e.stackTotalGroup=r=n.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),r.translate(t.plotLeft,t.plotTop);for(x in f)for(T in t=f[x],t)t[T].render(r)}e.isDirty=!1},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,n=t.length;n--;)t[n].id===e&&t[n].destroy()},setTitle:function(e,t){var n=this.chart,r=this.options,i=this.axisTitle;r.title=tn(r.title,e),this.axisTitle=i&&i.destroy(),this.isDirty=!0,p(t,!0)&&n.redraw()},redraw:function(){var e=this.chart;e.tracker.resetTracker&&e.tracker.resetTracker(!0),this.render(),Gt(this.plotLinesAndBands,function(e){e.render()}),Gt(this.series,function(e){e.isDirty=!0})},setCategories:function(e,t){var n=this.chart;this.categories=this.userOptions.categories=e,Gt(this.series,function(e){e.translate(),e.setTooltipPoints(!0)}),this.isDirty=!0,p(t,!0)&&n.redraw()},destroy:function(){var e=this,t=e.stacks,n;rn(e);for(n in t)C(t[n]),t[n]=null;Gt([e.ticks,e.minorTicks,e.alternateBands,e.plotLinesAndBands],function(e){C(e)}),Gt("stackTotalGroup,axisLine,axisGroup,gridGroup,labelGroup,axisTitle".split(","),function(t){e[t]&&(e[t]=e[t].destroy())})}},j.prototype={destroy:function(){Gt(this.crosshairs,function(e){e&&e.destroy()}),this.label&&(this.label=this.label.destroy())},move:function(t,n,r,i){var s=this,o=s.now,u=s.options.animation!==!1&&!s.isHidden;e(o,{x:u?(2*o.x+t)/3:t,y:u?(o.y+n)/2:n,anchorX:u?(2*o.anchorX+r)/3:r,anchorY:u?(o.anchorY+i)/2:i}),s.label.attr(o),u&&(Q(t-o.x)>1||Q(n-o.y)>1)&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){s&&s.move(t,n,r,i)},32))},hide:function(){if(!this.isHidden){var e=this.chart.hoverPoints;this.label.hide(),e&&Gt(e,function(e){e.setState()}),this.chart.hoverPoints=null,this.isHidden=!0}},hideCrosshairs:function(){Gt(this.crosshairs,function(e){e&&e.hide()})},getAnchor:function(e,t){var n,r=this.chart,i=r.inverted,s=0,o=0,u,e=h(e);return n=e[0].tooltipPos,n||(Gt(e,function(e){u=e.series.yAxis,s+=e.plotX,o+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!i&&u?u.top-r.plotTop:0)}),s/=e.length,o/=e.length,n=[i?r.plotWidth-o:s,this.shared&&!i&&e.length>1&&t?t.chartY-r.plotTop:i?r.plotHeight-s:o]),en(n,X)},getPosition:function(e,t,n){var r=this.chart,i=r.plotLeft,s=r.plotTop,o=r.plotWidth,u=r.plotHeight,a=p(this.options.distance,12),f=n.plotX,n=n.plotY,r=f+i+(r.inverted?a:-e-a),l=n-t+s+15,c;return r<7&&(r=i+J(f,0)+a),r+e>i+o&&(r-=r+e-(i+o),l=n-t+s-a,c=!0),l<s+5&&(l=s+5,c&&n>=l&&n<=l+t&&(l=n+s+a)),l+t>s+u&&(l=J(s,s+u-t-a)),{x:r,y:l}},refresh:function(e,t){function n(){var e=this.points||h(this),t=e[0].series,n;return n=[t.tooltipHeaderFormatter(e[0].key)],Gt(e,function(e){t=e.series,n.push(t.tooltipFormatter&&t.tooltipFormatter(e)||e.point.tooltipFormatter(t.tooltipOptions.pointFormat))}),n.push(s.footerFormat||""),n.join("")}var r=this.chart,i=this.label,s=this.options,o,u,a,f={},l,c=[];l=s.formatter||n;var f=r.hoverPoints,d,v=s.crosshairs;a=this.shared,u=this.getAnchor(e,t),o=u[0],u=u[1],a&&(!e.series||!e.series.noSharedTooltip)?(r.hoverPoints=e,f&&Gt(f,function(e){e.setState()}),Gt(e,function(e){e.setState("hover"),c.push(e.getLabelConfig())}),f={x:e[0].category,y:e[0].y},f.points=c,e=e[0]):f=e.getLabelConfig(),l=l.call(f),f=e.series,a=a||!f.isCartesian||f.tooltipOutsidePlot||r.isInsidePlot(o,u),l===!1||!a?this.hide():(this.isHidden&&i.show(),i.attr({text:l}),d=s.borderColor||e.color||f.color||"#606060",i.attr({stroke:d}),i=(s.positioner||this.getPosition).call(this,i.width,i.height,{plotX:o,plotY:u}),this.move(X(i.x),X(i.y),o+r.plotLeft,u+r.plotTop),this.isHidden=!1);if(v){v=h(v);for(i=v.length;i--;)if(a=e.series[i?"yAxis":"xAxis"],v[i]&&a)(a=a.getPlotLinePath(i?p(e.stackY,e.y):e.x,1),this.crosshairs[i])?this.crosshairs[i].attr({d:a,visibility:"visible"}):(f={"stroke-width":v[i].width||1,stroke:v[i].color||"#C0C0C0",zIndex:v[i].zIndex||2},v[i].dashStyle&&(f.dashstyle=v[i].dashStyle),this.crosshairs[i]=r.renderer.path(a).attr(f).add())}sn(r,"tooltipRefresh",{text:l,x:o+r.plotLeft,y:u+r.plotTop,borderColor:d})}},F.prototype={normalizeMouseEvent:function(t){var n,r,i,t=t||z.event;return t.target||(t.target=t.srcElement),t=on(t),i=t.touches?t.touches.item(0):t,this.chartPosition=n=Zt(this.chart.container),i.pageX===R?(r=t.x,n=t.y):(r=i.pageX-n.left,n=i.pageY-n.top),e(t,{chartX:X(r),chartY:X(n)})},getMouseCoordinates:function(e){var t={xAxis:[],yAxis:[]},n=this.chart;return Gt(n.axes,function(r){var i=r.isXAxis;t[i?"xAxis":"yAxis"].push({axis:r,value:r.translate(((n.inverted?!i:i)?e.chartX-n.plotLeft:r.top+r.len-e.chartY)-r.minPixelPadding,!0)})}),t},getIndex:function(e){var t=this.chart;return t.inverted?t.plotHeight+t.plotTop-e.chartY:e.chartX-t.plotLeft},onmousemove:function(e){var t=this.chart,n=t.series,r=t.tooltip,i,s=t.hoverPoint,o=t.hoverSeries,u,a,f=t.chartWidth,l=this.getIndex(e);if(r&&this.options.tooltip.shared&&(!o||!o.noSharedTooltip)){i=[],u=n.length;for(a=0;a<u;a++)n[a].visible&&n[a].options.enableMouseTracking!==!1&&!n[a].noSharedTooltip&&n[a].tooltipPoints.length&&(t=n[a].tooltipPoints[l],t._dist=Q(l-t[n[a].xAxis.tooltipPosName||"plotX"]),f=K(f,t._dist),i.push(t));for(u=i.length;u--;)i[u]._dist>f&&i.splice(u,1);i.length&&i[0].plotX!==this.hoverX&&(r.refresh(i,e),this.hoverX=i[0].plotX)}o&&o.tracker&&(t=o.tooltipPoints[l])&&t!==s&&t.onMouseOver()},resetTracker:function(e){var t=this.chart,n=t.hoverSeries,r=t.hoverPoint,i=t.tooltip,t=i&&i.shared?t.hoverPoints:r;(e=e&&i&&t)&&h(t)[0].plotX===R&&(e=!1),e?i.refresh(t):(r&&r.onMouseOut(),n&&n.onMouseOut(),i&&(i.hide(),i.hideCrosshairs()),this.hoverX=null)},setDOMEvents:function(){function t(){if(n.selectionMarker){var e={xAxis:[],yAxis:[]},o=n.selectionMarker.getBBox(),u=o.x-r.plotLeft,a=o.y-r.plotTop,f;s&&(Gt(r.axes,function(t){if(t.options.zoomEnabled!==!1){var n=t.isXAxis,i=r.inverted?!n:n,s=t.translate(i?u:r.plotHeight-a-o.height,!0,0,0,1),i=t.translate((i?u+o.width:r.plotHeight-a)-2*t.minPixelPadding,!0,0,0,1);!isNaN(s)&&!isNaN(i)&&(e[n?"xAxis":"yAxis"].push({axis:t,min:K(s,i),max:J(s,i)}),f=!0)}}),f&&sn(r,"selection",e,function(e){r.zoom(e)})),n.selectionMarker=n.selectionMarker.destroy()}r&&(d(i,{cursor:"auto"}),r.cancelClick=s,r.mouseIsDown=s=!1),rn(U,ht?"touchend":"mouseup",t)}var n=this,r=n.chart,i=r.container,s,o=n.zoomX&&!r.inverted||n.zoomY&&r.inverted,u=n.zoomY&&!r.inverted||n.zoomX&&r.inverted;n.hideTooltipOnMouseMove=function(e){e=on(e),n.chartPosition&&r.hoverSeries&&r.hoverSeries.isCartesian&&!r.isInsidePlot(e.pageX-n.chartPosition.left-r.plotLeft,e.pageY-n.chartPosition.top-r.plotTop)&&n.resetTracker()},n.hideTooltipOnMouseLeave=function(){n.resetTracker(),n.chartPosition=null},i.onmousedown=function(e){e=n.normalizeMouseEvent(e),!ht&&e.preventDefault&&e.preventDefault(),r.mouseIsDown=!0,r.cancelClick=!1,r.mouseDownX=n.mouseDownX=e.chartX,n.mouseDownY=e.chartY,nn(U,ht?"touchend":"mouseup",t)};var a=function(e){if(!e||!(e.touches&&e.touches.length>1)){e=n.normalizeMouseEvent(e),ht||(e.returnValue=!1);var t=e.chartX,i=e.chartY,a=!r.isInsidePlot(t-r.plotLeft,i-r.plotTop);ht&&e.type==="touchstart"&&(c(e.target,"isTracker")?r.runTrackerClick||e.preventDefault():!r.runChartClick&&!a&&e.preventDefault()),a&&(t<r.plotLeft?t=r.plotLeft:t>r.plotLeft+r.plotWidth&&(t=r.plotLeft+r.plotWidth),i<r.plotTop?i=r.plotTop:i>r.plotTop+r.plotHeight&&(i=r.plotTop+r.plotHeight));if(r.mouseIsDown&&e.type!=="touchstart"&&(s=Math.sqrt(Math.pow(n.mouseDownX-t,2)+Math.pow(n.mouseDownY-i,2)),s>10)){var f=r.isInsidePlot(n.mouseDownX-r.plotLeft,n.mouseDownY-r.plotTop);r.hasCartesianSeries&&(n.zoomX||n.zoomY)&&f&&!n.selectionMarker&&(n.selectionMarker=r.renderer.rect(r.plotLeft,r.plotTop,o?1:r.plotWidth,u?1:r.plotHeight,0).attr({fill:n.options.chart.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add());if(n.selectionMarker&&o){var l=t-n.mouseDownX;n.selectionMarker.attr({width:Q(l),x:(l>0?0:l)+n.mouseDownX})}n.selectionMarker&&u&&(i-=n.mouseDownY,n.selectionMarker.attr({height:Q(i),y:(i>0?0:i)+n.mouseDownY})),f&&!n.selectionMarker&&n.options.chart.panning&&r.pan(t)}return a||n.onmousemove(e),a||!r.hasCartesianSeries}};i.onmousemove=a,nn(i,"mouseleave",n.hideTooltipOnMouseLeave),nn(U,"mousemove",n.hideTooltipOnMouseMove),i.ontouchstart=function(e){(n.zoomX||n.zoomY)&&i.onmousedown(e),a(e)},i.ontouchmove=a,i.ontouchend=function(){s&&n.resetTracker()},i.onclick=function(t){var i=r.hoverPoint,s,o,t=n.normalizeMouseEvent(t);t.cancelBubble=!0,r.cancelClick||(i&&(c(t.target,"isTracker")||c(t.target.parentNode,"isTracker"))?(s=i.plotX,o=i.plotY,e(i,{pageX:n.chartPosition.left+r.plotLeft+(r.inverted?r.plotWidth-o:s),pageY:n.chartPosition.top+r.plotTop+(r.inverted?r.plotHeight-s:o)}),sn(i.series,"click",e(t,{point:i})),i.firePointEvent("click",t)):(e(t,n.getMouseCoordinates(t)),r.isInsidePlot(t.chartX-r.plotLeft,t.chartY-r.plotTop)&&sn(r,"click",t)))}},destroy:function(){var e=this.chart,t=e.container;e.trackerGroup&&(e.trackerGroup=e.trackerGroup.destroy()),rn(t,"mouseleave",this.hideTooltipOnMouseLeave),rn(U,"mousemove",this.hideTooltipOnMouseMove),t.onclick=t.onmousedown=t.onmousemove=t.ontouchstart=t.ontouchend=t.ontouchmove=null,clearInterval(this.tooltipTimeout)},init:function(e,t){e.trackerGroup||(e.trackerGroup=e.renderer.g("tracker").attr({zIndex:9}).add()),t.enabled&&(e.tooltip=new j(e,t)),this.setDOMEvents()}},I.prototype={init:function(e){var t=this,r=t.options=e.options.legend;if(r.enabled){var i=r.itemStyle,s=p(r.padding,8),o=r.itemMarginTop||0;t.baseline=n(i.fontSize)+3+o,t.itemStyle=i,t.itemHiddenStyle=tn(i,r.itemHiddenStyle),t.itemMarginTop=o,t.padding=s,t.initialItemX=s,t.initialItemY=s-5,t.maxItemWidth=0,t.chart=e,t.itemHeight=0,t.lastLineHeight=0,t.render(),nn(t.chart,"endResize",function(){t.positionCheckboxes()})}},colorizeItem:function(e,t){var n=this.options,r=e.legendItem,i=e.legendLine,s=e.legendSymbol,o=this.itemHiddenStyle.color,n=t?n.itemStyle.color:o,u=t?e.color:o,o=e.options&&e.options.marker,a={stroke:u,fill:u},f;r&&r.css({fill:n}),i&&i.attr({stroke:u});if(s){if(o)for(f in o=e.convertAttribs(o),o)r=o[f],r!==R&&(a[f]=r);s.attr(a)}},positionItem:function(e){var t=this.options,n=t.symbolPadding,t=!t.rtl,r=e._legendItemPos,i=r[0],r=r[1],s=e.checkbox;e.legendGroup&&e.legendGroup.translate(t?i:this.legendWidth-i-2*n-4,r),s&&(s.x=i,s.y=r)},destroyItem:function(e){var t=e.checkbox;Gt(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&e[t].destroy()}),t&&k(e.checkbox)},destroy:function(){var e=this.group,t=this.box;t&&(this.box=t.destroy()),e&&(this.group=e.destroy())},positionCheckboxes:function(){var e=this;Gt(e.allItems,function(t){var n=t.checkbox,r=e.group.alignAttr;n&&d(n,{left:r.translateX+t.legendItemWidth+n.x-20+"px",top:r.translateY+n.y+3+"px"})})},renderItem:function(e){var t,n=this,r=n.chart,i=r.renderer,s=n.options,o=s.layout==="horizontal",u=s.symbolWidth,a=s.symbolPadding,f=n.itemStyle,l=n.itemHiddenStyle,c=n.padding,h=!s.rtl,p=s.width,d=s.itemMarginBottom||0,m=n.itemMarginTop,g=n.initialItemX,y=e.legendItem,b=e.series||e,w=b.options,E=w.showCheckbox;!y&&(e.legendGroup=i.g("legend-item").attr({zIndex:1}).add(n.scrollGroup),b.drawLegendSymbol(n,e),e.legendItem=y=i.text(s.labelFormatter.call(e),h?u+a:-a,n.baseline,s.useHTML).css(tn(e.visible?f:l)).attr({align:h?"left":"right",zIndex:2}).add(e.legendGroup),e.legendGroup.on("mouseover",function(){e.setState("hover"),y.css(n.options.itemHoverStyle)}).on("mouseout",function(){y.css(e.visible?f:l),e.setState()}).on("click",function(t){var n=function(){e.setVisible()},t={browserEvent:t};e.firePointEvent?e.firePointEvent("legendItemClick",t,n):sn(e,"legendItemClick",t,n)}),n.colorizeItem(e,e.visible),w&&E)&&(e.checkbox=v("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},s.itemCheckboxStyle,r.container),nn(e.checkbox,"click",function(t){sn(e,"checkboxClick",{checked:t.target.checked},function(){e.select()})})),i=y.getBBox(),t=e.legendItemWidth=s.itemWidth||u+a+i.width+c+(E?20:0),s=t,n.itemHeight=u=i.height,o&&n.itemX-g+s>(p||r.chartWidth-2*c-g)&&(n.itemX=g,n.itemY+=m+n.lastLineHeight+d,n.lastLineHeight=0),n.maxItemWidth=J(n.maxItemWidth,s),n.lastItemY=m+n.itemY+d,n.lastLineHeight=J(u,n.lastLineHeight),e._legendItemPos=[n.itemX,n.itemY],o?n.itemX+=s:(n.itemY+=m+u+d,n.lastLineHeight=u),n.offsetWidth=p||J(o?n.itemX-g:s,n.offsetWidth)},render:function(){var t=this,n=t.chart,r=n.renderer,i=t.group,s,o,u,a,f=t.box,l=t.options,c=t.padding,h=l.borderWidth,p=l.backgroundColor;t.itemX=t.initialItemX,t.itemY=t.initialItemY,t.offsetWidth=0,t.lastItemY=0,i||(t.group=i=r.g("legend").attr({zIndex:7}).add(),t.contentGroup=r.g().attr({zIndex:1}).add(i),t.scrollGroup=r.g().add(t.contentGroup),t.clipRect=r.clipRect(0,0,9999,n.chartHeight),t.contentGroup.clip(t.clipRect)),s=[],Gt(n.series,function(e){var t=e.options;t.showInLegend&&(s=s.concat(e.legendItems||(t.legendType==="point"?e.data:e)))}),x(s,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),l.reversed&&s.reverse(),t.allItems=s,t.display=o=!!s.length,Gt(s,function(e){t.renderItem(e)}),u=l.width||t.offsetWidth,a=t.lastItemY+t.lastLineHeight,a=t.handleOverflow(a);if(h||p)u+=c,a+=c,f?u>0&&a>0&&(f[f.isNew?"attr":"animate"](f.crisp(null,null,null,u,a)),f.isNew=!1):(t.box=f=r.rect(0,0,u,a,l.borderRadius,h||0).attr({stroke:l.borderColor,"stroke-width":h||0,fill:p||xt}).add(i).shadow(l.shadow),f.isNew=!0),f[o?"show":"hide"]();t.legendWidth=u,t.legendHeight=a,Gt(s,function(e){t.positionItem(e)}),o&&i.align(e({width:u,height:a},l),!0,n.spacingBox),n.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t=this,n=this.chart,r=n.renderer,i=this.options,s=i.y,s=n.spacingBox.height+(i.verticalAlign==="top"?-s:s)-this.padding,o=i.maxHeight,u=this.clipRect,a=i.navigation,f=p(a.animation,!0),l=a.arrowSize||12,c=this.nav;return i.layout==="horizontal"&&(s/=2),o&&(s=K(s,o)),e>s?(this.clipHeight=n=s-20,this.pageCount=$(e/n),this.currentPage=p(this.currentPage,1),this.fullHeight=e,u.attr({height:n}),c||(this.nav=c=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,l,l).on("click",function(){t.scroll(-1,f)}).add(c),this.pager=r.text("",15,10).css(a.style).add(c),this.down=r.symbol("triangle-down",0,0,l,l).on("click",function(){t.scroll(1,f)}).add(c)),t.scroll(0),e=s):c&&(u.attr({height:n.chartHeight}),c.hide(),this.scrollGroup.attr({translateY:1})),e},scroll:function(e,t){var n=this.pageCount,r=this.currentPage+e,i=this.clipHeight,s=this.options.navigation,o=s.activeColor,s=s.inactiveColor,u=this.pager,a=this.padding;r>n&&(r=n),r>0&&(t!==R&&O(t,this.chart),this.nav.attr({translateX:a,translateY:i+7,visibility:"visible"}),this.up.attr({fill:r===1?s:o}).css({cursor:r===1?"default":"pointer"}),u.attr({text:r+"/"+this.pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:r===n?s:o}).css({cursor:r===n?"default":"pointer"}),this.scrollGroup.animate({translateY:-K(i*(r-1),this.fullHeight-i+a)+1}),u.attr({text:r+"/"+n}),this.currentPage=r)}},q.prototype={initSeries:function(e){var t=this.options.chart,t=new Xt[e.type||t.type||t.defaultSeriesType];return t.init(this,e),t},addSeries:function(e,t,n){var r,i=this;return e&&(O(n,i),t=p(t,!0),sn(i,"addSeries",{options:e},function(){r=i.initSeries(e),i.isDirtyLegend=!0,t&&i.redraw()})),r},isInsidePlot:function(e,t,n){var r=n?t:e,e=n?e:t;return r>=0&&r<=this.plotWidth&&e>=0&&e<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&Gt(this.axes
,function(e){e.adjustTickAmount()}),this.maxTicks=null},redraw:function(e){var t=this.axes,n=this.series,r=this.tracker,i=this.legend,s=this.isDirtyLegend,o,u=this.isDirtyBox,a=n.length,f=a,l=this.renderer,c=l.isHidden(),h=[];O(e,this);for(c&&this.cloneRenderTo();f--;)if(e=n[f],e.isDirty&&e.options.stacking){o=!0;break}if(o)for(f=a;f--;)if(e=n[f],e.options.stacking)e.isDirty=!0;Gt(n,function(e){e.isDirty&&e.options.legendType==="point"&&(s=!0)}),s&&i.options.enabled&&(i.render(),this.isDirtyLegend=!1),this.hasCartesianSeries&&(this.isResizing||(this.maxTicks=null,Gt(t,function(e){e.setScale()})),this.adjustTickAmounts(),this.getMargins(),Gt(t,function(e){e.isDirtyExtremes&&(e.isDirtyExtremes=!1,h.push(function(){sn(e,"afterSetExtremes",e.getExtremes())}));if(e.isDirty||u||o)e.redraw(),u=!0})),u&&this.drawChartBox(),Gt(n,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}),r&&r.resetTracker&&r.resetTracker(!0),l.draw(),sn(this,"redraw"),c&&this.cloneRenderTo(!0),Gt(h,function(e){e.call()})},showLoading:function(t){var n=this.options,r=this.loadingDiv,i=n.loading;r||(this.loadingDiv=r=v(St,{className:"highcharts-loading"},e(i.style,{left:this.plotLeft+"px",top:this.plotTop+"px",width:this.plotWidth+"px",height:this.plotHeight+"px",zIndex:10,display:xt}),this.container),this.loadingSpan=v("span",null,i.labelStyle,r)),this.loadingSpan.innerHTML=t||n.lang.loading,this.loadingShown||(d(r,{opacity:0,display:""}),un(r,{opacity:i.style.opacity},{duration:i.showDuration||0}),this.loadingShown=!0)},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&un(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){d(t,{display:xt})}}),this.loadingShown=!1},get:function(e){var t=this.axes,n=this.series,r,i;for(r=0;r<t.length;r++)if(t[r].options.id===e)return t[r];for(r=0;r<n.length;r++)if(n[r].options.id===e)return n[r];for(r=0;r<n.length;r++){i=n[r].points||[];for(t=0;t<i.length;t++)if(i[t].id===e)return i[t]}return null},getAxes:function(){var e=this,t=this.options,n=t.xAxis||{},t=t.yAxis||{},n=h(n);Gt(n,function(e,t){e.index=t,e.isX=!0}),t=h(t),Gt(t,function(e,t){e.index=t}),n=n.concat(t),Gt(n,function(t){new B(e,t)}),e.adjustTickAmounts()},getSelectedPoints:function(){var e=[];return Gt(this.series,function(t){e=e.concat(Yt(t.points,function(e){return e.selected}))}),e},getSelectedSeries:function(){return Yt(this.series,function(e){return e.selected})},showResetZoom:function(){var e=this,t=mt.lang,n=e.options.chart.resetZoomButton,r=n.theme,i=r.states,s=n.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},r,i&&i.hover).attr({align:n.position.align,title:t.resetZoomTitle}).add().align(n.position,!1,e[s]),this.resetZoomButton.alignTo=s},zoomOut:function(){var e=this,t=e.resetZoomButton;sn(e,"selection",{resetSelection:!0},function(){e.zoom()}),t&&(e.resetZoomButton=t.destroy())},zoom:function(e){var t=this,n;!e||e.resetSelection?Gt(t.axes,function(e){n=e.zoom()}):Gt(e.xAxis.concat(e.yAxis),function(e){var r=e.axis;t.tracker[r.isXAxis?"zoomX":"zoomY"]&&(n=r.zoom(e.min,e.max))}),t.resetZoomButton||t.showResetZoom(),n&&t.redraw(p(t.options.chart.animation,t.pointCount<100))},pan:function(e){var t=this.xAxis[0],n=this.mouseDownX,r=t.pointRange/2,i=t.getExtremes(),s=t.translate(n-e,!0)+r,n=t.translate(n+this.plotWidth-e,!0)-r;(r=this.hoverPoints)&&Gt(r,function(e){e.setState()}),t.series.length&&s>K(i.dataMin,i.min)&&n<J(i.dataMax,i.max)&&t.setExtremes(s,n,!0,!1,{trigger:"pan"}),this.mouseDownX=e,d(this.container,{cursor:"move"})},setTitle:function(e,t){var n=this,r=n.options,i;n.chartTitleOptions=i=tn(r.title,e),n.chartSubtitleOptions=r=tn(r.subtitle,t),Gt([["title",e,i],["subtitle",t,r]],function(e){var t=e[0],r=n[t],i=e[1],e=e[2];r&&i&&(n[t]=r=r.destroy()),e&&e.text&&!r&&(n[t]=n.renderer.text(e.text,0,0,e.useHTML).attr({align:e.align,"class":"highcharts-"+t,zIndex:e.zIndex||4}).css(e.style).add().align(e,!1,n.spacingBox))})},getChartSize:function(){var e=this.options.chart,t=this.renderToClone||this.renderTo;this.containerWidth=Jt(t,"width"),this.containerHeight=Jt(t,"height"),this.chartWidth=e.width||this.containerWidth||600,this.chartHeight=e.height||(this.containerHeight>19?this.containerHeight:400)},cloneRenderTo:function(e){var t=this.renderToClone,n=this.container;e?t&&(this.renderTo.appendChild(n),k(t),delete this.renderToClone):(n&&this.renderTo.removeChild(n),this.renderToClone=t=this.renderTo.cloneNode(0),d(t,{position:"absolute",top:"-9999px",display:"block"}),U.body.appendChild(t),n&&t.appendChild(n))},getContainer:function(){var t,n=this.options.chart,i,s,o;this.renderTo=t=n.renderTo,o="highcharts-"+dt++,r(t)&&(this.renderTo=t=U.getElementById(t)),t||L(13,!0),t.innerHTML="",t.offsetWidth||this.cloneRenderTo(),this.getChartSize(),i=this.chartWidth,s=this.chartHeight,this.container=t=v(St,{className:"highcharts-container"+(n.className?" "+n.className:""),id:o},e({position:"relative",overflow:"hidden",width:i+"px",height:s+"px",textAlign:"left",lineHeight:"normal",zIndex:0},n.style),this.renderToClone||t),this.renderer=n.forExport?new cn(t,i,s,!0):new ct(t,i,s),lt&&this.renderer.create(this,t,i,s)},getMargins:function(){var e=this.options.chart,t=e.spacingTop,n=e.spacingRight,r=e.spacingBottom,e=e.spacingLeft,i,s=this.legend,o=this.optionsMarginTop,u=this.optionsMarginLeft,a=this.optionsMarginRight,f=this.optionsMarginBottom,c=this.chartTitleOptions,h=this.chartSubtitleOptions,d=this.options.legend,v=p(d.margin,10),m=d.x,g=d.y,y=d.align,b=d.verticalAlign;this.resetMargins(),i=this.axisOffset,(this.title||this.subtitle)&&!l(this.optionsMarginTop)&&(h=J(this.title&&!c.floating&&!c.verticalAlign&&c.y||0,this.subtitle&&!h.floating&&!h.verticalAlign&&h.y||0))&&(this.plotTop=J(this.plotTop,h+p(c.margin,15)+t)),s.display&&!d.floating&&(y==="right"?l(a)||(this.marginRight=J(this.marginRight,s.legendWidth-m+v+n)):y==="left"?l(u)||(this.plotLeft=J(this.plotLeft,s.legendWidth+m+v+e)):b==="top"?l(o)||(this.plotTop=J(this.plotTop,s.legendHeight+g+v+t)):b==="bottom"&&!l(f)&&(this.marginBottom=J(this.marginBottom,s.legendHeight-g+v+r))),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),this.hasCartesianSeries&&Gt(this.axes,function(e){e.getOffset()}),l(u)||(this.plotLeft+=i[3]),l(o)||(this.plotTop+=i[0]),l(f)||(this.marginBottom+=i[2]),l(a)||(this.marginRight+=i[1]),this.setChartSize()},initReflow:function(){function e(e){var s=n.width||Jt(r,"width"),o=n.height||Jt(r,"height"),e=e?e.target:z;if(s&&o&&(e===z||e===U)){if(s!==t.containerWidth||o!==t.containerHeight)clearTimeout(i),t.reflowTimeout=i=setTimeout(function(){t.container&&t.resize(s,o,!1)},100);t.containerWidth=s,t.containerHeight=o}}var t=this,n=t.options.chart,r=t.renderTo,i;nn(z,"resize",e),nn(t,"destroy",function(){rn(z,"resize",e)})},resize:function(e,t,n){var r=this,i,s,o=r.resetZoomButton,u=r.title,a=r.subtitle,f;r.isResizing+=1,f=function(){r&&sn(r,"endResize",null,function(){r.isResizing-=1})},O(n,r),r.oldChartHeight=r.chartHeight,r.oldChartWidth=r.chartWidth,l(e)&&(r.chartWidth=i=X(e)),l(t)&&(r.chartHeight=s=X(t)),d(r.container,{width:i+"px",height:s+"px"}),r.renderer.setSize(i,s,n),r.plotWidth=i-r.plotLeft-r.marginRight,r.plotHeight=s-r.plotTop-r.marginBottom,r.maxTicks=null,Gt(r.axes,function(e){e.isDirty=!0,e.setScale()}),Gt(r.series,function(e){e.isDirty=!0}),r.isDirtyLegend=!0,r.isDirtyBox=!0,r.getMargins(),e=r.spacingBox,u&&u.align(null,null,e),a&&a.align(null,null,e),o&&o.align&&o.align(null,null,r[o.alignTo]),r.redraw(n),r.oldChartHeight=null,sn(r,"resize"),yt===!1?f():setTimeout(f,yt&&yt.duration||500)},setChartSize:function(){var e=this.inverted,t=this.chartWidth,n=this.chartHeight,r=this.options.chart,i=r.spacingTop,s=r.spacingRight,o=r.spacingBottom,u=r.spacingLeft,a,f,l,c;this.plotLeft=a=X(this.plotLeft),this.plotTop=f=X(this.plotTop),this.plotWidth=l=X(t-a-this.marginRight),this.plotHeight=c=X(n-f-this.marginBottom),this.plotSizeX=e?c:l,this.plotSizeY=e?l:c,this.plotBorderWidth=e=r.plotBorderWidth||0,this.spacingBox={x:u,y:i,width:t-u-s,height:n-i-o},this.plotBox={x:a,y:f,width:l,height:c},this.clipBox={x:e/2,y:e/2,width:this.plotSizeX-e,height:this.plotSizeY-e},Gt(this.axes,function(e){e.setAxisSize(),e.setAxisTranslation()})},resetMargins:function(){var e=this.options.chart,t=e.spacingRight,n=e.spacingBottom,r=e.spacingLeft;this.plotTop=p(this.optionsMarginTop,e.spacingTop),this.marginRight=p(this.optionsMarginRight,t),this.marginBottom=p(this.optionsMarginBottom,n),this.plotLeft=p(this.optionsMarginLeft,r),this.axisOffset=[0,0,0,0]},drawChartBox:function(){var e=this.options.chart,t=this.renderer,n=this.chartWidth,r=this.chartHeight,i=this.chartBackground,s=this.plotBackground,o=this.plotBorder,u=this.plotBGImage,a=e.borderWidth||0,f=e.backgroundColor,l=e.plotBackgroundColor,c=e.plotBackgroundImage,h=e.plotBorderWidth||0,p,d=this.plotLeft,v=this.plotTop,m=this.plotWidth,g=this.plotHeight,y=this.plotBox,b=this.clipRect,w=this.clipBox;p=a+(e.shadow?8:0);if(a||f)i?i.animate(i.crisp(null,null,null,n-p,r-p)):(i={fill:f||xt},a&&(i.stroke=e.borderColor,i["stroke-width"]=a),this.chartBackground=t.rect(p/2,p/2,n-p,r-p,e.borderRadius,a).attr(i).add().shadow(e.shadow));l&&(s?s.animate(y):this.plotBackground=t.rect(d,v,m,g,0).attr({fill:l}).add().shadow(e.plotShadow)),c&&(u?u.animate(y):this.plotBGImage=t.image(c,d,v,m,g).add()),b?b.animate({width:w.width,height:w.height}):this.clipRect=t.clipRect(w),h&&(o?o.animate(o.crisp(null,d,v,m,g)):this.plotBorder=t.rect(d,v,m,g,0,h).attr({stroke:e.plotBorderColor,"stroke-width":h,zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var e=this,t=e.options.chart,n,r=e.options.series,i,s;Gt(["inverted","angular","polar"],function(o){n=Xt[t.type||t.defaultSeriesType],s=e[o]||t[o]||n&&n.prototype[o];for(i=r&&r.length;!s&&i--;)(n=Xt[r[i].type])&&n.prototype[o]&&(s=!0);e[o]=s})},render:function(){var t=this,r=t.axes,i=t.renderer,s=t.options,o=s.labels,s=s.credits,u;t.setTitle(),t.legend=new I(t),Gt(r,function(e){e.setScale()}),t.getMargins(),t.maxTicks=null,Gt(r,function(e){e.setTickPositions(!0),e.setMaxTicks()}),t.adjustTickAmounts(),t.getMargins(),t.drawChartBox(),t.hasCartesianSeries&&Gt(r,function(e){e.render()}),t.seriesGroup||(t.seriesGroup=i.g("series-group").attr({zIndex:3}).add()),Gt(t.series,function(e){e.translate(),e.setTooltipPoints(),e.render()}),o.items&&Gt(o.items,function(r){var s=e(o.style,r.style),u=n(s.left)+t.plotLeft,a=n(s.top)+t.plotTop+12;delete s.left,delete s.top,i.text(r.html,u,a).attr({zIndex:2}).css(s).add()}),s.enabled&&!t.credits&&(u=s.href,t.credits=i.text(s.text,0,0).on("click",function(){u&&(location.href=u)}).attr({align:s.position.align,zIndex:8}).css(s.style).add().align(s.position)),t.hasRendered=!0},destroy:function(){var e=this,t=e.axes,n=e.series,r=e.container,i,s=r&&r.parentNode;sn(e,"destroy"),rn(e);for(i=t.length;i--;)t[i]=t[i].destroy();for(i=n.length;i--;)n[i]=n[i].destroy();Gt("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,tracker,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(t){var n=e[t];n&&n.destroy&&(e[t]=n.destroy())}),r&&(r.innerHTML="",rn(r),s&&k(r));for(i in e)delete e[i]},firstRender:function(){var e=this,t=e.options,n=e.callback;!at&&z==z.top&&U.readyState!=="complete"||lt&&!z.canvg?lt?vn.push(function(){e.firstRender()},t.global.canvasToolsURL):U.attachEvent("onreadystatechange",function(){U.detachEvent("onreadystatechange",e.firstRender),U.readyState==="complete"&&e.firstRender()}):(e.getContainer(),sn(e,"init"),Highcharts.RangeSelector&&t.rangeSelector.enabled&&(e.rangeSelector=new Highcharts.RangeSelector(e)),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),Gt(t.series||[],function(t){e.initSeries(t)}),Highcharts.Scroller&&(t.navigator.enabled||t.scrollbar.enabled)&&(e.scroller=new Highcharts.Scroller(e)),e.tracker=new F(e,t),e.render(),e.renderer.draw(),n&&n.apply(e,[e]),Gt(e.callbacks,function(t){t.apply(e,[e])}),e.cloneRenderTo(!0),sn(e,"load"))},init:function(e){var t=this.options.chart,n;t.reflow!==!1&&nn(this,"load",this.initReflow);if(e)for(n in e)nn(this,n,e[n]);this.xAxis=[],this.yAxis=[],this.animation=lt?!1:p(t.animation,!0),this.setSize=this.resize,this.pointCount=0,this.counters=new S,this.firstRender()}},q.prototype.callbacks=[];var mn=function(){};mn.prototype={init:function(e,t,n){var r=e.chart.counters;return this.series=e,this.applyOptions(t,n),this.pointAttr={},e.options.colorByPoint&&(t=e.chart.options.colors,this.color=this.color||t[r.color++],r.wrapColor(t.length)),e.chart.pointCount++,this},applyOptions:function(t,n){var r=this.series,i=typeof t;this.config=t,i==="number"||t===null?this.y=t:typeof t[0]=="number"?(this.x=t[0],this.y=t[1]):i==="object"&&typeof t.length!="number"?(e(this,t),this.options=t,t.dataLabels&&(r._hasPointLabels=!0),t.marker&&(r._hasPointMarkers=!0)):typeof t[0]=="string"&&(this.name=t[0],this.y=t[1]),this.x===R&&(this.x=n===R?r.autoIncrement():n)},destroy:function(){var e=this.series.chart,t=e.hoverPoints,n;e.pointCount--,t&&(this.setState(),f(t,this),!t.length)&&(e.hoverPoints=null),this===e.hoverPoint&&this.onMouseOut();if(this.graphic||this.dataLabel)rn(this),this.destroyElements();this.legendItem&&e.legend.destroyItem(this);for(n in this)this[n]=null},destroyElements:function(){for(var e="graphic,tracker,dataLabel,group,connector,shadowGroup".split(","),t,n=6;n--;)t=e[n],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},select:function(e,t){var n=this,r=n.series.chart,e=p(e,!n.selected);n.firePointEvent(e?"select":"unselect",{accumulate:t},function(){n.selected=e,n.setState(e&&"select"),t||Gt(r.getSelectedPoints(),function(e){e.selected&&e!==n&&(e.selected=!1,e.setState(""),e.firePointEvent("unselect"))})})},onMouseOver:function(){var e=this.series,t=e.chart,n=t.tooltip,r=t.hoverPoint;r&&r!==this&&r.onMouseOut(),this.firePointEvent("mouseOver"),n&&(!n.shared||e.noSharedTooltip)&&n.refresh(this),this.setState("hover"),t.hoverPoint=this},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;if(!t||Qt(this,t)===-1)this.firePointEvent("mouseOut"),this.setState(),e.hoverPoint=null},tooltipFormatter:function(e){var t=this.series,n=t.tooltipOptions,i=e.match(/\{(series|point)\.[a-zA-Z]+\}/g),s=/[{\.}]/,o,u,a,f,l={y:0,open:0,high:0,low:0,close:0,percentage:1,total:1};n.valuePrefix=n.valuePrefix||n.yPrefix,n.valueDecimals=n.valueDecimals||n.yDecimals,n.valueSuffix=n.valueSuffix||n.ySuffix;for(f in i)u=i[f],r(u)&&u!==e&&(a=(" "+u).split(s),o={point:this,series:t}[a[1]],a=a[2],o===this&&l.hasOwnProperty(a)?(o=l[a]?a:"value",o=(n[o+"Prefix"]||"")+g(this[a],p(n[o+"Decimals"],-1))+(n[o+"Suffix"]||"")):o=o[a],e=e.replace(u,o));return e},update:function(e,t,n){var r=this,s=r.series,o=r.graphic,u,a=s.data,f=a.length,l=s.chart,t=p(t,!0);r.firePointEvent("update",{options:e},function(){r.applyOptions(e),i(e)&&(s.getAttribs(),o&&o.attr(r.pointAttr[s.state]));for(u=0;u<f;u++)if(a[u]===r){s.xData[u]=r.x,s.yData[u]=r.y,s.options.data[u]=e;break}s.isDirty=!0,s.isDirtyData=!0,t&&l.redraw(n)})},remove:function(e,t){var n=this,r=n.series,i=r.chart,s,o=r.data,u=o.length;O(t,i),e=p(e,!0),n.firePointEvent("remove",null,function(){for(s=0;s<u;s++)if(o[s]===n){o.splice(s,1),r.options.data.splice(s,1),r.xData.splice(s,1),r.yData.splice(s,1);break}n.destroy(),r.isDirty=!0,r.isDirtyData=!0,e&&i.redraw()})},firePointEvent:function(e,t,n){var r=this,i=this.series.options;(i.point.events[e]||r.options&&r.options.events&&r.options.events[e])&&this.importEvents(),e==="click"&&i.allowPointSelect&&(n=function(e){r.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),sn(this,e,t,n)},importEvents:function(){if(!this.hasImportedEvents){var e=tn(this.series.options.point,this.options).events,t;this.events=e;for(t in e)nn(this,t,e[t]);this.hasImportedEvents=!0}},setState:function(e){var t=this.plotX,n=this.plotY,r=this.series,i=r.options.states,s=fn[r.type].marker&&r.options.marker,o=s&&!s.enabled,u=s&&s.states[e],a=u&&u.enabled===!1,f=r.stateMarkerGraphic,l=r.chart,c=this.pointAttr,e=e||"";e===this.state||this.selected&&e!=="select"||i[e]&&i[e].enabled===!1||e&&(a||o&&!u.enabled)||(this.graphic?(i=s&&this.graphic.symbolName&&c[e].r,this.graphic.attr(tn(c[e],i?{x:t-i,y:n-i,width:2*i,height:2*i}:{}))):(e&&u&&(i=u.radius,f?f.attr({x:t-i,y:n-i}):r.stateMarkerGraphic=f=l.renderer.symbol(r.symbol,t-i,n-i,2*i,2*i).attr(c[e]).add(r.markerGroup)),f&&f[e&&l.isInsidePlot(t,n)?"show":"hide"]()),this.state=e)}};var gn=function(){};gn.prototype={isCartesian:!0,type:"line",pointClass:mn,sorted:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},init:function(t,n){var r,i;this.chart=t,this.options=n=this.setOptions(n),this.bindAxes(),e(this,{name:n.name,state:"",pointAttr:{},visible:n.visible!==!1,selected:n.selected===!0}),lt&&(n.animation=!1),i=n.events;for(r in i)nn(this,r,i[r]);if(i&&i.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect)t.runTrackerClick=!0;this.getColor(),this.getSymbol(),this.setData(n.data,!1),this.isCartesian&&(t.hasCartesianSeries=!0),t.series.push(this),x(t.series,function(e,t){return(e.options.index||0)-(t.options.index||0)}),Gt(t.series,function(e,t){e.index=t,e.name=e.name||"Series "+(t+1)})},bindAxes:function(){var e=this,t=e.options,n=e.chart,r;e.isCartesian&&Gt(["xAxis","yAxis"],function(i){Gt(n[i],function(n){r=n.options;if(t[i]===r.index||t[i]===R&&r.index===0)n.series.push(e),e[i]=n,n.isDirty=!0})})},autoIncrement:function(){var e=this.options,t=this.xIncrement,t=p(t,e.pointStart,0);return this.pointInterval=p(this.pointInterval,e.pointInterval,1),this.xIncrement=t+this.pointInterval,t},getSegments:function(){var e=-1,t=[],n,r=this.points,i=r.length;if(i)if(this.options.connectNulls){for(n=i;n--;)r[n].y===null&&r.splice(n,1);r.length&&(t=[r])}else Gt(r,function(n,s){n.y===null?(s>e+1&&t.push(r.slice(e+1,s)),e=s):s===i-1&&t.push(r.slice(e+1,s+1))});this.segments=t},setOptions:function(e){var t=this.chart.options,n=t.plotOptions,r=n[this.type],i=e.data;return e.data=null,n=tn(r,n.series,e),n.data=e.data=i,this.tooltipOptions=tn(t.tooltip,n.tooltip),r.marker===null&&delete n.marker,n},getColor:function(){var e=this.options,t=this.chart.options.colors,n=this.chart.counters;this.color=e.color||!e.colorByPoint&&t[n.color++]||"gray",n.wrapColor(t.length)},getSymbol:function(){var e=this.options.marker,t=this.chart,n=t.options.symbols,t=t.counters;this.symbol=e.symbol||n[t.symbol++],/^url/.test(this.symbol)&&(e.radius=0),t.wrapSymbol(n.length)},drawLegendSymbol:function(e){var t=this.options,n=t.marker,r=e.options.symbolWidth,i=this.chart.renderer,s=this.legendGroup,e=e.baseline,o;t.lineWidth&&(o={"stroke-width":t.lineWidth},t.dashStyle&&(o.dashstyle=t.dashStyle),this.legendLine=i.path(["M",0,e-4,"L",r,e-4]).attr(o).add(s)),n&&n.enabled&&(t=n.radius,this.legendSymbol=i.symbol(this.symbol,r/2-t,e-4-t,2*t,2*t).add(s))},addPoint:function(e,t,n,r){var i=this.data,s=this.graph,o=this.area,u=this.chart,a=this.xData,f=this.yData,l=s&&s.shift||0,c=this.options.data,h=this.pointClass.prototype;O(r,u),s&&n&&(s.shift=l+1),o&&(n&&(o.shift=l+1),o.isArea=!0),t=p(t,!0),r={series:this},h.applyOptions.apply(r,[e]),a.push(r.x),f.push(h.toYData?h.toYData.call(r):r.y),c.push(e),n&&(i[0]&&i[0].remove?i[0].remove(!1):(i.shift(),a.shift(),f.shift(),c.shift())),this.getAttribs(),this.isDirtyData=this.isDirty=!0,t&&u.redraw()},setData:function(e,t){var n=this.points,i=this.options,u=this.initialColor,a=this.chart,f=null,c=this.xAxis,h,d=this.pointClass.prototype;this.xIncrement=null,this.pointRange=c&&c.categories?1:i.pointRange,l(u)&&(a.counters.color=u);var u=[],v=[],m=e?e.length:[],g=(h=this.pointArrayMap)&&h.length;if(m>(i.turboThreshold||1e3)){for(h=0;f===null&&h<m;)f=e[h],h++;if(o(f)){d=p(i.pointStart,0),i=p(i.pointInterval,1);for(h=0;h<m;h++)u[h]=d,v[h]=e[h],d+=i;this.xIncrement=d}else if(s(f))if(g)for(h=0;h<m;h++)i=e[h],u[h]=i[0],v[h]=i.slice(1,g+1);else for(h=0;h<m;h++)i=e[h],u[h]=i[0],v[h]=i[1]}else for(h=0;h<m;h++)i={series:this},d.applyOptions.apply(i,[e[h]]),u[h]=i.x,v[h]=d.toYData?d.toYData.call(i):i.y;r(v[0])&&L(14,!0),this.data=[],this.options.data=e,this.xData=u,this.yData=v;for(h=n&&n.length||0;h--;)n[h]&&n[h].destroy&&n[h].destroy();c&&(c.minRange=c.userMinRange),this.isDirty=this.isDirtyData=a.isDirtyBox=!0,p(t,!0)&&a.redraw(!1)},remove:function(e,t){var n=this,r=n.chart,e=p(e,!0);n.isRemoving||(n.isRemoving=!0,sn(n,"remove",null,function(){n.destroy(),r.isDirtyLegend=r.isDirtyBox=!0,e&&r.redraw(t)})),n.isRemoving=!1},processData:function(e){var t=this.xData,n=this.yData,r=t.length,i=0,s=r,o,u,a=this.xAxis,f=this.options,l=f.cropThreshold,c=this.isCartesian;if(c&&!this.isDirty&&!a.isDirty&&!this.yAxis.isDirty&&!e)return!1;if(c&&this.sorted&&(!l||r>l||this.forceCrop))if(e=a.getExtremes(),a=e.min,l=e.max,t[r-1]<a||t[0]>l)t=[],n=[];else if(t[0]<a||t[r-1]>l){for(e=0;e<r;e++)if(t[e]>=a){i=J(0,e-1);break}for(;e<r;e++)if(t[e]>l){s=e+1;break}t=t.slice(i,s),n=n.slice(i,s),o=!0}for(e=t.length-1;e>0;e--)if(r=t[e]-t[e-1],r>0&&(u===R||r<u))u=r;this.cropped=o,this.cropStart=i,this.processedXData=t,this.processedYData=n,f.pointRange===null&&(this.pointRange=u||1),this.closestPointRange=u},generatePoints:function(){var e=this.options.data,t=this.data,n,r=this.processedXData,i=this.processedYData,s=this.pointClass,o=r.length,u=this.cropStart||0,a,f=this.hasGroupedData,l,c=[],p;!t&&!f&&(t=[],t.length=e.length,t=this.data=t);for(p=0;p<o;p++)a=u+p,f?c[p]=(new s).init(this,[r[p]].concat(h(i[p]))):(t[a]?l=t[a]:e[a]!==R&&(t[a]=l=(new s).init(this,e[a],r[p])),c[p]=l);if(t&&(o!==(n=t.length)||f))for(p=0;p<n;p++)if(p===u&&!f&&(p+=o),t[p])t[p].destroyElements(),t[p].plotX=R;this.data=t,this.points=c},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var e=this.chart,t=this.options,n=t.stacking,r=this.xAxis,i=r.categories,s=this.yAxis,o=this.points,u=o.length,a=!!this.modifyValue,f,c=s.series,h=c.length,d=t.pointPlacement==="between";h--;)if(c[h].visible){c[h]===this&&(f=!0);break}for(h=0;h<u;h++){var c=o[h],v=c.x,m=c.y,g=c.low,y=s.stacks[(m<t.threshold?"-":"")+this.stackKey];c.plotX=r.translate(v,0,0,0,1,d),n&&this.visible&&y&&y[v]&&(g=y[v],v=g.total,g.cum=g=g.cum-m,m=g+m,f&&(g=p(t.threshold,s.min)),s.isLog&&g<=0&&(g=null),n==="percent"&&(g=v?g*100/v:0,m=v?m*100/v:0),c.percentage=v?c.y*100/v:0,c.total=c.stackTotal=v,c.stackY=m),c.yBottom=l(g)?s.translate(g,0,1,0,1):null,a&&(m=this.modifyValue(m,c)),c.plotY=typeof m=="number"?X(s.translate(m,0,1,0,1)*10)/10:R,c.clientX=e.inverted?e.plotHeight-c.plotX:c.plotX,c.category=i&&i[c.x]!==R?i[c.x]:c.x}this.getSegments()},setTooltipPoints:function(e){var t=[],n,r,i=(n=this.xAxis)?n.tooltipLen||n.len:this.chart.plotSizeX,s=n&&n.tooltipPosName||"plotX",o,u,a=[];if(this.options.enableMouseTracking!==!1){e&&(this.tooltipPoints=null),Gt(this.segments||this.points,function(e){t=t.concat(e)}),n&&n.reversed&&(t=t.reverse()),e=t.length;for(u=0;u<e;u++){o=t[u],n=t[u-1]?r+1:0;for(r=t[u+1]?J(0,V((o[s]+(t[u+1]?t[u+1][s]:i))/2)):i;n>=0&&n<=r;)a[n++]=o}this.tooltipPoints=a}},tooltipHeaderFormatter:function(e){var t=this.tooltipOptions,n=t.xDateFormat,r=this.xAxis,i=r&&r.options.type==="datetime",s;if(i&&!n)for(s in wt)if(wt[s]>=r.closestPointRange){n=t.dateTimeLabelFormats[s];break}return t.headerFormat.replace("{point.key}",i&&o(e)?gt(n,e):e).replace("{series.name}",this.name).replace("{series.color}",this.color)},onMouseOver:function(){var e=this.chart,t=e.hoverSeries;t&&t!==this&&t.onMouseOut(),this.options.events.mouseOver&&sn(this,"mouseOver"),this.setState("hover"),e.hoverSeries=this},onMouseOut:function(){var e=this.options,t=this.chart,n=t.tooltip,r=t.hoverPoint;r&&r.onMouseOut(),this&&e.events.mouseOut&&sn(this,"mouseOut"),n&&!e.stickyTracking&&!n.shared&&n.hide(),this.setState(),t.hoverSeries=null},animate:function(t){var n=this,r=n.chart,s=r.renderer,o;o=n.options.animation;var u=r.clipBox,a=r.inverted,f;o&&!i(o)&&(o=fn[n.type].animation),f="_sharedClip"+o.duration+o.easing;if(t)t=r[f],o=r[f+"m"],t||(r[f]=t=s.clipRect(e(u,{width:0})),r[f+"m"]=o=s.clipRect(-99,a?-r.plotLeft:-r.plotTop,99,a?r.chartWidth:r.chartHeight)),n.group.clip(t),n.markerGroup.clip(o),n.sharedClipKey=f;else{if(t=r[f])t.animate({width:r.plotSizeX},o),r[f+"m"].animate({width:r.plotSizeX+99},o);n.animate=null,n.animationTimeout=setTimeout(function(){n.afterAnimate()},o.duration)}},afterAnimate:function(){var e=this.chart,t=this.sharedClipKey,n=this.group;n&&this.options.clip!==!1&&(n.clip(e.clipRect),this.markerGroup.clip()),setTimeout(function(){t&&e[t]&&(e[t]=e[t].destroy(),e[t+"m"]=e[t+"m"].destroy())},100)},drawPoints:function(){var t,n=this.points,r=this.chart,i,s,o,u,a,f,l,c,h=this.options.marker,d,v=this.markerGroup;if(h.enabled||this._hasPointMarkers)for(o=n.length;o--;)(u=n[o],i=u.plotX,s=u.plotY,c=u.graphic,f=u.marker||{},t=h.enabled&&f.enabled===R||f.enabled,d=r.isInsidePlot(i,s,r.inverted),t&&s!==R&&!isNaN(s))?(t=u.pointAttr[u.selected?"select":""],a=t.r,f=p(f.symbol,this.symbol),l=f.indexOf("url")===0,c)?c.attr({visibility:d?at?"inherit":"visible":"hidden"}).animate(e({x:i-a,y:s-a},c.symbolName?{width:2*a,height:2*a}:{})):d&&(a>0||l)&&(u.graphic=r.renderer.symbol(f,i-a,s-a,2*a,2*a).attr(t).add(v)):c&&(u.graphic=c.destroy())},convertAttribs:function(e,t,n,r){var i=this.pointAttrToOptions,s,o,u={},e=e||{},t=t||{},n=n||{},r=r||{};for(s in i)o=i[s],u[s]=p(e[o],t[s],n[s],r[s]);return u},getAttribs:function(){var t=this,n=fn[t.type].marker?t.options.marker:t.options,r=n.states,i=r.hover,s,o=t.color,u={stroke:o,fill:o},a=t.points||[],f=[],c,h=t.pointAttrToOptions,p;t.options.marker?(i.radius=i.radius||n.radius+2,i.lineWidth=i.lineWidth||n.lineWidth+1):i.color=i.color||ln(i.color||o).brighten(i.brightness).get(),f[""]=t.convertAttribs(n,u),Gt(["hover","select"],function(e){f[e]=t.convertAttribs(r[e],f[""])}),t.pointAttr=f;for(o=a.length;o--;){u=a[o],(n=u.options&&u.options.marker||u.options)&&n.enabled===!1&&(n.radius=0),s=t.options.colorByPoint;if(u.options)for(p in h)l(n[h[p]])&&(s=!0);s?(n=n||{},c=[],r=n.states||{},s=r.hover=r.hover||{},t.options.marker||(s.color=ln(s.color||u.color).brighten(s.brightness||i.brightness).get()),c[""]=t.convertAttribs(e({color:u.color},n),f[""]),c.hover=t.convertAttribs(r.hover,f.hover,c[""]),c.select=t.convertAttribs(r.select,f.select,c[""])):c=f,u.pointAttr=c}},destroy:function(){var e=this,t=e.chart,n=/AppleWebKit\/533/.test(tt),r,i,s=e.data||[],o,u,a;sn(e,"destroy"),rn(e),Gt(["xAxis","yAxis"],function(t){if(a=e[t])f(a.series,e),a.isDirty=!0}),e.legendItem&&e.chart.legend.destroyItem(e);for(i=s.length;i--;)(o=s[i])&&o.destroy&&o.destroy();e.points=null,clearTimeout(e.animationTimeout),Gt("area,graph,dataLabelsGroup,group,markerGroup,tracker,trackerGroup".split(","),function(t){e[t]&&(r=n&&t==="group"?"hide":"destroy",e[t][r]())}),t.hoverSeries===e&&(t.hoverSeries=null),f(t.series,e);for(u in e)delete e[u]},drawDataLabels:function(){var e=this,t=e.options.dataLabels,n=e.points,r,i,s,o;if(t.enabled||e._hasPointLabels)e.dlProcessOptions&&e.dlProcessOptions(t),o=e.plotGroup("dataLabelsGroup","data-labels",e.visible?"visible":"hidden",6),i=t,Gt(n,function(n){var u,a=n.dataLabel,f,c=!0;r=n.options&&n.options.dataLabels,u=i.enabled||r&&r.enabled;if(a&&!u)n.dataLabel=a.destroy();else if(u){u=t.rotation,t=tn(i,r),s=t.formatter.call(n.getLabelConfig(),t),t.style.color=p(t.color,t.style.color,e.color,"black");if(a)a.attr({text:s}),c=!1;else if(l(s)){a={fill:t.backgroundColor,stroke:t.borderColor,"stroke-width":t.borderWidth,r:t.borderRadius||0,rotation:u,padding:t.padding,zIndex:1};for(f in a)a[f]===R&&delete a[f];a=n.dataLabel=e.chart.renderer[u?"text":"label"](s,0,-999,null,null,null,t.useHTML).attr(a).css(t.style).add(o).shadow(t.shadow)}a&&e.alignDataLabel(n,a,t,null,c)}})},alignDataLabel:function(t,n,r,i,s){var o=this.chart,u=o.inverted,a=p(t.plotX,-999),t=p(t.plotY,-999),f=n.getBBox(),i=e({x:u?o.plotWidth-t:a,y:X(u?o.plotHeight-a:t),width:0,height:0},i);e(r,{width:f.width,height:f.height}),r.rotation?(i={align:r.align,x:i.x+r.x+i.width/2,y:i.y+r.y+i.height/2},n[s?"attr":"animate"](i)):(n.align(r,null,i),i=n.alignAttr),n.attr({visibility:r.crop===!1||o.isInsidePlot(i.x,i.y)||o.isInsidePlot(a,t,u)?at?"inherit":"visible":"hidden"})},getSegmentPath:function(e){var t=this,n=[];return Gt(e,function(r,i){t.getPointSpline?n.push.apply(n,t.getPointSpline(e,r,i)):(n.push(i?"L":"M"),i&&t.options.step&&n.push(r.plotX,e[i-1].plotY),n.push(r.plotX,r.plotY))}),n},getGraphPath:function(){var e=this,t=[],n,r=[];return Gt(e.segments,function(i){n=e.getSegmentPath(i),i.length>1?t=t.concat(n):r.push(i[0])}),e.singlePoints=r,e.graphPath=t},drawGraph:function(){var e=this.options,t=this.graph,n=this.group,r=e.lineColor||this.color,i=e.lineWidth,s=e.dashStyle,o=this.getGraphPath();t?(an(t),t.animate({d:o})):i&&(t={stroke:r,"stroke-width":i,zIndex:1},s&&(t.dashstyle=s),this.graph=this.chart.renderer.path(o).attr(t).add(n).shadow(e.shadow))},invertGroups:function(){function e(){var e={width:t.yAxis.len,height:t.xAxis.len};Gt(["group","trackerGroup","markerGroup"],function(n){t[n]&&t[n].attr(e).invert()})}var t=this,n=t.chart;nn(n,"resize",e),nn(t,"destroy",function(){rn(n,"resize",e)}),e(),t.invertGroups=e},plotGroup:function(e,t,n,r,i){var s=this[e],o=this.chart,u=this.xAxis,a=this.yAxis;return s||(this[e]=s=o.renderer.g(t).attr({visibility:n,zIndex:r||.1}).add(i)),s.translate(u?u.left:o.plotLeft,a?a.top:o.plotTop),s},render:function(){var e=this.chart,t,n=this.options,r=n.animation&&!!this.animate,i=this.visible?"visible":"hidden",s=n.zIndex,o=this.hasRendered,u=e.seriesGroup;t=this.plotGroup("group","series",i,s,u),this.markerGroup=this.plotGroup("markerGroup","markers",i,s,u),r&&this.animate(!0),this.getAttribs(),t.inverted=e.inverted,this.drawGraph&&this.drawGraph(),this.drawPoints(),this.drawDataLabels(),this.options.enableMouseTracking!==!1&&this.drawTracker(),e.inverted&&this.invertGroups(),n.clip!==!1&&!this.sharedClipKey&&!o&&(t.clip(e.clipRect),this.trackerGroup&&this.trackerGroup.clip(e.clipRect)),r?this.animate():o||this.afterAnimate(),this.isDirty=this.isDirtyData=!1,this.hasRendered=!0},redraw:function(){var e=this.chart,t=this.isDirtyData,n=this.group;n&&(e.inverted&&n.attr({width:e.plotWidth,height:e.plotHeight}),n.animate({translateX:this.xAxis.left,translateY:this.yAxis.top})),this.translate(),this.setTooltipPoints(!0),this.render(),t&&sn(this,"updatedData")},setState:function(e){var t=this.options,n=this.graph,r=t.states,t=t.lineWidth,e=e||"";this.state!==e&&(this.state=e,r[e]&&r[e].enabled===!1||(e&&(t=r[e].lineWidth||t+1),n&&!n.dashstyle&&n.attr({"stroke-width":t},e?0:500)))},setVisible:function(e,t){var n=this.chart,r=this.legendItem,i=this.group,s=this.tracker,o=this.dataLabelsGroup,u=this.markerGroup,a,f=this.points,l=n.options.chart.ignoreHiddenSeries;a=this.visible,a=(this.visible=e=e===R?!a:e)?"show":"hide",i&&i[a](),u&&u[a]();if(s)s[a]();else if(f)for(i=f.length;i--;)(s=f[i],s.tracker)&&s.tracker[a]();o&&o[a](),r&&n.legend.colorizeItem(this,e),this.isDirty=!0,this.options.stacking&&Gt(n.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),l&&(n.isDirtyBox=!0),t!==!1&&n.redraw(),sn(this,a)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=e===R?!this.selected:e,this.checkbox&&(this.checkbox.checked=e),sn(this,e?"select":"unselect")},drawTracker:function(){var e=this,t=e.options,n=t.trackByArea,r=[].concat(n?e.areaPath:e.graphPath),i=r.length,s=e.chart,o=s.renderer,u=s.options.tooltip.snap,a=e.tracker,f=t.cursor,f=f&&{cursor:f},l=e.singlePoints,c=this.isCartesian&&this.plotGroup("trackerGroup",null,"visible",t.zIndex||1,s.trackerGroup),h;if(i&&!n)for(h=i+1;h--;)r[h]==="M"&&r.splice(h+1,0,r[h+1]-u,r[h+2],"L"),(h&&r[h]==="M"||h===i)&&r.splice(h,0,"L",r[h-2]+u,r[h-1]);for(h=0;h<l.length;h++)i=l[h],r.push("M",i.plotX-u,i.plotY,"L",i.plotX+u,i.plotY);a?a.attr({d:r}):e.tracker=o.path(r).attr({isTracker:!0,"stroke-linejoin":"bevel",visibility:e.visible?"visible":"hidden",stroke:Tt,fill:n?Tt:xt,"stroke-width":t.lineWidth+(n?0:2*u)}).on(ht?"touchstart":"mouseover",function(){s.hoverSeries!==e&&e.onMouseOver()}).on("mouseout",function(){t.stickyTracking||e.onMouseOut()}).css(f).add(c)}},$t=m(gn),Xt.line=$t,fn.area=tn(Vt,{threshold:0}),$t=m(gn,{type:"area",getSegmentPath:function(e){var t=gn.prototype.getSegmentPath.call(this,e),n=[].concat(t),r,i=this.options;t.length===3&&n.push("L",t[1],t[2]);if(i.stacking&&!this.closedStacks
)for(r=e.length-1;r>=0;r--)r<e.length-1&&i.step&&n.push(e[r+1].plotX,e[r].yBottom),n.push(e[r].plotX,e[r].yBottom);else this.closeSegment(n,e);return this.areaPath=this.areaPath.concat(n),t},closeSegment:function(e,t){var n=this.yAxis.getThreshold(this.options.threshold);e.push("L",t[t.length-1].plotX,n,"L",t[0].plotX,n)},drawGraph:function(){this.areaPath=[],gn.prototype.drawGraph.apply(this);var e=this.areaPath,t=this.options,n=this.area;n?n.animate({d:e}):this.area=this.chart.renderer.path(e).attr({fill:p(t.fillColor,ln(this.color).setOpacity(t.fillOpacity||.75).get()),zIndex:0}).add(this.group)},drawLegendSymbol:function(e,t){t.legendSymbol=this.chart.renderer.rect(0,e.baseline-11,e.options.symbolWidth,12,2).attr({zIndex:3}).add(t.legendGroup)}}),Xt.area=$t,fn.spline=tn(Vt),pn=m(gn,{type:"spline",getPointSpline:function(e,t,n){var r=t.plotX,i=t.plotY,s=e[n-1],o=e[n+1],u,a,f,l;if(s&&o){e=s.plotY,f=o.plotX;var o=o.plotY,c;u=(1.5*r+s.plotX)/2.5,a=(1.5*i+e)/2.5,f=(1.5*r+f)/2.5,l=(1.5*i+o)/2.5,c=(l-a)*(f-r)/(f-u)+i-l,a+=c,l+=c,a>e&&a>i?(a=J(e,i),l=2*i-a):a<e&&a<i&&(a=K(e,i),l=2*i-a),l>o&&l>i?(l=J(o,i),a=2*i-l):l<o&&l<i&&(l=K(o,i),a=2*i-l),t.rightContX=f,t.rightContY=l}return n?(t=["C",s.rightContX||s.plotX,s.rightContY||s.plotY,u||r,a||i,r,i],s.rightContX=s.rightContY=null):t=["M",r,i],t}}),Xt.spline=pn,fn.areaspline=tn(fn.area);var yn=$t.prototype,pn=m(pn,{type:"areaspline",closedStacks:!0,getSegmentPath:yn.getSegmentPath,closeSegment:yn.closeSegment,drawGraph:yn.drawGraph});Xt.areaspline=pn,fn.column=tn(Vt,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},threshold:0}),pn=m(gn,{type:"column",tooltipOutsidePlot:!0,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},init:function(){gn.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&Gt(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},translate:function(){var e=this,t=e.chart,n=e.options,r=n.stacking,i=n.borderWidth,s=0,o=e.xAxis,u=o.reversed,a={},f,c;gn.prototype.translate.apply(e),n.grouping===!1?s=1:Gt(t.series,function(t){var n=t.options;t.type===e.type&&t.visible&&e.options.group===n.group&&(n.stacking?(f=t.stackKey,a[f]===R&&(a[f]=s++),c=a[f]):n.grouping!==!1&&(c=s++),t.columnIndex=c)});var h=e.points,o=Q(o.transA)*(o.ordinalSlope||n.pointRange||o.closestPointRange||1),d=o*n.groupPadding,v=(o-2*d)/s,m=n.pointWidth,g=l(m)?(v-m)/2:v*n.pointPadding,y=p(m,v-2*g),b=$(J(y,1+2*i)),w=g+(d+((u?s-e.columnIndex:e.columnIndex)||0)*v-o/2)*(u?-1:1),E=e.translatedThreshold=e.yAxis.getThreshold(n.threshold),S=p(n.minPointLength,5);Gt(h,function(n){var s=n.plotY,o=p(n.yBottom,E),u=n.plotX+w,a=$(K(s,o)),f=$(J(s,o)-a),l=e.yAxis.stacks[(n.y<0?"-":"")+e.stackKey];r&&e.visible&&l&&l[n.x]&&l[n.x].setOffset(w,b),Q(f)<S&&S&&(f=S,a=Q(a-E)>S?o-S:E-(s<=E?S:0)),n.barX=u,n.pointWidth=y,n.shapeType="rect",n.shapeArgs=s=t.renderer.Element.prototype.crisp.call(0,i,u,a,b,f),i%2&&(s.y-=1,s.height+=1),n.trackerArgs=Q(f)<3&&tn(n.shapeArgs,{height:6,y:a-3})})},getSymbol:Et,drawLegendSymbol:$t.prototype.drawLegendSymbol,drawGraph:Et,drawPoints:function(){var e=this,t=e.options,n=e.chart.renderer,r;Gt(e.points,function(i){var s=i.plotY,o=i.graphic;s!==R&&!isNaN(s)&&i.y!==null?(r=i.shapeArgs,o?(an(o),o.animate(tn(r))):i.graphic=n[i.shapeType](r).attr(i.pointAttr[i.selected?"select":""]).add(e.group).shadow(t.shadow,null,t.stacking&&!t.borderRadius)):o&&(i.graphic=o.destroy())})},drawTracker:function(){var e=this,t=e.chart,n=t.renderer,r,i,s=+(new Date),o=e.options,u=o.cursor,a=u&&{cursor:u},f=e.isCartesian&&e.plotGroup("trackerGroup",null,"visible",o.zIndex||1,t.trackerGroup),l,h,p;Gt(e.points,function(u){i=u.tracker,r=u.trackerArgs||u.shapeArgs,h=u.plotY,p=!e.isCartesian||h!==R&&!isNaN(h),delete r.strokeWidth,u.y!==null&&p&&(i?i.attr(r):u.tracker=n[u.shapeType](r).attr({isTracker:s,fill:Tt,visibility:e.visible?"visible":"hidden"}).on(ht?"touchstart":"mouseover",function(n){l=n.relatedTarget||n.fromElement,t.hoverSeries!==e&&c(l,"isTracker")!==s&&e.onMouseOver(),u.onMouseOver()}).on("mouseout",function(t){!o.stickyTracking&&(l=t.relatedTarget||t.toElement,c(l,"isTracker")!==s)&&e.onMouseOut()}).css(a).add(u.group||f))})},alignDataLabel:function(e,t,n,r,i){var s=this.chart,o=s.inverted,u=e.below||e.plotY>(this.translatedThreshold||s.plotSizeY),a=this.options.stacking||n.inside;e.shapeArgs&&(r=tn(e.shapeArgs),o&&(r={x:s.plotWidth-r.y-r.height,y:s.plotHeight-r.x-r.width,width:r.height,height:r.width}),!a)&&(o?(r.x+=u?0:r.width,r.width=0):(r.y+=u?r.height:0,r.height=0)),n.align=p(n.align,!o||a?"center":u?"right":"left"),n.verticalAlign=p(n.verticalAlign,o||a?"middle":u?"top":"bottom"),gn.prototype.alignDataLabel.call(this,e,t,n,r,i)},animate:function(e){var t=this,n=t.points,r=t.options;e||(Gt(n,function(e){var n=e.graphic,e=e.shapeArgs,i=t.yAxis,s=r.threshold;n&&(n.attr({height:0,y:l(s)?i.getThreshold(s):i.translate(i.getExtremes().min,0,1,0,1)}),n.animate({height:e.height,y:e.y},r.animation))}),t.animate=null)},remove:function(){var e=this,t=e.chart;t.hasRendered&&Gt(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),gn.prototype.remove.apply(e,arguments)}}),Xt.column=pn,fn.bar=tn(fn.column),yn=m(pn,{type:"bar",inverted:!0}),Xt.bar=yn,fn.scatter=tn(Vt,{lineWidth:0,states:{hover:{lineWidth:0}},tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),yn=m(gn,{type:"scatter",sorted:!1,translate:function(){var e=this;gn.prototype.translate.apply(e),Gt(e.points,function(t){t.shapeType="circle",t.shapeArgs={x:t.plotX,y:t.plotY,r:e.chart.options.tooltip.snap}})},drawTracker:function(){for(var e=this,t=e.options.cursor,t=t&&{cursor:t},n=e.points,r=n.length,i;r--;)if(i=n[r].graphic)i.element._i=r;e._hasTracking?e._hasTracking=!0:e.markerGroup.attr({isTracker:!0}).on(ht?"touchstart":"mouseover",function(t){e.onMouseOver(),t.target._i!==R&&n[t.target._i].onMouseOver()}).on("mouseout",function(){e.options.stickyTracking||e.onMouseOut()}).css(t)}}),Xt.scatter=yn,fn.pie=tn(Vt,{borderColor:"#FFFFFF",borderWidth:1,center:["50%","50%"],colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},legendType:"point",marker:null,size:"75%",showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}}}),Et={type:"pie",isCartesian:!1,pointClass:m(mn,{init:function(){mn.prototype.init.apply(this,arguments);var t=this,n;return e(t,{visible:t.visible!==!1,name:p(t.name,"Slice")}),n=function(){t.slice()},nn(t,"select",n),nn(t,"unselect",n),t},setVisible:function(e){var t=this.series,n=t.chart,r=this.tracker,i=this.dataLabel,s=this.connector,o=this.shadowGroup,u;u=(this.visible=e=e===R?!this.visible:e)?"show":"hide",this.group[u](),r&&r[u](),i&&i[u](),s&&s[u](),o&&o[u](),this.legendItem&&n.legend.colorizeItem(this,e),!t.isDirty&&t.options.ignoreHiddenPoint&&(t.isDirty=!0,n.redraw())},slice:function(e,t,n){var r=this.series.chart,i=this.slicedTranslation;O(n,r),p(t,!0),e=this.sliced=l(e)?e:!this.sliced,e={translateX:e?i[0]:r.plotLeft,translateY:e?i[1]:r.plotTop},this.group.animate(e),this.shadowGroup&&this.shadowGroup.animate(e)}}),pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=this.chart.counters.color},animate:function(){var e=this;Gt(e.points,function(t){var n=t.graphic,t=t.shapeArgs,r=-Z/2;n&&(n.attr({r:0,start:r,end:r}),n.animate({r:t.r,start:t.start,end:t.end},e.options.animation))}),e.animate=null},setData:function(e,t){gn.prototype.setData.call(this,e,!1),this.processData(),this.generatePoints(),p(t,!0)&&this.chart.redraw()},getCenter:function(){var e=this.options,t=this.chart,r=t.plotWidth,i=t.plotHeight,e=e.center.concat([e.size,e.innerSize||0]),s=K(r,i),o;return en(e,function(e,t){return(o=/%$/.test(e))?[r,i,s,s][t]*n(e)/100:e})},translate:function(){this.generatePoints();var e=0,t=-0.25,n=this.options,r=n.slicedOffset,i=r+n.borderWidth,s,o=this.chart,u,a,f,l=this.points,c=2*Z,h=n.dataLabels.distance,p=n.ignoreHiddenPoint,d,v=l.length,m;this.center=s=this.getCenter(),this.getX=function(e,t){return f=W.asin((e-s[1])/(s[2]/2+h)),s[0]+(t?-1:1)*G(f)*(s[2]/2+h)};for(d=0;d<v;d++)m=l[d],e+=p&&!m.visible?0:m.y;for(d=0;d<v;d++){m=l[d],n=e?m.y/e:0,u=X(t*c*1e3)/1e3;if(!p||m.visible)t+=n;a=X(t*c*1e3)/1e3,m.shapeType="arc",m.shapeArgs={x:s[0],y:s[1],r:s[2]/2,innerR:s[3]/2,start:u,end:a},f=(a+u)/2,m.slicedTranslation=en([G(f)*r+o.plotLeft,Y(f)*r+o.plotTop],X),u=G(f)*s[2]/2,a=Y(f)*s[2]/2,m.tooltipPos=[s[0]+u*.7,s[1]+a*.7],m.labelPos=[s[0]+u+G(f)*h,s[1]+a+Y(f)*h,s[0]+u+G(f)*i,s[1]+a+Y(f)*i,s[0]+u,s[1]+a,h<0?"center":f<c/4?"left":"right",f],m.percentage=n*100,m.total=e}this.setTooltipPoints()},render:function(){this.getAttribs(),this.drawPoints(),this.options.enableMouseTracking!==!1&&this.drawTracker(),this.drawDataLabels(),this.options.animation&&this.animate&&this.animate(),this.isDirty=!1},drawPoints:function(){var t=this,n=t.chart,r=n.renderer,i,s,o,u=t.options.shadow,a,f;Gt(t.points,function(l){s=l.graphic,f=l.shapeArgs,o=l.group,a=l.shadowGroup,u&&!a&&(a=l.shadowGroup=r.g("shadow").attr({zIndex:4}).add()),o||(o=l.group=r.g("point").attr({zIndex:5}).add()),i=l.sliced?l.slicedTranslation:[n.plotLeft,n.plotTop],o.translate(i[0],i[1]),a&&a.translate(i[0],i[1]),s?s.animate(f):l.graphic=s=r.arc(f).setRadialReference(t.center).attr(e(l.pointAttr[""],{"stroke-linejoin":"round"})).add(l.group).shadow(u,a),l.visible===!1&&l.setVisible(!1)})},drawDataLabels:function(){var e=this.data,t,n=this.chart,r=this.options.dataLabels,i=p(r.connectorPadding,10),s=p(r.connectorWidth,1),o,u,a=p(r.softConnector,!0),f=r.distance,l=this.center,c=l[2]/2,h=l[1],d=f>0,v=[[],[]],m,g,y,b,w=2,E;if(r.enabled||this._hasPointLabels){gn.prototype.drawDataLabels.apply(this),Gt(e,function(e){e.dataLabel&&v[e.labelPos[7]<Z/2?0:1].push(e)}),v[1].reverse(),b=function(e,t){return t.y-e.y};for(e=v[0][0]&&v[0][0].dataLabel&&(v[0][0].dataLabel.getBBox().height||21);w--;){var S=[],x=[],T=v[w],N=T.length,C;if(f>0){for(E=h-c-f;E<=h+c+f;E+=e)S.push(E);y=S.length;if(N>y){u=[].concat(T),u.sort(b);for(E=N;E--;)u[E].rank=E;for(E=N;E--;)T[E].rank>=y&&T.splice(E,1);N=T.length}for(E=0;E<N;E++){t=T[E],u=t.labelPos,t=9999;for(g=0;g<y;g++)o=Q(S[g]-u[1]),o<t&&(t=o,C=g);if(C<E&&S[E]!==null)C=E;else for(y<N-E+C&&S[E]!==null&&(C=y-N+E);S[C]===null;)C++;x.push({i:C,y:S[C]}),S[C]=null}x.sort(b)}for(E=0;E<N;E++){t=T[E],u=t.labelPos,o=t.dataLabel,y=t.visible===!1?"hidden":"visible",m=u[1];if(f>0){if(g=x.pop(),C=g.i,g=g.y,m>g&&S[C+1]!==null||m<g&&S[C-1]!==null)g=m}else g=m;m=r.justify?l[0]+(w?-1:1)*(c+f):this.getX(C===0||C===S.length-1?m:g,w),o.attr({visibility:y,align:u[6]})[o.moved?"animate":"attr"]({x:m+r.x+({left:i,right:-i}[u[6]]||0),y:g+r.y-10}),o.moved=!0,d&&s&&(o=t.connector,u=a?["M",m+(u[6]==="left"?5:-5),g,"C",m,g,2*u[2]-u[4],2*u[3]-u[5],u[2],u[3],"L",u[4],u[5]]:["M",m+(u[6]==="left"?5:-5),g,"L",u[2],u[3],"L",u[4],u[5]],o?(o.animate({d:u}),o.attr("visibility",y)):t.connector=o=this.chart.renderer.path(u).attr({"stroke-width":s,stroke:r.connectorColor||t.color||"#606060",visibility:y,zIndex:3}).translate(n.plotLeft,n.plotTop).add())}}}},alignDataLabel:Et,drawTracker:pn.prototype.drawTracker,drawLegendSymbol:$t.prototype.drawLegendSymbol,getSymbol:function(){}},Et=m(gn,Et),Xt.pie=Et,e(Highcharts,{Axis:B,CanVGRenderer:dn,Chart:q,Color:ln,Legend:I,MouseTracker:F,Point:mn,Tick:D,Tooltip:j,Renderer:ct,Series:gn,SVGRenderer:cn,VMLRenderer:hn,dateFormat:gt,pathAnim:bt,getOptions:function(){return mt},hasBidiBug:ft,numberFormat:g,seriesTypes:Xt,setOptions:function(e){return mt=tn(mt,e),M(),mt},addEvent:nn,removeEvent:rn,createElement:v,discardElement:k,css:d,each:Gt,extend:e,map:en,merge:tn,pick:p,splat:h,extendClass:m,pInt:n,wrap:function(e,t,n){var r=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(r),n.apply(this,e)}},svg:at,canvas:lt,vml:!at&&!lt,product:"Highcharts",version:"2.3.3"})}(),function(e){typeof define=="function"&&define.amd?define(["jquery"],e):e(jQuery)}(function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n=0,r;(r=t[n])!=null;n++)try{e(r).triggerHandler("remove")}catch(s){}i(t)},e.widget=function(t,n,r){var i,s,o,u,a=t.split(".")[0];t=t.split(".")[1],i=a+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[a]=e[a]||{},s=e[a][t],o=e[a][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),u=new n,u.options=e.widget.extend({},u.options),e.each(r,function(t,i){e.isFunction(i)&&(r[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)};return function(){var t=this._super,n=this._superApply,s;return this._super=e,this._superApply=r,s=i.apply(this,arguments),this._super=t,this._superApply=n,s}}())}),o.prototype=e.widget.extend(u,{widgetEventPrefix:u.widgetEventPrefix||t},r,{constructor:o,namespace:a,widgetName:t,widgetBaseClass:i,widgetFullName:i}),s?(e.each(s._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o)},e.widget.extend=function(n){var i=r.call(arguments,1),s=0,o=i.length,u,a;for(;s<o;s++)for(u in i[s])a=i[s][u],i[s].hasOwnProperty(u)&&a!==t&&(e.isPlainObject(a)?n[u]=e.isPlainObject(n[u])?e.widget.extend({},n[u],a):e.widget.extend({},a):n[u]=a);return n},e.widget.bridge=function(n,i){var s=i.prototype.widgetFullName;e.fn[n]=function(o){var u=typeof o=="string",a=r.call(arguments,1),f=this;return o=!u&&a.length?e.widget.extend.apply(null,[o].concat(a)):o,u?this.each(function(){var r,i=e.data(this,s);if(!i)return e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+o+"'");if(!e.isFunction(i[o])||o.charAt(0)==="_")return e.error("no such method '"+o+"' for "+n+" widget instance");r=i[o].apply(i,a);if(r!==i&&r!==t)return f=r&&r.jquery?f.pushStack(r.get()):r,!1}):this.each(function(){var t=e.data(this,s);t?t.option(o||{})._init():new i(o,this)}),f}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetName,this),e.data(r,this.widgetFullName,this),this._on(this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i=n,s,o,u;if(arguments.length===0)return e.widget.extend({},this.options);if(typeof n=="string"){i={},s=n.split("."),n=s.shift();if(s.length){o=i[n]=e.widget.extend({},this.options[n]);for(u=0;u<s.length-1;u++)o[s[u]]=o[s[u]]||{},o=o[s[u]];n=s.pop();if(r===t)return o[n]===t?null:o[n];o[n]=r}else{if(r===t)return this.options[n]===t?null:this.options[n];i[n]=r}}return this._setOptions(i),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,e==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n){var r,i=this;n?(t=r=e(t),this.bindings=this.bindings.add(t)):(n=t,t=this.element,r=this.widget()),e.each(n,function(n,s){function o(){if(i.options.disabled===!0||e(this).hasClass("ui-state-disabled"))return;return(typeof s=="string"?i[s]:s).apply(i,arguments)}typeof s!="string"&&(o.guid=s.guid=s.guid||o.guid||e.guid++);var u=n.match(/^(\w+)\s*(.*)$/),a=u[1]+i.eventNamespace,f=u[2];f?r.delegate(f,a,o):t.bind(a,o)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return(typeof e=="string"?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent;if(s)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){typeof i=="string"&&(i={effect:i});var o,u=i?i===!0||typeof i=="number"?n:i.effect||n:t;i=i||{},typeof i=="number"&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&(e.effects.effect[u]||e.uiBackCompat!==!1&&e.effects[u])?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}}),e.uiBackCompat!==!1&&(e.Widget.prototype._getCreateOptions=function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]})}),function(e){"use strict";var t=function(e,n,r){var i=document.createElement("img"),s,o;return i.onerror=n,i.onload=function(){o&&(!r||!r.noRevoke)&&t.revokeObjectURL(o),n(t.scale(i,r))},window.Blob&&e instanceof Blob||window.File&&e instanceof File?s=o=t.createObjectURL(e):s=e,s?(i.src=s,i):t.readFile(e,function(e){i.src=e})},n=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;t.scale=function(e,t){t=t||{};var n=document.createElement("canvas"),r=e.width,i=e.height,s=Math.max((t.minWidth||r)/r,(t.minHeight||i)/i);return s>1&&(r=parseInt(r*s,10),i=parseInt(i*s,10)),s=Math.min((t.maxWidth||r)/r,(t.maxHeight||i)/i),s<1&&(r=parseInt(r*s,10),i=parseInt(i*s,10)),e.getContext||t.canvas&&n.getContext?(n.width=r,n.height=i,n.getContext("2d").drawImage(e,0,0,r,i),n):(e.width=r,e.height=i,e)},t.createObjectURL=function(e){return n?n.createObjectURL(e):!1},t.revokeObjectURL=function(e){return n?n.revokeObjectURL(e):!1},t.readFile=function(e,t){if(window.FileReader&&FileReader.prototype.readAsDataURL){var n=new FileReader;return n.onload=function(e){t(e.target.result)},n.readAsDataURL(e),n}return!1},typeof define=="function"&&define.amd?define(function(){return t}):e.loadImage=t}(this),function(e){"use strict";var t=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,n=e.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),r=n&&e.Uint8Array&&function(){try{return(new Blob([new Uint8Array(100)])).size===100}catch(e){return!1}}(),i=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,s=(n||i)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(e){var t,s,o,u,a,f;e.split(",")[0].indexOf("base64")>=0?t=atob(e.split(",")[1]):t=decodeURIComponent(e.split(",")[1]),s=new ArrayBuffer(t.length),o=new Uint8Array(s);for(u=0;u<t.length;u+=1)o[u]=t.charCodeAt(u);return a=e.split(",")[0].split(":")[1].split(";")[0],n?new Blob([r?o:s],{type:a}):(f=new i,f.append(s),f.getBlob(a))};e.HTMLCanvasElement&&!t.toBlob&&(t.mozGetAsFile?t.toBlob=function(e,t){e(this.mozGetAsFile("blob",t))}:t.toDataURL&&s&&(t.toBlob=function(e,t){e(s(this.toDataURL(t)))})),typeof define=="function"&&define.amd?define(function(){return s}):e.dataURLtoBlob=s}(this),function(e){"use strict";var t=function(e,n){var r=/[^\w\-\.:]/.test(e)?new Function(t.arg+",tmpl","var _e=tmpl.encode"+t.helper+",_s='"+e.replace(t.regexp,t.func)+"';return _s;"):t.cache[e]=t.cache[e]||t(t.load(e));return n?r(n,t):function(e){return r(e,t)}};t.cache={},t.load=function(e){return document.getElementById(e).innerHTML},t.regexp=/([\s'\\])(?![^%]*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g,t.func=function(e,t,n,r,i,s){if(t)return{"\n":"\\n","\r":"\\r","	":"\\t"," ":" "}[e]||"\\"+e;if(n)return n==="="?"'+_e("+r+")+'":"'+("+r+"||'')+'";if(i)return"';";if(s)return"_s+='"},t.encReg=/[<>&"'\x00]/g,t.encMap={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"},t.encode=function(e){return String(e||"").replace(t.encReg,function(e){return t.encMap[e]||""})},t.arg="o",t.helper=",print=function(s,e){_s+=e&&(s||'')||_e(s);},include=function(s,d){_s+=tmpl(s,d);}",typeof define=="function"&&define.amd?define(function(){return t}):e.tmpl=t}(this),function(e){"use strict";typeof define=="function"&&define.amd?define(["jquery"],e):e(window.jQuery)}(function(e){"use strict";var t=0;e.ajaxTransport("iframe",function(n){if(n.async&&(n.type==="POST"||n.type==="GET")){var r,i;return{send:function(s,o){r=e('<form style="display:none;"></form>'),r.attr("accept-charset",n.formAcceptCharset),i=e('<iframe src="javascript:false;" name="iframe-transport-'+(t+=1)+'"></iframe>').bind("load",function(){var t,s=e.isArray(n.paramName)?n.paramName:[n.paramName];i.unbind("load").bind("load",function(){var t;try{t=i.contents();if(!t.length||!t[0].firstChild)throw new Error}catch(n){t=undefined}o(200,"success",{iframe:t}),e('<iframe src="javascript:false;"></iframe>').appendTo(r),r.remove()}),r.prop("target",i.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&(e.each(n.formData,function(t,n){e('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(r)}),e('<input type="hidden" />').prop("name","X-Requested-With").val("IFrame").appendTo(r)),n.fileInput&&n.fileInput.length&&n.type==="POST"&&(t=n.fileInput.clone(),n.fileInput.after(function(e){return t[e]}),n.paramName&&n.fileInput.each(function(t){e(this).prop("name",s[t]||n.paramName)}),r.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data")),r.submit(),t&&t.length&&n.fileInput.each(function(n,r){var i=e(t[n]);e(r).prop("name",i.prop("name")),i.replaceWith(r)})}),r.append(i).appendTo(document.body)},abort:function(){i&&i.unbind("load").prop("src","javascript".concat(":false;")),r&&r.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(t){return e(t[0].body).text()},"iframe json":function(t){return e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return e(t[0].body).html()},"iframe script":function(t){return e.globalEval(e(t[0].body).text())}}})}),function(e){"use strict";typeof define=="function"&&define.amd?define(["jquery","jquery.ui.widget"],e):e(window.jQuery)}(function(e){"use strict";e.support.xhrFileUpload=!!window.XMLHttpRequestUpload&&!!window.FileReader,e.support.xhrFormDataFileUpload=!!window.FormData,e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:e(document),fileInput:undefined,replaceFileInput:!0,paramName:undefined,singleFileUploads:!0,limitMultiFileUploads:undefined,sequentialUploads:!1,limitConcurrentUploads:undefined,forceIframeTransport:!1,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:!0,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,formData:function(e){return e.serializeArray()},add:function(e,t){t.submit()},processData:!1,contentType:!1,cache:!1},_refreshOptionsList:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_BitrateTimer:function(){this.timestamp=+(new Date),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var r=e-this.timestamp;if(!this.bitrate||!n||r>n)this.bitrate=(t-this.loaded)*(1e3/r)*8,this.loaded=t,this.timestamp=e;return this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return typeof t.formData=="function"?t.formData(t.form):e.isArray(t.formData)?t.formData:t.formData?(n=[],e.each(t.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(t){var n=0;return e.each(t,function(e,t){n+=t.size||1}),n},_onProgress:function(e,t){if(e.lengthComputable){var n=+(new Date),r,i;if(t._time&&t.progressInterval&&n-t._time<t.progressInterval&&e.loaded!==e.total)return;t._time=n,r=t.total||this._getTotal(t.files),i=parseInt(e.loaded/e.total*(t.chunkSize||r),10)+(t.uploadedBytes||0),this._loaded+=i-(t.loaded||t.uploadedBytes||0),t.lengthComputable=!0,t.loaded=i,t.total=r,t.bitrate=t._bitrateTimer.getBitrate(n,i,t.bitrateInterval),this._trigger("progress",e,t),this._trigger("progressall",e,{lengthComputable:!0,loaded:this._loaded,total:this._total,bitrate:this._bitrateTimer.getBitrate(n,this._loaded,t.bitrateInterval)})}},_initProgressListener:function(t){var n=this,r=t.xhr?t.xhr():e.ajaxSettings.xhr();r.upload&&(e(r.upload).bind("progress",function(e){var r=e.originalEvent;e.lengthComputable=r.lengthComputable,e.loaded=r.loaded,e.total=r.total,n._onProgress(e,t)}),t.xhr=function(){return r})},_initXHRData:function(t){var n,r=t.files[0],i=t.multipart||!e.support.xhrFileUpload,s=t.paramName[0];t.headers=t.headers||{},t.contentRange&&(t.headers["Content-Range"]=t.contentRange),i?e.support.xhrFormDataFileUpload&&(t.postMessage?(n=this._getFormData(t),t.blob?n.push({name:s,value:t.blob}):e.each(t.files,function(e,r){n.push({name:t.paramName[e]||s,value:r})})):(t.formData instanceof FormData?n=t.formData:(n=new FormData,e.each(this._getFormData(t),function(e,t){n.append(t.name,t.value)})),t.blob?(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(r.name)+'"',t.headers["Content-Description"]=encodeURI(r.type),n.append(s,t.blob,r.name)):e.each(t.files,function(e,r){r instanceof Blob&&n.append(t.paramName[e]||s,r,r.name)})),t.data=n):(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(r.name)+'"',t.contentType=r.type,t.data=t.blob||r),t.blob=null},_initIframeSettings:function(t){t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&e("<a></a>").prop("href",t.url).prop("host")!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e,"iframe")},_getParamName:function(t){var n=e(t.fileInput),r=t.paramName;return r?e.isArray(r)||(r=[r]):(r=[],n.each(function(){var t=e(this),n=t.prop("name")||"files[]",i=(t.prop("files")||[1]).length;while(i)r.push(n),i-=1}),r.length||(r=[n.prop("name")||"files[]"])),r},_initFormSettings:function(t){if(!t.form||!t.form.length)t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")));t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||t.form.prop("method")||"").toUpperCase(),t.type!=="POST"&&t.type!=="PUT"&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var n=e.extend({},this.options,t);return this._initFormSettings(n),this._initDataSettings(n),n},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,n,r){var i=e.Deferred(),s=i.promise();return n=n||this.options.context||s,t===!0?i.resolveWith(n,r):t===!1&&i.rejectWith(n,r),s.abort=i.promise,this._enhancePromise(s)},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),r=n&&n.length>1&&parseInt(n[1],10);return r&&r+1},_chunkedUpload:function(t,n){var r=this,i=t.files[0],s=i.size,o=t.uploadedBytes=t.uploadedBytes||0,u=t.maxChunkSize||s,a=i.slice||i.webkitSlice||i.mozSlice,f=e.Deferred(),l=f.promise(),c,h;return!(this._isXHRUpload(t)&&a&&(o||u<s))||t.data?!1:n?!0:o>=s?(i.error="Uploaded bytes exceed file size",this._getXHRPromise(!1,t.context,[null,"error",i.error])):(h=function(n){var l=e.extend({},t);l.blob=a.call(i,o,o+u),l.chunkSize=l.blob.size,l.contentRange="bytes "+o+"-"+(o+l.chunkSize-1)+"/"+s,r._initXHRData(l),r._initProgressListener(l),c=(e.ajax(l)||r._getXHRPromise(!1,l.context)).done(function(n,i,u){o=r._getUploadedBytes(u)||o+l.chunkSize,l.loaded||r._onProgress(e.Event("progress",{lengthComputable:!0,loaded:o-l.uploadedBytes,total:o-l.uploadedBytes}),l),t.uploadedBytes=l.uploadedBytes=o,o<s?h():f.resolveWith(l.context,[n,i,u])}).fail(function(e,t,n){f.rejectWith(l.context,[e,t,n])})},this._enhancePromise(l),l.abort=function(){return c.abort()},h(),l)},_beforeSend:function(e,t){this._active===0&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer),this._active+=1,this._loaded+=t.uploadedBytes||0,this._total+=this._getTotal(t.files)},_onDone:function(t,n,r,i){this._isXHRUpload(i)||this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:1,total:1}),i),i.result=t,i.textStatus=n,i.jqXHR=r,this._trigger("done",null,i)},_onFail:function(e,t,n,r){r.jqXHR=e,r.textStatus=t,r.errorThrown=n,this._trigger("fail",null,r),r.recalculateProgress&&(this._loaded-=r.loaded||r.uploadedBytes||0,this._total-=r.total||this._getTotal(r.files))},_onAlways:function(e,t,n,r){this._active-=1,r.textStatus=t,n&&n.always?(r.jqXHR=n,r.result=e):(r.jqXHR=e,r.errorThrown=n),this._trigger("always",null,r),this._active===0&&(this._trigger("stop"),this._loaded=this._total=0,this._bitrateTimer=null)},_onSend:function(t,n){var r=this,i,s,o,u,a=r._getAJAXSettings(n),f=function(){return r._sending+=1,a._bitrateTimer=new r._BitrateTimer,i=i||((s||r._trigger("send",t,a)===!1)&&r._getXHRPromise(!1,a.context,s)||r._chunkedUpload(a)||e.ajax(a)).done(function(e,t,n){r._onDone(e,t,n,a)}).fail(function(e,t,n){r._onFail(e,t,n,a)}).always(function(e,t,n){r._sending-=1,r._onAlways(e,t,n,a);if(a.limitConcurrentUploads&&a.limitConcurrentUploads>r._sending){var i=r._slots.shift(),s;while(i){s=i.state?i.state()==="pending":!i.isRejected();if(s){i.resolve();break}i=r._slots.shift()}}}),i};return this._beforeSend(t,a),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=e.Deferred(),this._slots.push(o),u=o.pipe(f)):u=this._sequence=this._sequence.pipe(f,f),u.abort=function(){return s=[undefined,"abort","abort"],i?i.abort():(o&&o.rejectWith(a.context,s),f())},this._enhancePromise(u)):f()},_onAdd:function(t,n){var r=this,i=!0,s=e.extend({},this.options,n),o=s.limitMultiFileUploads,u=this._getParamName(s),a,f,l,c;if(!s.singleFileUploads&&!o||!this._isXHRUpload(s))l=[n.files],a=[u];else if(!s.singleFileUploads&&o){l=[],a=[];for(c=0;c<n.files.length;c+=o)l.push(n.files.slice(c,c+o)),f=u.slice(c,c+o),f.length||(f=u),a.push(f)}else a=u;return n.originalFiles=n.files,e.each(l||n.files,function(s,o){var u=e.extend({},n);return u.files=l?o:[o],u.paramName=a[s],u.submit=function(){return u.jqXHR=this.jqXHR=r._trigger("submit",t,this)!==!1&&r._onSend(t,this),this.jqXHR},i=r._trigger("add",t,u)}),i},_replaceFileInput:function(t){var n=t.clone(!0);e("<form></form>").append(n)[0].reset(),t.after(n).detach(),e.cleanData(t.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,r){return r===t[0]?n[0]:r}),t[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(t,n){var r=this,i=e.Deferred(),s=function(e){e&&!e.entry&&(
e.entry=t),i.resolve([e])},o;return n=n||"",t.isFile?t._file?(t._file.relativePath=n,i.resolve(t._file)):t.file(function(e){e.relativePath=n,i.resolve(e)},s):t.isDirectory?(o=t.createReader(),o.readEntries(function(e){r._handleFileTreeEntries(e,n+t.name+"/").done(function(e){i.resolve(e)}).fail(s)},s)):i.resolve([]),i.promise()},_handleFileTreeEntries:function(t,n){var r=this;return e.when.apply(e,e.map(t,function(e){return r._handleFileTreeEntry(e,n)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var n=t.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(e.map(n,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var n=t.prop("webkitEntries")||t.prop("entries"),r,i;if(n&&n.length)return this._handleFileTreeEntries(n);r=e.makeArray(t.prop("files"));if(!r.length){i=t.prop("value");if(!i)return e.Deferred().resolve([]).promise();r=[{name:i.replace(/^.*\\/,"")}]}else r[0].name===undefined&&r[0].fileName&&e.each(r,function(e,t){t.name=t.fileName,t.size=t.fileSize});return e.Deferred().resolve(r).promise()},_getFileInputFiles:function(t){return t instanceof e&&t.length!==1?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var n=this,r={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(r.fileInput).always(function(e){r.files=e,n.options.replaceFileInput&&n._replaceFileInput(r.fileInput),n._trigger("change",t,r)!==!1&&n._onAdd(t,r)})},_onPaste:function(t){var n=t.originalEvent.clipboardData,r=n&&n.items||[],i={files:[]};e.each(r,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&i.files.push(n)});if(this._trigger("paste",t,i)===!1||this._onAdd(t,i)===!1)return!1},_onDrop:function(e){e.preventDefault();var t=this,n=e.dataTransfer=e.originalEvent.dataTransfer,r={};this._getDroppedFiles(n).always(function(n){r.files=n,t._trigger("drop",e,r)!==!1&&t._onAdd(e,r)})},_onDragOver:function(e){var t=e.dataTransfer=e.originalEvent.dataTransfer;if(this._trigger("dragover",e)===!1)return!1;t&&(t.dropEffect="copy"),e.preventDefault()},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,n){var r=e.inArray(t,this._refreshOptionsList)!==-1;r&&this._destroyEventHandlers(),this._super(t,n),r&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;t.fileInput===undefined?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_create:function(){var t=this.options;e.extend(t,e(this.element[0].cloneNode(!1)).data()),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=this._loaded=this._total=0,this._initEventHandlers()},_destroy:function(){this._destroyEventHandlers()},add:function(t){var n=this;if(!t||this.options.disabled)return;t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,n._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n=this,r=e.Deferred(),i=r.promise(),s,o;return i.abort=function(){return o=!0,s?s.abort():(r.reject(null,"abort","abort"),i)},this._getFileInputFiles(t.fileInput).always(function(e){if(o)return;t.files=e,s=n._onSend(null,t).then(function(e,t,n){r.resolve(e,t,n)},function(e,t,n){r.reject(e,t,n)})}),this._enhancePromise(i)}t.files=e.makeArray(t.files);if(t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),function(e){"use strict";typeof define=="function"&&define.amd?define(["jquery","load-image","canvas-to-blob","./jquery.fileupload"],e):e(window.jQuery,window.loadImage)}(function(e,t){"use strict";e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{process:[],add:function(t,n){e(this).fileupload("process",n).done(function(){n.submit()})}},processActions:{load:function(n,r){var i=this,s=n.files[n.index],o=e.Deferred();return window.HTMLCanvasElement&&window.HTMLCanvasElement.prototype.toBlob&&(e.type(r.maxFileSize)!=="number"||s.size<r.maxFileSize)&&(!r.fileTypes||r.fileTypes.test(s.type))?t(s,function(e){if(!e.src)return o.rejectWith(i,[n]);n.img=e,o.resolveWith(i,[n])}):o.rejectWith(i,[n]),o.promise()},resize:function(n,r){var i=n.img,s;r=e.extend({canvas:!0},r);if(i){s=t.scale(i,r);if(s.width!==i.width||s.height!==i.height)n.canvas=s}return n},save:function(t,n){if(!t.canvas)return t;var r=this,i=t.files[t.index],s=i.name,o=e.Deferred(),u=function(e){e.name||(i.type===e.type?e.name=i.name:i.name&&(e.name=i.name.replace(/\..+$/,"."+e.type.substr(6)))),t.files[t.index]=e,o.resolveWith(r,[t])};return t.canvas.mozGetAsFile?u(t.canvas.mozGetAsFile(/^image\/(jpeg|png)$/.test(i.type)&&s||(s&&s.replace(/\..+$/,"")||"blob")+".png",i.type)):t.canvas.toBlob(u,i.type),o.promise()}},_processFile:function(t,n,r){var i=this,s=e.Deferred().resolveWith(i,[{files:t,index:n}]),o=s.promise();return i._processing+=1,e.each(r.process,function(e,t){o=o.pipe(function(e){return i.processActions[t.action].call(this,e,t)})}),o.always(function(){i._processing-=1,i._processing===0&&i.element.removeClass("fileupload-processing")}),i._processing===1&&i.element.addClass("fileupload-processing"),o},process:function(t){var n=this,r=e.extend({},this.options,t);return r.process&&r.process.length&&this._isXHRUpload(r)&&e.each(t.files,function(i,s){n._processingQueue=n._processingQueue.pipe(function(){var s=e.Deferred();return n._processFile(t.files,i,r).always(function(){s.resolveWith(n)}),s.promise()})}),this._processingQueue},_create:function(){this._super(),this._processing=0,this._processingQueue=e.Deferred().resolveWith(this).promise()}})}),function(e){"use strict";typeof define=="function"&&define.amd?define(["jquery","tmpl","load-image","./jquery.fileupload-fp"],e):e(window.jQuery,window.tmpl,window.loadImage)}(function(e,t,n){"use strict";e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{autoUpload:!1,maxNumberOfFiles:undefined,maxFileSize:undefined,minFileSize:undefined,acceptFileTypes:/.+$/i,previewSourceFileTypes:/^image\/(gif|jpeg|png)$/,previewSourceMaxFileSize:5e6,previewMaxWidth:80,previewMaxHeight:80,previewAsCanvas:!0,uploadTemplateId:"template-upload",downloadTemplateId:"template-download",filesContainer:undefined,prependFiles:!1,dataType:"json",add:function(t,n){var r=e(this).data("fileupload"),i=r.options,s=n.files;e(this).fileupload("process",n).done(function(){r._adjustMaxNumberOfFiles(-s.length),n.maxNumberOfFilesAdjusted=!0,n.files.valid=n.isValidated=r._validate(s),n.context=r._renderUpload(s).data("data",n),i.filesContainer[i.prependFiles?"prepend":"append"](n.context),r._renderPreviews(s,n.context),r._forceReflow(n.context),r._transition(n.context).done(function(){r._trigger("added",t,n)!==!1&&(i.autoUpload||n.autoUpload)&&n.autoUpload!==!1&&n.isValidated&&n.submit()})})},send:function(t,n){var r=e(this).data("fileupload");if(!n.isValidated){n.maxNumberOfFilesAdjusted||(r._adjustMaxNumberOfFiles(-n.files.length),n.maxNumberOfFilesAdjusted=!0);if(!r._validate(n.files))return!1}return n.context&&n.dataType&&n.dataType.substr(0,6)==="iframe"&&n.context.find(".progress").addClass(!e.support.transition&&"progress-animated").attr("aria-valuenow",100).find(".bar").css("width","100%"),r._trigger("sent",t,n)},done:function(t,n){var r=e(this).data("fileupload"),i;n.context?n.context.each(function(s){var o=e.isArray(n.result)&&n.result[s]||{error:"Empty file upload result"};o.error&&r._adjustMaxNumberOfFiles(1),r._transition(e(this)).done(function(){var s=e(this);i=r._renderDownload([o]).replaceAll(s),r._forceReflow(i),r._transition(i).done(function(){n.context=e(this),r._trigger("completed",t,n)})})}):(e.isArray(n.result)&&(e.each(n.result,function(e,t){n.maxNumberOfFilesAdjusted&&t.error?r._adjustMaxNumberOfFiles(1):!n.maxNumberOfFilesAdjusted&&!t.error&&r._adjustMaxNumberOfFiles(-1)}),n.maxNumberOfFilesAdjusted=!0),i=r._renderDownload(n.result).appendTo(r.options.filesContainer),r._forceReflow(i),r._transition(i).done(function(){n.context=e(this),r._trigger("completed",t,n)}))},fail:function(t,n){var r=e(this).data("fileupload"),i;n.maxNumberOfFilesAdjusted&&r._adjustMaxNumberOfFiles(n.files.length),n.context?n.context.each(function(s){if(n.errorThrown!=="abort"){var o=n.files[s];o.error=o.error||n.errorThrown||!0,r._transition(e(this)).done(function(){var s=e(this);i=r._renderDownload([o]).replaceAll(s),r._forceReflow(i),r._transition(i).done(function(){n.context=e(this),r._trigger("failed",t,n)})})}else r._transition(e(this)).done(function(){e(this).remove(),r._trigger("failed",t,n)})}):n.errorThrown!=="abort"?(n.context=r._renderUpload(n.files).appendTo(r.options.filesContainer).data("data",n),r._forceReflow(n.context),r._transition(n.context).done(function(){n.context=e(this),r._trigger("failed",t,n)})):r._trigger("failed",t,n)},progress:function(e,t){if(t.context){var n=parseInt(t.loaded/t.total*100,10);t.context.find(".progress").attr("aria-valuenow",n).find(".bar").css("width",n+"%")}},progressall:function(t,n){var r=e(this),i=parseInt(n.loaded/n.total*100,10),s=r.find(".fileupload-progress"),o=s.find(".progress-extended");o.length&&o.html(r.data("fileupload")._renderExtendedProgress(n)),s.find(".progress").attr("aria-valuenow",i).find(".bar").css("width",i+"%")},start:function(t){var n=e(this).data("fileupload");n._transition(e(this).find(".fileupload-progress")).done(function(){n._trigger("started",t)})},stop:function(t){var n=e(this).data("fileupload");n._transition(e(this).find(".fileupload-progress")).done(function(){e(this).find(".progress").attr("aria-valuenow","0").find(".bar").css("width","0%"),e(this).find(".progress-extended").html("&nbsp;"),n._trigger("stopped",t)})},destroy:function(t,n){var r=e(this).data("fileupload");n.url&&(e.ajax(n),r._adjustMaxNumberOfFiles(1)),r._transition(n.context).done(function(){e(this).remove(),r._trigger("destroyed",t,n)})}},_enableDragToDesktop:function(){var t=e(this),n=t.prop("href"),r=t.prop("download"),i="application/octet-stream";t.bind("dragstart",function(e){try{e.originalEvent.dataTransfer.setData("DownloadURL",[i,r,n].join(":"))}catch(t){}})},_adjustMaxNumberOfFiles:function(e){typeof this.options.maxNumberOfFiles=="number"&&(this.options.maxNumberOfFiles+=e,this.options.maxNumberOfFiles<1?this._disableFileInputButton():this._enableFileInputButton())},_formatFileSize:function(e){return typeof e!="number"?"":e>=1e9?(e/1e9).toFixed(2)+" GB":e>=1e6?(e/1e6).toFixed(2)+" MB":(e/1e3).toFixed(2)+" KB"},_formatBitrate:function(e){return typeof e!="number"?"":e>=1e9?(e/1e9).toFixed(2)+" Gbit/s":e>=1e6?(e/1e6).toFixed(2)+" Mbit/s":e>=1e3?(e/1e3).toFixed(2)+" kbit/s":e+" bit/s"},_formatTime:function(e){var t=new Date(e*1e3),n=parseInt(e/86400,10);return n=n?n+"d ":"",n+("0"+t.getUTCHours()).slice(-2)+":"+("0"+t.getUTCMinutes()).slice(-2)+":"+("0"+t.getUTCSeconds()).slice(-2)},_formatPercentage:function(e){return(e*100).toFixed(2)+" %"},_renderExtendedProgress:function(e){return this._formatBitrate(e.bitrate)+" | "+this._formatTime((e.total-e.loaded)*8/e.bitrate)+" | "+this._formatPercentage(e.loaded/e.total)+" | "+this._formatFileSize(e.loaded)+" / "+this._formatFileSize(e.total)},_hasError:function(e){return e.error?e.error:this.options.maxNumberOfFiles<0?"Maximum number of files exceeded":!this.options.acceptFileTypes.test(e.type)&&!this.options.acceptFileTypes.test(e.name)?"Filetype not allowed":this.options.maxFileSize&&e.size>this.options.maxFileSize?"File is too big":typeof e.size=="number"&&e.size<this.options.minFileSize?"File is too small":null},_validate:function(t){var n=this,r=!!t.length;return e.each(t,function(e,t){t.error=n._hasError(t),t.error&&(r=!1)}),r},_renderTemplate:function(t,n){if(!t)return e();var r=t({files:n,formatFileSize:this._formatFileSize,options:this.options});return r instanceof e?r:e(this.options.templatesContainer).html(r).children()},_renderPreview:function(t,r){var i=this,s=this.options,o=e.Deferred();return(n&&n(t,function(t){r.append(t),i._forceReflow(r),i._transition(r).done(function(){o.resolveWith(r)}),e.contains(i.document[0].body,r[0])||o.resolveWith(r)},{maxWidth:s.previewMaxWidth,maxHeight:s.previewMaxHeight,canvas:s.previewAsCanvas})||o.resolveWith(r))&&o},_renderPreviews:function(t,n){var r=this,i=this.options;return n.find(".preview span").each(function(n,s){var o=t[n];i.previewSourceFileTypes.test(o.type)&&(e.type(i.previewSourceMaxFileSize)!=="number"||o.size<i.previewSourceMaxFileSize)&&(r._processingQueue=r._processingQueue.pipe(function(){var t=e.Deferred();return r._renderPreview(o,e(s)).done(function(){t.resolveWith(r)}),t.promise()}))}),this._processingQueue},_renderUpload:function(e){return this._renderTemplate(this.options.uploadTemplate,e)},_renderDownload:function(e){return this._renderTemplate(this.options.downloadTemplate,e).find("a[download]").each(this._enableDragToDesktop).end()},_startHandler:function(t){t.preventDefault();var n=e(t.currentTarget),r=n.closest(".template-upload"),i=r.data("data");i&&i.submit&&!i.jqXHR&&i.submit()&&n.prop("disabled",!0)},_cancelHandler:function(t){t.preventDefault();var n=e(t.currentTarget).closest(".template-upload"),r=n.data("data")||{};r.jqXHR?r.jqXHR.abort():(r.errorThrown="abort",this._trigger("fail",t,r))},_deleteHandler:function(t){t.preventDefault();var n=e(t.currentTarget);this._trigger("destroy",t,e.extend({context:n.closest(".template-download"),type:"DELETE",dataType:this.options.dataType},n.data()))},_forceReflow:function(t){return e.support.transition&&t.length&&t[0].offsetWidth},_transition:function(t){var n=e.Deferred();return e.support.transition&&t.hasClass("fade")?t.bind(e.support.transition.end,function(r){r.target===t[0]&&(t.unbind(e.support.transition.end),n.resolveWith(t))}).toggleClass("in"):(t.toggleClass("in"),n.resolveWith(t)),n},_initButtonBarEventHandlers:function(){var t=this.element.find(".fileupload-buttonbar"),n=this.options.filesContainer;this._on(t.find(".start"),{click:function(e){e.preventDefault(),n.find(".start button").click()}}),this._on(t.find(".cancel"),{click:function(e){e.preventDefault(),n.find(".cancel button").click()}}),this._on(t.find(".delete"),{click:function(e){e.preventDefault(),n.find(".delete input:checked").siblings("button").click(),t.find(".toggle").prop("checked",!1)}}),this._on(t.find(".toggle"),{change:function(t){n.find(".delete input").prop("checked",e(t.currentTarget).is(":checked"))}})},_destroyButtonBarEventHandlers:function(){this._off(this.element.find(".fileupload-buttonbar button"),"click"),this._off(this.element.find(".fileupload-buttonbar .toggle"),"change.")},_initEventHandlers:function(){this._super(),this._on(this.options.filesContainer,{"click .start button":this._startHandler,"click .cancel button":this._cancelHandler,"click .delete button":this._deleteHandler}),this._initButtonBarEventHandlers()},_destroyEventHandlers:function(){this._destroyButtonBarEventHandlers(),this._off(this.options.filesContainer,"click"),this._super()},_enableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!1).parent().removeClass("disabled")},_disableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!0).parent().addClass("disabled")},_initTemplates:function(){var e=this.options;e.templatesContainer=this.document[0].createElement(e.filesContainer.prop("nodeName")),t&&(e.uploadTemplateId&&(e.uploadTemplate=t(e.uploadTemplateId)),e.downloadTemplateId&&(e.downloadTemplate=t(e.downloadTemplateId)))},_initFilesContainer:function(){var t=this.options;t.filesContainer===undefined?t.filesContainer=this.element.find(".files"):t.filesContainer instanceof e||(t.filesContainer=e(t.filesContainer))},_stringToRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),new RegExp(t.join("/"),n)},_initRegExpOptions:function(){var t=this.options;e.type(t.acceptFileTypes)==="string"&&(t.acceptFileTypes=this._stringToRegExp(t.acceptFileTypes)),e.type(t.previewSourceFileTypes)==="string"&&(t.previewSourceFileTypes=this._stringToRegExp(t.previewSourceFileTypes))},_initSpecialOptions:function(){this._super(),this._initFilesContainer(),this._initTemplates(),this._initRegExpOptions()},_create:function(){this._super(),this._refreshOptionsList.push("filesContainer","uploadTemplateId","downloadTemplateId"),this._processingQueue||(this._processingQueue=e.Deferred().resolveWith(this).promise(),this.process=function(){return this._processingQueue})},enable:function(){var e=!1;this.options.disabled&&(e=!0),this._super(),e&&(this.element.find("input, button").prop("disabled",!1),this._enableFileInputButton())},disable:function(){this.options.disabled||(this.element.find("input, button").prop("disabled",!0),this._disableFileInputButton()),this._super()}})}),window.locale={fileupload:{errors:{maxFileSize:"File is too big",minFileSize:"File is too small",acceptFileTypes:"Filetype not allowed",maxNumberOfFiles:"Max number of files exceeded",uploadedBytes:"Uploaded bytes exceed file size",emptyResult:"Empty file upload result"},error:"Error",start:"Start",cancel:"Cancel",destroy:"Delete"}},$(document).one("ready",function(){$(".iframe").colorbox({iframe:!0,width:"80%",height:"80%"}),$("a.gallery").colorbox({rel:"gallery"}),$("#loginModalButton").click(function(){$("#loginModal").reveal()}),$("#createEventModalButton").click(function(){return $("#createEventModal").reveal(),!1})});